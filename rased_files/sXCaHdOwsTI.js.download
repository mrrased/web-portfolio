if (self.CavalryLogger) { CavalryLogger.start_js(["7pvdL"]); }

__d("AdsAPIAdAssetFeedCarouselFields",[],(function(a,b,c,d,e,f){e.exports={MULTI_SHARE_END_CARD:"multi_share_end_card",MULTI_SHARE_OPTIMIZED:"multi_share_optimized",CHILD_ATTACHMENTS:"child_attachments",ADLABELS:"adlabels"}}),null);
__d("PACExisingPostDataManager",["AdsGraphAPI","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.convertPostToAssetFeedSpec=function(a,c,d){c=["asset_feed_spec_from_existing_post","object_story_id("+c+")","instagram_actor_id("+d+")"].join(".");return b("AdsGraphAPI").get(e.id).adaccount(a).get({fields:c}).then(function(a){return a.asset_feed_spec_from_existing_post},function(a){b("FBLogger")("ads").catching(a).mustfix("Fetching FB post to asset_feed_spec error");return a})};return a}();e.exports=new a()}),null);
__d("AdsAssetFeedSpecForPostProviderPlugin",["LoadObject","LoadObjectMap","PACExisingPostDataManager","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").createKeyed(function(c){c.forEach(function(c){b("promiseDone")(b("PACExisingPostDataManager").convertPostToAssetFeedSpec(c.accountID,c.objectStoryID,c.instagramActorID),function(d){a(function(a){return a.set(c,b("LoadObject").withValue(d))})},function(d){a(function(a){return a.set(c,b("LoadObject").withError(d))})}),a(function(a){return a.set(c,b("LoadObject").loading())})})},function(a){return[a.accountID,a.instagramActorID,a.objectStoryID].join(":")})}};e.exports=a}),null);
__d("AdsAssetFeedSpecForPostProvider",["Laminar","AdsAssetFeedSpecForPostProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAssetFeedSpecForPostProviderPlugin"),"AdsAssetFeedSpecForPostProviderPlugin")}),null);
__d("AdsBusinessInstagramAccountProvider",["Laminar","AdsBusinessInstagramAccountProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsBusinessInstagramAccountProviderPlugin"),"AdsBusinessInstagramAccountProviderPlugin")}),null);
__d("AdsInstagramAccountBusinessBatchLoadErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleErrors(b.errors)}};e.exports=a}),null);
__d("AdsInstagramAccountBusinessBatchLoadErrorDataAction",["Laminar","AdsInstagramAccountBusinessBatchLoadErrorDataReducerPlugin","AdsBusinessInstagramAccountProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsInstagramAccountBusinessBatchLoadErrorDataReducerPlugin"),b("AdsBusinessInstagramAccountProvider"),{},"")]},function(){return[]},"AdsInstagramAccounts.BUSINESS.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountBusinessBatchLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.specs)}};e.exports=a}),null);
__d("AdsInstagramAccountBusinessBatchLoadedDataAction",["Laminar","AdsInstagramAccountBusinessBatchLoadedDataReducerPlugin","AdsBusinessInstagramAccountProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsInstagramAccountBusinessBatchLoadedDataReducerPlugin"),b("AdsBusinessInstagramAccountProvider"),{},"")]},function(){return[]},"AdsInstagramAccounts.BUSINESS.BATCH_LOADED");e.exports=a}),null);
__d("AdsBusinessInstagramAccountDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountBusinessBatchLoadedDataAction","AdsInstagramAccountBusinessBatchLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("instagram_accounts").batched().get({fields:["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_business","is_private","is_published","profile_pic","username"],limit:h}),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a){b("AdsInstagramAccountBusinessBatchLoadedDataAction").dispatch({specs:a},{line:"55",module:"AdsBusinessInstagramAccountDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountBusinessBatchLoadErrorDataAction").dispatch({errors:a},{line:"61",module:"AdsBusinessInstagramAccountDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Instagram Account")};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsBusinessInstagramAccountProviderPlugin",["AdsBusinessInstagramAccountDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("AdsBusinessInstagramAccountDataManager").loadAll(Array.from(c))})}};e.exports=a}),null);
__d("AdsCarteAccordionDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{selectedIndex:null}};e.exports=a}),null);
__d("AdsCarteAccordionDataProvider",["Laminar","AdsCarteAccordionDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCarteAccordionDataProviderPlugin"),"AdsCarteAccordionDataProviderPlugin")}),null);
__d("AdsExistingPostCTAProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("immutable").Map()};c={initialState:a()};e.exports=c}),null);
__d("AdsExistingPostCTAProvider",["Laminar","AdsExistingPostCTAProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsExistingPostCTAProviderPlugin"),"AdsExistingPostCTAProviderPlugin")}),null);
__d("AdsInstagramAccountBusinessBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.BUSINESS.BATCH_LOADED"}}),null);
__d("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.ERROR.REFRESH_ALL_ERRORS"}}),null);
__d("AdsInstagramAccountPageBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountPageBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.BATCH_LOAD_ERROR"}}),null);
__d("AdsInstagramAccountPageBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.BATCH_LOADED");e.exports=a}),null);
__d("AdsInstagramAccountPageBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.BATCH_LOADED"}}),null);
__d("AdsInstagramAccountPageClearAccountsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.CLEAR_ACCOUNTS"}}),null);
__d("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.CREATE_AND_USE_PAGE_BACKED"}}),null);
__d("AdsInstagramAccountPageCreatePageBackedErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.CREATE_PAGE_BACKED_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.CREATE_PAGE_BACKED_ERROR"}}),null);
__d("AdsInstagramAccountPageCreatePageBackedSuccessDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsInstagramAccountPageCreatePageBackedSuccessReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{},"")})}),b("ifRequired")("AdsCFAdgroupInstagramAccountPageCreatePageBackedSuccessReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{},"")})})]},function(){return[]},"AdsInstagramAccounts.PAGE.CREATE_PAGE_BACKED_SUCCESS");e.exports=a}),null);
__d("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.CREATE_PAGE_BACKED_SUCCESS"}}),null);
__d("AdsInstagramAccountPageHandleLinkAccountErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.HANDLE_LINK_ACCOUNT_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.HANDLE_LINK_ACCOUNT_ERROR"}}),null);
__d("AdsInstagramAccountPageHandleLinkAccountResponseDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.HANDLE_LINK_ACCOUNT_RESPONSE");e.exports=a}),null);
__d("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.HANDLE_LINK_ACCOUNT_RESPONSE"}}),null);
__d("AdsInstagramAccountPageHandleUnlinkAccountErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.HANDLE_UNLINK_ACCOUNT_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.HANDLE_UNLINK_ACCOUNT_ERROR"}}),null);
__d("AdsInstagramAccountPageHandleUnlinkAccountResponseDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.HANDLE_UNLINK_ACCOUNT_RESPONSE");e.exports=a}),null);
__d("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.HANDLE_UNLINK_ACCOUNT_RESPONSE"}}),null);
__d("AdsInstagramAccountPageLinkAccountDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.LINK_ACCOUNT"}}),null);
__d("AdsInstagramAccountPageUnlinkAccountDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.PAGE.UNLINK_ACCOUNT"}}),null);
__d("AdsInstagramAccountUsernameLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.USERNAME.LOAD_ERROR");e.exports=a}),null);
__d("AdsInstagramAccountUsernameLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.USERNAME.LOAD_ERROR"}}),null);
__d("AdsInstagramAccountUsernameLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.USERNAME.LOADED");e.exports=a}),null);
__d("AdsInstagramAccountUsernameLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsInstagramAccounts.USERNAME.LOADED"}}),null);
__d("XMessengerAdsExistingPostCTASelectorEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/using_existing_post_cta_eligibility/",{post_id:{type:"FBID"}})}),null);
__d("AdsMessengerExistingPostCTASelectorEligibilityDataManager",["Promise","AsyncRequest","XMessengerAdsExistingPostCTASelectorEligibilityController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getEligibility=function(a){var c=b("XMessengerAdsExistingPostCTASelectorEligibilityController").getURIBuilder().setFBID("post_id",a).getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))().setURI(c).setHandler(function(b){b=b.payload;b.error?d(new Error(b.error)):a(b)}).setErrorHandler(function(a){d(a)}).send()})};return a}();e.exports=new a()}),null);
__d("AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin",["AdsMessengerExistingPostCTASelectorEligibilityDataManager","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").create(function(c){var d=new Map();c.forEach(function(a){return d.set(a,b("AdsMessengerExistingPostCTASelectorEligibilityDataManager").getEligibility(a))});b("promiseDone")(b("promiseLoadObjects")(d),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsMessengerExistingPostCTASelectorEligibilityDataProvider",["Laminar","AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin"),"AdsMessengerExistingPostCTASelectorEligibilityDataProviderPlugin")}),null);
__d("AdsPagePostBatchLoadErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleErrors(b.errors)}};e.exports=a}),null);
__d("AdsPagePostBatchLoadErrorDataAction",["Laminar","AdsPagePostBatchLoadErrorDataReducerPlugin","AdsPagePostProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPagePostBatchLoadErrorDataReducerPlugin"),b("AdsPagePostProvider"),{},"")]},function(){return[]},"PAGE_POST.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsPagePostBatchLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.setMultipleValueOrError(b.posts)}};e.exports=a}),null);
__d("AdsPagePostBatchLoadedDataAction",["Laminar","AdsPagePostBatchLoadedDataReducerPlugin","AdsPagePostProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPagePostBatchLoadedDataReducerPlugin"),b("AdsPagePostProvider"),{},"")]},function(){return[]},"PAGE_POST.BATCH_LOADED");e.exports=a}),null);
__d("AdsPlacementCustomizationClearAssetFeedStoreOnPostChangeTriggerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.clear()}};e.exports=a}),null);
__d("AdsPagePostProvider",["Laminar","AdsPagePostProviderPlugin","AdsPlacementCustomizationClearAssetFeedStoreOnPostChangeTriggerReducerPlugin","AdsAssetFeedSpecForPostProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsPagePostProviderPlugin"),"AdsPagePostProviderPlugin",function(){return[b("Laminar").__createTriggerReducer(b("AdsPlacementCustomizationClearAssetFeedStoreOnPostChangeTriggerReducerPlugin"),"AdsPlacementCustomizationClearAssetFeedStoreOnPostChangeTriggerReducerPlugin",b("AdsAssetFeedSpecForPostProvider"))]})}),null);
__d("AdsPagePostDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsPagePostBatchLoadedDataAction","AdsPagePostBatchLoadErrorDataAction","AdsPostFields","adsPagePostResponseShaper","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="U";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page_post",a).batched().get({date_format:h,fields:b("AdsPostFields")}),function(d){d=b("adsPagePostResponseShaper")(d);return c.__handleSuccess(["load"],a,null,d)},this.__handleError.bind(this,["load"],a,null))};d.__onBatchLoaded=function(a,c){b("AdsPagePostBatchLoadedDataAction").dispatch({posts:a,versions:c},{line:"67",module:"AdsPagePostDataManager.js"})};d.__onBatchLoadError=function(a,c){var d=this,e=new Map();a.forEach(function(a,b){e.set(b,d.__getObjectError(b,a))});b("AdsPagePostBatchLoadErrorDataAction").dispatch({errors:e,versions:c},{line:"85",module:"AdsPagePostDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Page post")};return c}(b("AdsBaseDataManager"));c=new a();e.exports=c}),null);
__d("AdsPagePostProviderPlugin",["AdsPagePostDataManager","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("AdsPagePostDataManager").loadAll(Array.from(c))})}};e.exports=a}),null);
__d("AdsPageRestrictedDataBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.RESTRICTED_DATA.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsPageRestrictedDataBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE.RESTRICTED_DATA.BATCH_LOAD_ERROR"}}),null);
__d("AdsPageRestrictedDataBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.RESTRICTED_DATA.BATCH_LOADED");e.exports=a}),null);
__d("AdsPageRestrictedDataBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE.RESTRICTED_DATA.BATCH_LOADED"}}),null);
__d("CarteSelectedDimensionsDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{selectedDimensions:b("immutable").Set()}};e.exports=a}),null);
__d("CarteSelectedDimensionsDataProvider",["Laminar","CarteSelectedDimensionsDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("CarteSelectedDimensionsDataProviderPlugin"),"CarteSelectedDimensionsDataProviderPlugin")}),null);
__d("AdsCPBUtils",["AdsAPICampaignPaths","AdsAPIObjectives","AdsAPITargetFields","AdsPlacementAPISpecReaderUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform;function h(a,c){return a!==b("AdsAPIObjectives").VIDEO_VIEWS&&g((a={},a[b("AdsAPITargetFields").PUBLISHER_PLATFORMS]=c,a),"audience_network")}a={isCPBCampaign:function(a,c){c=a.objective;a=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS,b("immutable").List()).toJS();return h(c,a)},someAreCPBCampaigns:function(a){return a.some(function(a){var b=a.objective;if(!a.spec)return!1;a=a.spec.publisher_platforms;return a&&h(b,a)})}};e.exports=a}),null);
__d("adsInteractivePollHasFbFeedVideoPollSpec",["adsInteractivePollGetFbFeedVideoPollSpec"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("adsInteractivePollGetFbFeedVideoPollSpec")(a,c)!=null}e.exports=a}),null);
__d("AdsDynamicAdCustomizationConstants",["AdsAPIObjectives","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";c={SUPPORTED_MULTI_LANGUAGE_CATALOG_VERTICALS:[(a=b("CatalogVertical")).COMMERCE,a.DESTINATIONS,a.FLIGHTS,a.HOME_LISTINGS,a.HOTELS,a.MEDIA_TITLES,a.VEHICLES],MAX_ADDITIONAL_LANGUAGES:48,CUSTOMIZATION_RULES_SPEC:"customization_rules_spec",SUPPORTED_MULTI_LANGUAGE_COLLECTION_OBJECTIVES:[b("AdsAPIObjectives").CONVERSIONS,b("AdsAPIObjectives").LINK_CLICKS,b("AdsAPIObjectives").PRODUCT_CATALOG_SALES]};e.exports=c}),null);
__d("AdsDynamicTargetingCategories",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({RETARGETING:null,PROSPECTING:null});e.exports=Object.freeze(a)}),null);
__d("AdsInstagramUsernameDataManager",["AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountUsernameLoadedDataAction","AdsInstagramAccountUsernameLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("instagram_object",a).batched().get({fields:["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_private","is_published","profile_pic","username"]}),function(b){return c.__handleSuccess(["load"],a,null,b)},function(b){return c.__handleError(["load"],a,null,b)})};d.__onBatchLoaded=function(a){b("AdsInstagramAccountUsernameLoadedDataAction").dispatch({specs:a},{line:"48",module:"AdsInstagramUsernameDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountUsernameLoadErrorDataAction").dispatch({errors:a},{line:"52",module:"AdsInstagramUsernameDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("XPageLinkInstagramAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/instagram/link/",{})}),null);
__d("XPageUnlinkInstagramAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/instagram/unlink/",{})}),null);
__d("AdsPageInstagramAccountDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsInstagramAccountPageBatchLoadedDataAction","AdsInstagramAccountPageBatchLoadErrorDataAction","AdsInstagramAccountPageCreatePageBackedErrorDataAction","AdsInstagramAccountPageCreatePageBackedSuccessDataAction","AdsInstagramAccountPageHandleLinkAccountErrorDataAction","AdsInstagramAccountPageHandleLinkAccountResponseDataAction","AdsInstagramAccountPageHandleUnlinkAccountErrorDataAction","AdsInstagramAccountPageHandleUnlinkAccountResponseDataAction","AdsInterfacesLogEvents","AdsInterfacesLogger","AsyncRequest","XPageLinkInstagramAccountController","XPageUnlinkInstagramAccountController","promiseDone","sprintf"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["has_profile_picture","id","id_v2","is_authorized_for_political_ads","is_business","is_private","is_published","profile_pic","username"].join(),i=["id","profile_picture_url","username"].join();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.loadAllWithLogging=function(a,b){var c=this;a.forEach(function(a){return c.loadWithLogging(a,b)})};d.load=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).objectByName("page",a).batched().get({fields:[b("sprintf")("%s.limit(1).fields(%s)","instagram_accounts",h),b("sprintf")("%s.limit(1).fields(%s)","page_backed_instagram_accounts",h),b("sprintf")("instagram_business_account.fields(%s)",i)]}),function(b){return c.__handleSuccess(["load"],a,null,b)},function(b){return c.__handleError(["load"],a,null,b)})};d.loadWithLogging=function(a,c){b("AdsGraphAPI").get(e.id).objectByName("page",a).batched().get({fields:[b("sprintf")("%s.limit(1).fields(%s)","instagram_accounts",h),b("sprintf")("%s.limit(1).fields(%s)","page_backed_instagram_accounts",h),b("sprintf")("instagram_business_account.fields(%s)",i)]}).then(function(d){b("AdsInterfacesLogger").log({eventName:"get_page_from_instagram_accounts_success",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{page_id:a,source:c}},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)})["catch"](function(d){b("AdsInterfacesLogger").log({eventName:"get_page_from_instagram_accounts_failure",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{page_id:a,source:c}},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)})};d.createAndUsePageBackedAccount=function(a,c,d,f,g,h){b("promiseDone")(b("AdsGraphAPI").get(e.id).objectByName("page",d).edge("page_backed_instagram_accounts").batched().post({access_token:f}),function(e){b("AdsInstagramAccountPageCreatePageBackedSuccessDataAction").dispatch({hostID:h,source:g,data:{campaignID:a,adgroupIDs:c,pageID:d,instagramAccountID:e.id}},{line:"158",module:"AdsPageInstagramAccountDataManager.js"})},function(a){b("AdsInstagramAccountPageCreatePageBackedErrorDataAction").dispatch({data:{pageID:d}},{line:"170",module:"AdsPageInstagramAccountDataManager.js"}),b("AdsInterfacesLogger").log({eventName:"page_backed_instagram_account_creation_failure",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:{page_id:d,source:g}},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)})};d.linkInstagramAccount=function(a,c,d){var e=b("XPageLinkInstagramAccountController").getURIBuilder().getURI();new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(e).setData({page_id:a,password:d,username:c}).setHandler(function(c){b("AdsInstagramAccountPageHandleLinkAccountResponseDataAction").dispatch({data:{pageID:a,instagramAccountID:c.payload.instagram_account_id,errorMessages:c.payload.error_messages,errorCode:c.payload.error_code}},{line:"203",module:"AdsPageInstagramAccountDataManager.js"})}).setErrorHandler(function(c){b("AdsInstagramAccountPageHandleLinkAccountErrorDataAction").dispatch({data:{pageID:a}},{line:"213",module:"AdsPageInstagramAccountDataManager.js"})}).send()};d.unlinkInstagramAccount=function(a,c){var d=b("XPageUnlinkInstagramAccountController").getURIBuilder().getURI();new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(d).setData({page_id:a,instagram_account_id:c}).setHandler(function(c){b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataAction").dispatch({data:{pageID:a,error:c.payload.error,success:c.payload.success}},{line:"230",module:"AdsPageInstagramAccountDataManager.js"})}).setErrorHandler(function(c){b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataAction").dispatch({data:{pageID:a}},{line:"239",module:"AdsPageInstagramAccountDataManager.js"})}).send()};d.__onBatchLoaded=function(a){b("AdsInstagramAccountPageBatchLoadedDataAction").dispatch({specs:a},{line:"249",module:"AdsPageInstagramAccountDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsInstagramAccountPageBatchLoadErrorDataAction").dispatch({errors:a},{line:"255",module:"AdsPageInstagramAccountDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Page Instagram Accounts")};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsPageRestrictedDataManager",["Promise","AdsBaseDataManager","AdsGraphAPI","AdsPagePostUtils","AdsPageRestrictedDataBatchLoadedDataAction","AdsPageRestrictedDataBatchLoadErrorDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["tabs"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getPagePromise=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",a).batched().get({access_token:c,fields:g})};d.loadAll=function(a){var c=this;b("promiseDone")(b("AdsPagePostUtils").fetchAccessTokensForPageIDs(a).then(function(a){return b("Promise").all(Array.from(a).map(function(a){return c.getPagePromise(a[0],a[1])}))}),function(a){return a.forEach(function(a){c.__handleSuccess(["load"],a.id,null,a)})},function(b){return a.forEach(function(a){c.__handleError(["load"],a,null,b)})})};d.__onBatchLoaded=function(a){b("AdsPageRestrictedDataBatchLoadedDataAction").dispatch({pages:a},{line:"59",module:"AdsPageRestrictedDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsPageRestrictedDataBatchLoadErrorDataAction").dispatch({errors:a},{line:"65",module:"AdsPageRestrictedDataManager.js"})};return c}(b("AdsBaseDataManager"));c=new a();e.exports=c}),null);
__d("AdsCarouselPlacementAssetSelectorSelectors",["AdsEditorMPAConstants","AdsImageIDUtils","AdsImageInfoStore","AdsLoadObjectUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","AdsVideoStore","LoadObject","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin;function h(a,c,d,e,f,g){__p&&__p();var h=c.get("video_id"),i=c.get("image_hash");c=c.get("image_url");if(h!=null&&h!=b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID){d=d(h);return b("LoadObject").withValue({captionIDs:[],format:"video",thumbnailUrl:null,video:d})}else{h=b("AdsImageIDUtils").getImageID({accountID:a.account_id,hash:i,url:c});if(h!=null)return b("AdsLoadObjectUtils").all([e(h),f(h),g(h).mapValue(function(a){a=a.url;return a})]).mapValue(function(a){var b=a[0],c=a[1];a=a[2];return{format:"image",hash:i,height:b.getTyped().height,name:c,thumbnailURL:a,url:b.getTyped().url,width:b.getTyped().width}})}}a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("AdsVideoStore").getSelector,b("AdsImageInfoStore").getFullSizeSelector,b("AdsImageInfoStore").getNameSelector,b("AdsImageInfoStore").getThumbnailURLSelector],function(a,c,d,e,f,i){__p&&__p();var j;c=c[0];if(c==null)return null;var k=g(c);j=(j=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(c.adgroup,k))!=null?j:b("immutable").List();j=j.map(function(b){var c;return{description:(c=b.get("description"))!=null?c:"",headline:(c=b.get("name"))!=null?c:"",link:(c=b.get("link"))!=null?c:"",media:h(a,b,d,e,f,i)}});return{cards:j.toArray(),format:"carousel",multiShareEndCard:!!b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getValue(c.adgroup,k),multiShareOptimized:!!b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(c.adgroup,k)}},{name:e.id+".adsUEditorAdgroupCarouselPACNonAssetFeedSelector"});e.exports={adsUEditorAdgroupCarouselPACNonAssetFeedSelector:a}}),null);
__d("AdsAssetSelectorsUtils",["invariant","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsImageIDClasses","immutable","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageIDClasses").AdsImageID,i=b("immutable").Map,j=50,k={compactMap:function(a){var c=b("immutable").Map().asMutable();a.forEach(function(a,b){a!=null&&c.set(b,a)});return c},getImageID:function(a,b,c,d){if(b!=null)return h.fromAcountAndHash(a,b);else if(d!=null)return h.fromShutterstockID(d);else if(c!=null)return h.fromExternalURL(c);return null},fromAdsLegacyImageToImageAsset:function(a){var c=a.getAdAccountHash();a=a.getUrl();if(b("isTruthy")(c))return i({hash:c});b("isTruthy")(a)||g(0,1494);return i({url:a})},getImageIDFromImageAssetList:function(a,c){var d=b("immutable").Map();a!=null&&c!=null&&(d=b("immutable").OrderedMap(c.map(function(c,d){return[""+d,k.getImageID(a,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").URL))]})));return k.compactMap(d)},mergeCropsWithImageAssetListByIndex:function(a,c){return!a||!c?b("immutable").Map():c.map(function(c,d){c.format==="image"||g(0,4027);d=parseInt(d,10);d>=0&&d<=j||g(0,15014);a||g(0,4029);d=a.get(d);d=b("AdsAssetFeedFieldUtils").getImageAssetCrops(d);return babelHelpers["extends"]({},c,{crops:d?d.toJS():d})})}};e.exports=k}),null);
__d("adsCreateMapSelector",["AdsSelectorUtils","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=b("immutable").Map();return b("adsCreateStoreSelector")(function(d){return b("AdsSelectorUtils").getStores([a,c],d)},function(b){__p&&__p();var d=new Set(a(b));e=e.withMutations(function(a){__p&&__p();for(var b=a.keySeq(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;d.has(g)||a["delete"](g)}for(var g=d,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;b=g[e++]}else{e=g.next();if(e.done)break;b=e.value}b=b;var h=c(b);a.set(b,h)}});return e},{name:d})}e.exports=a}),null);
__d("AdsImageAssetSelectors",["invariant","AdsAssetSelectorsUtils","AdsImageDimensionProvider","AdsImageIDClasses","AdsImageInfoStore","AdsShutterstockImageByIDStore","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","LoadObject","ShutterstockImageUtils","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsImageDimensionProvider").toFluxStore(),j=b("AdsImageIDClasses").AdsAccountImageID,k=b("AdsImageIDClasses").AdsBusinessImageID,l=b("AdsImageIDClasses").AdsExternalImageID;function m(a,b,c){if(!b.hasValue())return null;b=b.getValueEnforcing();var d=b.width;b=b.height;c=c!=null?{stockImageID:c,thumbHeight:b,thumbWidth:d,previewUrl:a,previewHeight:b,previewWidth:d}:null;return babelHelpers["extends"]({},c,{format:"image",hash:null,name:null,url:a,width:d,height:b})}function n(a,b,c,d){return!b.hasValue()?null:{format:"image",hash:a,name:c.hasValue()?c.getValueEnforcing():null,url:b.getValueEnforcing().get("url"),width:b.getValueEnforcing().get("width"),height:b.getValueEnforcing().get("height"),stockImageID:null,isSphericalPhoto:b.getValueEnforcing().get("isSphericalPhoto"),thumbnailURL:d.hasValue()?d.getValueEnforcing():null}}c=(a=b("adsCreateStoreSelector"))([],function(a){return a.assetImageIDs},{name:e.id+".imageAssetIDsSelector"});d=b("adsCreateSelector")([c],function(a){return a?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});f=a([b("AdsShutterstockImageByIDStore")],function(a){if(a instanceof l){a=a.getUrl();if(b("ShutterstockImageUtils").isStockImageURL(a)){a=b("ShutterstockImageUtils").urlToID(a);return b("AdsShutterstockImageByIDStore").get(a)}}return null},{name:e.id+".shutterstockImageSelector"});var o=a([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSize(a)},{name:e.id+".fullSizeImageSelector"}),p=a([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getName(a)},{name:e.id+".imageNameSelector"}),q=a([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getThumbnailURL(a)},{name:e.id+".thumbnailURLSelector"}),r=a([i],function(a){if(a instanceof l){a=a.getUrl();if(!b("ShutterstockImageUtils").isStockImageURL(a))return i.getState().get(a)}return null},{name:e.id+".imageDimensionsSelector"}),s=(h=b("adsCreateMapSelector"))(d,f,e.id+".shutterstockImageMapSelector");f=h(d,o,e.id+".fullSizeImageMapSelector");var t=h(d,q,e.id+".thumbnailURLMapSelector"),u=h(d,p,e.id+".imageNameMapSelector");h=h(d,r,e.id+".imageDimensionsMapSelector");function v(a){return!!a&&(a.isLoading()||a.isEmpty())}d=a([].concat(s.getStores(),[i]),function(a){__p&&__p();var c=s(a);if(c.some(v))return b("LoadObject").loading();var d=b("immutable").Map().asMutable();if(a.assetImageIDs)for(var a=a.assetImageIDs.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=c.get(g);!h?d.set(g,null):d.set(g,i.getState().get(h.getValueEnforcing().preview_url))}return b("LoadObject").withValue(d.asImmutable())},{name:e.id+".shutterstockImageDimensionsMapSelector"});a=b("adsCreateSelector")([c,f,u,h,s,d,t],function(a,c,d,e,f,h,i){__p&&__p();if(a==null||a.isEmpty())return b("LoadObject").withValue(null);if(h.isLoading())return b("LoadObject").loading();var o=h.getValueEnforcing();if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||i.some(function(a){return a.isLoading()})||e.some(v)||f.some(v)||o.some(v))return b("LoadObject").loading();h=a.map(function(a){__p&&__p();if(a instanceof j||a instanceof k){var h=i.get(a).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a}),p=a.getHash(),q=c.get(a),r=d.get(a);return n(p,q,r,h)}else if(a instanceof l){p=a.getUrl();q=e.get(a);r=null;if(b("ShutterstockImageUtils").isStockImageURL(p)){h=f.get(a);h||g(0,3113);h=h.getValueEnforcing();p=h.preview_url;q=o.get(a);r=h.id}q!=null||g(0,3114);return m(p,q,r)}else return null});return b("LoadObject").withValue(b("AdsAssetSelectorsUtils").compactMap(h))},{name:e.id+".imageAssetsSelector"});f=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash);e.exports={assetFeedBulkImageHashSelector:f,fullSizeImageSelector:o,getAssetForAccountImage:n,getAssetForExternalImage:m,imageAssetsSelector:a,imageAssetIDsSelector:c,imageDimensionsSelector:r,imageNameSelector:p,thumbnailURLSelector:q}}),null);
__d("adsUEditorDevicePlatformsSelector",["adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a.map(function(a){return a.campaign.targeting.device_platforms});return a.length!==1||a[0]==null?null:a[0].toArray()},{name:e.id+".adsUEditorDevicePlatformsSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationDefaultCoverageSelector",["AdsAPIAdgroupPaths","AdsBulkValueUtils","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;var g=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList,h=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements;c=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);d=b("adsCreateSelector")([c,a],function(a,c){__p&&__p();if(a==null||a instanceof b("AdsMixedValue")||c==null)return null;a=b("AdsBulkValueUtils").getUniformValue(a,b("immutable").List());if(a==null)return null;var d=h(a);if(d==null)return null;d=g(d);if(!d.isEmpty())return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d).toArray();var e=a.map(function(a){return g(a)}).filter(Boolean).flatten();d=c.placementsByAssetGroup.valueSeq().toList().flatten().filter(function(a){return e.find(function(b){var c=b.platform;b=b.position;return a.platform===c&&a.position===b})==null});return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d).toArray()},{name:e.id+".adsUEditorPlacementCustomizationDefaultCoverageSelector"});e.exports=d}),null);
__d("AdsImagePlacementAssetCustomizationSelectors",["AdsAccountStore","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedConstant","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsBulkValueUtils","AdsDCODegreesOfFreedomUtils","AdsImageAssetSelectors","AdsImageLegacy","AdsMixedValue","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupCreativeFormat","AdsUEditorCampaignSelectors","AdsUnifiedCreativeAPIFields","AdsUniformValue","ApiDynamicCreativeOptimizationTypes","LoadObject","PlacementAssetCustomizationTypes","adsAccountGK","adsContainsAssetCustomizationPlacement","adsCreateSelector","adsCreateStoreSelector","adsGetUniformValueSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorDevicePlatformsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","first","immutable","isFalsey","nullthrows","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k=b("AdsAssetFeedConstant").ADLABELS;a=b("AdsImageAssetSelectors").assetFeedBulkImageHashSelector;var l=b("AdsImageAssetSelectors").imageAssetsSelector;d=(c=b("AdsPlacementAssetCustomizationSelectors")).adsUEditorAdgroupPlacementAssetCustomizationTypeSelector;f=c.adsUEditorPACBodyAssetInfoByMediaAssetLabel;var m=c.adsUEditorPACCustomizedImageAssetLabelSelector,n=c.adsUEditorPACHeadlineAssetInfoByMediaAssetLabel,o=c.adsUEditorPACUrlAssetInfoByMediaAssetLabel,p=c.candidateAssetGroupSelector;c=c.pacConfigSelector;var q=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,r=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,s=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements,t=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable,u=b("PlacementAssetCustomizationTypes").PAC_PHASE_1,v=b("immutable").Map(),w=b("immutable").List();function x(a){__p&&__p();var c=a.crops,d=a.hash;a=a.url;if(c instanceof b("AdsMixedValue")||d instanceof b("AdsMixedValue")||a instanceof b("AdsMixedValue"))return null;var e;d&&(e=b("AdsBulkValueUtils").getUniformValueOrDefault(d),e instanceof b("immutable").List&&(e=e.first().get("hash")));var f;a&&(f=b("AdsBulkValueUtils").getUniformValueOrDefault(a),f instanceof b("immutable").List&&(f=f.first().get("url")));var g;c&&(g=b("AdsBulkValueUtils").getUniformValueOrDefault(c),g instanceof b("immutable").List&&(g=g.first().get("image_crops")),g instanceof b("immutable").Map&&(g=g.toJS()));return{crops:c?g:null,hash:d?e:null,url:a?f:null}}var y=(g=b("AdsUEditorAdgroupBulkSelectors")).selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageCrops),z=g.selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash),A=g.selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageURL),B=g.selectorByPath((h=b("AdsAPIAdgroupPaths")).CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.path),C=(i=b("adsCreateSelector"))([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.path)],function(a){return!b("AdsBulkValueUtils").isNullValue(a)},{name:e.id+".someSelectedAdgroupsUseAssetFeedSelector"}),D=g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE);y=i([c,(j=b("AdsAccountStore")).getSelectedAccount,p,d,y,z,A,B,C,D,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g,h,i,j,k,l){__p&&__p();k=b("AdsBulkValueUtils").getUniformValueOrDefault(k);if(j&&!b("AdsDCODegreesOfFreedomUtils").isDoFOptimizationType(k))return b("LoadObject").empty();j=x({crops:f,hash:g,url:h});k=i instanceof b("AdsUniformValue")?i.getValue():null;f=k==null?void 0:k.image_crops;g={crops:f instanceof b("immutable").Map?f.toJS():f,hash:k==null?void 0:k.image_hash,url:k==null?void 0:k.image_url};if(j==null)return b("LoadObject").empty();if(j.hash==null&&j.url==null)return b("LoadObject").empty();h=c.getValue();if(b("isFalsey")(h))return b("LoadObject").loading();i={};f={};c=null;var m=[],n=b("immutable").Map(),o=null;i[a.basePlacementGroup]=b("AdsAssetSelectorsUtils").getImageID(h.account_id,j.hash,j.url);f[a.basePlacementGroup]=j.crops;if(k!=null)i[q.INSTAGRAM]=b("AdsAssetSelectorsUtils").getImageID(h.account_id,g.hash,g.url),f[q.INSTAGRAM]=g.crops;else if(e!=u&&d){m=d.assetGroups;m=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(m,l);n=d.placementsByAssetGroup.filter(Boolean);o=b("immutable").List.of(a.basePlacementGroup);j=b("immutable").List(m.map(function(a){return n.get(a)})).flatten();c=b("immutable").Map((k={},k[a.basePlacementGroup]=j,k))}return b("LoadObject").withValue({assetGroups:m,assetImageIDs:b("AdsAssetSelectorsUtils").compactMap(b("immutable").Map(i)),assetsPlacements:c,backgroundColorsByAsset:b("immutable").Map(),cropsByAsset:b("immutable").Map(f),labels:o,placementsByAssetGroup:n,interactivePollByAsset:b("immutable").Map(),interactivePositionByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector"});z=g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);A=g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.AD_FORMATS);B=i([j.getSelectedAccount,D,a,z,p,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),A],function(a,c,d,e,f,g,h){__p&&__p();c=b("AdsBulkValueUtils").getUniformValueOrDefault(c);var i=c===b("ApiDynamicCreativeOptimizationTypes").LANGUAGE||c===b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS,j=a.getValue();if(c!==b("ApiDynamicCreativeOptimizationTypes").PLACEMENT&&!i||d instanceof b("AdsMixedValue")||e instanceof b("AdsMixedValue")||!f||b("isFalsey")(j))return b("LoadObject").empty();a=f.assetGroups;var l=f.placementsByAssetGroup;c=b("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(b("AdsBulkValueUtils").getUniformValue(e,null),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);i=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);f=b("AdsBulkValueUtils").getUniformValue(d,null);if(f==null)return b("LoadObject").empty();if(typeof f==="string"||f==null)throw b("unrecoverableViolation")("This is a PAC ad so images must be in an asset list","csol_pac");e=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);d=b("AdsBulkValueUtils").getUniformValue(h,[]);(d==null?void 0:d.includes(b("AdsUEditorAdgroupCreativeFormat").CAROUSEL))&&(e=f.map(function(a){return a.get(k)}).filter(Boolean).flatten(1).map(function(a){return a.get("name")}),i=e.reduce(function(a,b){return a.set(b,w)},v));c=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(f,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e);h=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetSelectorsUtils").getImageID(j.account_id,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedImagesFields").URL))}));d=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetBackgroundColor(a)}));f=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(a)}));var m=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(a)}));c=b("AdsAssetSelectorsUtils").compactMap(c.map(function(a){a=b("AdsAssetFeedFieldUtils").getImageAssetCrops(a);return a?a.toJS():null}));a=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(a,g);var n=b("immutable").List(a.map(function(a){return l.get(a)})).flatten();i=i.map(function(a){return a.filter(function(a){return b("adsContainsAssetCustomizationPlacement")(n,a)})});return b("LoadObject").withValue({assetGroups:a,assetImageIDs:h,assetsPlacements:i,backgroundColorsByAsset:d,cropsByAsset:c,labels:e,placementsByAssetGroup:l,interactivePollByAsset:f,interactivePositionByAsset:m})},{name:e.id+".adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector"});var E=i([B,y],function(a,b){a=a;a.hasValue()||(a=b);return a.hasValue()?a.getValueEnforcing():null},{name:e.id+".adsPlacementAssetAdgroupDataSelector"});C=i([E],function(a){return a==null?void 0:a.assetGroups},{name:e.id+".assetGroupsSelector"});g=i([E],function(a){return a==null?void 0:a.assetsPlacements},{name:e.id+".assetsPlacementsSelector"});h=i([E],function(a){return(a==null?void 0:a.backgroundColorsByAsset)||b("immutable").Map()},{name:e.id+".backgroundColorsByAssetSelector"});D=i([E],function(a){return(a==null?void 0:a.interactivePollByAsset)||b("immutable").Map()},{name:e.id+".InteractivePollByAssetSelector"});a=i([E],function(a){return(a==null?void 0:a.interactivePositionByAsset)||b("immutable").Map()},{name:e.id+".InteractivePositionByAssetSelector"});p=i([E],function(a){return a==null?void 0:a.cropsByAsset},{name:e.id+".rawCropsByAssetSelector"});A=i([p],function(a){return a?a.map(function(a){return a instanceof b("immutable").Map?a.toJS():a}):null},{name:e.id+".cropsByAssetSelector"});p=i([E],function(a){return a==null?void 0:a.labels},{name:e.id+".labelsSelector"});var F=i([E],function(a){return a==null?void 0:a.placementsByAssetGroup},{name:e.id+".placementsByAssetGroupSelector"}),G=b("adsCreateStoreSelector")(function(a){return[].concat(E.getStores(a),l.getStores(a))},function(a){a=E(a);return a?l(babelHelpers["extends"]({},a)):b("LoadObject").withValue(null)},{name:e.id+".placementAssetSelectorImageAssetsSelector"}),H=i([G,g,C],function(a,c,d){__p&&__p();if(!c||a.isLoading()||d==null)return null;a=a.getValueEnforcing();if(!a)return null;a=a.map(function(a,d){return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c.get(d))});var e=a.filter(function(a){return a.isEmpty()});if(!e.isEmpty()){e=b("first")(e.keys());if(e==null)return null;var f=b("immutable").Set(a.values()).flatten();d=b("immutable").Set(d).subtract(f);a=a.set(e,b("immutable").List(d))}return a.size!==0?a:null},{name:e.id+".assetGroupsByAsset"});z=i([G,g,b("adsUEditorDevicePlatformsSelector"),A,b("adsUEditorPlacementCustomizationDefaultCoverageSelector"),j.getSelectedAccount,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),b("adsGetUniformValueSelector")(z,b("immutable").List())],function(a,c,d,e,f,g,h,i){__p&&__p();g=g.getValue();if(!c||!d||a.isLoading()||e==null||b("isFalsey")(g))return null;g=a.getValueEnforcing();if(!g)return null;a=g.map(function(a,f){var g=e.get(f);if(a.format!=="image")throw b("unrecoverableViolation")("This selector handles only image assets.","csol_pac");a=new(b("AdsImageLegacy"))({height:a.height,url:a.url,width:a.width});a={image:a,imageCrops:g?g:void 0};g=b("immutable").List();c&&c.get(f)&&b("AdsPlacementAssetUtils").isInstagramStoryPlacementOnly(c.get(f))?g=c.get(f):f!=b("AdsPlacementCustomizationConstants").NO_ADLABEL&&(g=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithImage(a,b("nullthrows")(c).get(f),b("nullthrows")(d)));return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(g)});if(i.isEmpty()||f==null)return a.size!==0?a:null;g=s(i);if(g==null){b("recoverableViolation")("default rule not found","csol_pac");return a.size!==0?a:null}i=t(g,"image_label");if(i==null)return a.size!==0?a:null;a=a.set(i,b("immutable").List(b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(f,h)));return a.size!==0?a:null},{name:e.id+".validAssetGroupsByAssetSelector"});C=i([C,G,g,p,d,c,F,z,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),j.getSelectedAccount,b("adsUEditorDevicePlatformsSelector"),h,A,f,m,n,o,D,a],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,v){__p&&__p();k=k.getValue();if(c.isLoading()||b("isFalsey")(k))return b("LoadObject").loading();c=c.getValueEnforcing();var w=f===u;if(c==null||!w&&!i||a==null||h==null||n==null)return b("LoadObject").withValue(null);w=j.map(function(a){return a.adgroup.id});j=j.map(function(a){return a.campaign.id});return b("LoadObject").withValue(babelHelpers["extends"]({accountID:k.account_id,adgroupIDs:w,assetGroups:r(a)},g,{assets:c,assetsPlacements:d,bodyInfoByAssetLabel:o,campaignIDs:j,customizedAssetLabels:p,backgroundColorsByAsset:m,cropsByAsset:n,devicePlatforms:l,headlineInfoByAssetLabel:q,urlInfoByAssetLabel:s,labels:e,placementAssetCustomizationType:f,placementsByAssetGroup:h,validAssetGroupsByAsset:i?i:void 0,interactivePollByAsset:t,interactivePositionByAsset:v}))},{name:e.id+".adsUEditorPlacementAssetSelectorPropsSelector"});g=i([b("AdsUEditorCampaignSelectors").eligibilityInformation],function(a){var c=b("AdsPlacementAPISpecDefaultsUtils").getAllEligibleGroupsKeySet(a),d=b("AdsPlacementAssetEligibilityUtils").getAssetCustomizationPlacementGroupsToAdd(a);return c.length>d.length?!1:c.every(function(a){return d.includes(a)})},{name:e.id+".adsPACPhase2SupportsAllPlacementsSelector"});e.exports={adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector:y,adsUEditorPlacementAssetSelectorPropsSelector:C,adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector:B,adsPlacementAssetAdgroupDataSelector:E,adsPACPhase2SupportsAllPlacementsSelector:g,backgroundColorsByAssetSelector:h,cropsByAssetSelector:A,placementAssetSelectorImageAssetsSelector:G,validAssetGroupsByAssetSelector:z,assetGroupsByAsset:H}}),null);
__d("AdsAssetFeedVideoAssetsUtils",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsLoadState_LEGACY","LoadObject","immutable","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h={getVideoAssetIDs:function(a){return!a?[]:a.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID)}).toArray().filter(Boolean)},getVideoThumbnailUrlMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);d!=null&&c.set(d,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL))});return c},getVideoThumbnailSource:function(a){a=a.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE);if(a==null)return null;switch(a){case"custom":case"generated_default":case"generated_selected":case"scrubber_selected":case"smart_selected":case"unknown":return a}b("recoverableViolation")("Unexpected video thumbnail source "+String(a),"csol_pac");return null},getVideoThumbnailSourceMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=h.getVideoThumbnailSource(a);c.set(d,a)}});return c},getVideoCaptionIDsMap:function(a){__p&&__p();var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=a.get(b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);a instanceof b("immutable").List&&(a=a.map(String).toArray());Array.isArray(a)||(a=g);c.set(d,a)}});return c},getVideoAssetsSelect:function(a,c,d,e,f){__p&&__p();if(!(a instanceof Array))throw b("unrecoverableViolation")("video ids should be an array","csol_pac");if(a.length===0)return b("LoadObject").empty();if(c.some(function(a){return a&&a.loadState!==b("AdsLoadState_LEGACY").LOADED}))return b("LoadObject").loading();a=a.reduce(function(a,b){var g=c.get(b);g&&(a[b]={captionIDs:f.get(b)||[],format:"video",thumbnailUrl:d.get(b),thumbnailSource:e.get(b),video:g});return a},{});return b("LoadObject").withValue(b("immutable").Map(a))}};e.exports=h}),null);
__d("AdsVideoAssetSelectors",["invariant","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsMixedValue","AdsUEditorAdgroupBulkSelectors","AdsVideoStore","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);d=(c=b("adsCreateSelector"))([a],function(a){if(!a||a instanceof b("AdsMixedValue"))return null;a=b("AdsBulkValueUtils").getUniformValue(a,null);typeof a!=="string"||g(0,6123);return a},{name:e.id+".assetFeedVideoListSelector"});var h=c([d],(f=b("AdsAssetFeedVideoAssetsUtils")).getVideoAssetIDs,{name:e.id+".videoAssetIDsSelector"}),i=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("AdsVideoStore").get(a)},{name:e.id+".videoInfoStoreSelector"});i=b("adsCreateMapSelector")(h,i,e.id+".videoInfoMapSelector");var j=c([d],f.getVideoThumbnailUrlMap,{name:e.id+".videoThumbnailUrlMapSelector"}),k=c([d],f.getVideoThumbnailSourceMap,{name:e.id+".videoThumbnailSourceMapSelector"}),l=c([d],f.getVideoCaptionIDsMap,{name:e.id+".videoCaptionIDsMapSelector"});c=c([h,i,j,k,l],f.getVideoAssetsSelect,{name:e.id+".videoAssetsSelector"});e.exports={assetFeedBulkVideoAssetListSelector:a,assetFeedVideoListSelector:d,videoAssetsSelector:c,videoAssetIDsSelector:h,videoInfoMapSelector:i}}),null);
__d("AdsVideoPlacementAssetCustomizationSelectors",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorSelectors","AdsVideoAssetSelectors","LoadObject","PlacementAssetCustomizationTypes","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","firstx","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=(a=b("AdsPlacementAssetCustomizationSelectors")).adsUEditorPACBodyAssetInfoByMediaAssetLabel;d=a.adsUEditorPACCustomizedVideoAssetLabelSelector;f=a.adsUEditorPACHeadlineAssetInfoByMediaAssetLabel;var i=a.adsUEditorPACInteractivePollVideoAssetLabelSelector,j=a.adsUEditorPACUrlAssetInfoByMediaAssetLabel,k=a.candidateAssetGroupSelector;a=a.pacConfigSelector;var l=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,m=b("AdsVideoAssetSelectors").assetFeedVideoListSelector,n=b("AdsVideoAssetSelectors").videoAssetsSelector,o=b("AdsVideoAssetSelectors").videoInfoMapSelector,p=b("PlacementAssetCustomizationTypes").PAC_PHASE_1,q=b("PlacementAssetCustomizationTypes").PAC_PHASE_2,r=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);r=(g=b("adsCreateSelector"))([r,m],function(a,c){if(a instanceof b("AdsMixedValue")||!c)return null;a=b("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(b("AdsBulkValueUtils").getUniformValue(a,null),b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);var d=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);a=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);c=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(c,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d);var e=c.map(function(a){return b("nullthrows")(b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID))});return{labels:d,placementsByLabel:a,videoIDsByLabel:e,videoAssetsByLabel:c}},{name:e.id+".assetFeedAdgroupInfoSelector"});var s=g([k,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c){if(a==null)return null;a=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a.assetGroups,c);return l(a)},{name:e.id+".assetGroupsSelector"});function t(a,c,d,e,f,g,h){__p&&__p();if(!c)return null;var i=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE),j=b("nullthrows")(c).placementsByLabel;a=j.filter(function(a){return a.isEmpty()});if(!a.isEmpty()&&f!=null){a=b("firstx")(a.keys());f=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(f,h);j=j.set(a,b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(f))}return c.videoIDsByLabel.map(function(a,c){a=d.get(a);if(!a||j.isEmpty())return b("immutable").List();a=e(a,j.get(c),i,g.capabilities);return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a)}).filter(function(a){return a.size!==0})}var u=g([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),r,o,k,b("adsUEditorPlacementCustomizationDefaultCoverageSelector"),h=b("adsUEditorAccountSelector"),b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,c,d,e,f,g){return t(a,b,c,function(a,b,c,d){return b},e,f,g)},{name:e.id+".assetGroupsByAssetSelector"});o=g([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),r,o,b("adsUEditorPlacementCustomizationDefaultCoverageSelector"),h,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g){return t(a,c,d,b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo,e,f,g)},{name:e.id+".validAssetGroupsByAssetSelector"});var v=g([r,k,n,o],function(a,c,d,e){if(d.isLoading())return b("LoadObject").loading();return d.isEmpty()||!a||a.labels.size===0||!c||!e?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector"}),w=g([n],function(a){if(a.isLoading())return b("LoadObject").loading();return a.isEmpty()?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoDLOCanRenderFromAssetFeedSelector"});c=g([h,v,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),r,k,n,o,u,c,d,s,f,j,i],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();if(g.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||g.isEmpty()||!e||e.labels.size===0||!f||!h||!i||!l)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));var p=g.getValueEnforcing();c=e.videoAssetsByLabel.map(function(a){__p&&__p();var c=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(c!=null){c=p.get(c);if(c.format!=="video")throw b("unrecoverableViolation")("[PAC] Asset must be video","csol_pac");c=babelHelpers["extends"]({},c);var d=a.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL);typeof d==="string"&&(c.thumbnailUrl=d,c.thumbnailSource=b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSource(a));return c}}).filter(Boolean);g=b("firstx")(d).adgroup;var r=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(g);g=(g=g.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.videos;r=r&&g!=null&&g.size>1;return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:l,basePlacementGroup:null,bodyInfoByAssetLabel:j,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],customizedAssetLabels:k,assetsPlacements:e.placementsByLabel,placementsByAssetGroup:f.placementsByAssetGroup,placementAssetCustomizationType:q,labels:e.labels,validAssetGroupsByAsset:h,assetGroupsByAsset:i,hasLanguageSpecificMedia:r,headlineInfoByAssetLabel:m,urlInfoByAssetLabel:n,interactivePollAssetLabels:o})},{name:e.id+".adsUEditorAdgroupVideoPACAssetFeedSelector"});d=g([h,w,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),k,n,a,m],function(a,c,d,e,f,g,h){__p&&__p();if(f.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||f.isEmpty()||!e)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));c=f.getValueEnforcing();f=h?h.map(function(a){return a.get("video_id").toString()}):b("immutable").List();return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:e.assetGroups,assetsPlacements:b("immutable").Map(),basePlacementGroup:g.basePlacementGroup,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasDCO:!0,placementsByAssetGroup:b("immutable").Map(),placementAssetCustomizationType:p,labels:f,validAssetGroupsByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorAdgroupVideoDCOAssetFeedSelector"});e.exports={assetGroupsSelector:s,validAssetGroupsByAssetSelector:o,assetGroupsByAssetSelector:u,assetFeedAdgroupInfoSelector:r,adsUEditorAdgroupVideoPACAssetFeedSelector:c,adsUEditorAdgroupVideoDCOAssetFeedSelector:d,adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector:v,adsUEditorAdgroupVideoDCOCanRenderFromAssetFeedSelector:w}}),null);
__d("AdsCarteFlexibleTargetingSpecTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").List(["interests","education_schools","education_majors","education_statuses","college_years","work_positions","work_employers","relationship_statuses","interested_in","user_adclusters","excluded_user_adclusters","conjunctive_user_adclusters","family_statuses","industries","life_events","political_views","politics","behaviors","income","net_worth","home_type","home_ownership","home_value","ethnic_affinity","generation","household_composition","moms","office_type"]);e.exports=a}),null);
__d("CarteDimensionTypes",["AdsCarteFlexibleTargetingSpecTypes","immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({AGE:null,GENDER:null,LOCATION:null,FLEXIBLE:null});a=b("immutable").Map({AGE:["age_max","age_min"],GENDER:["genders"],LOCATION:["geo_locations"],FLEXIBLE:b("AdsCarteFlexibleTargetingSpecTypes").toArray()});c=b("immutable").Map([["age_max",g.AGE],["age_min",g.AGE],["genders",g.GENDER],["geo_locations",g.LOCATION]].concat(b("AdsCarteFlexibleTargetingSpecTypes").map(function(a){return[a,g.FLEXIBLE]}).toArray()));d=b("immutable").List(["age_min","age_max","genders","geo_locations","flexible_spec"]);e.exports={CarteDimensions:g,CarteDimensionSpecFields:d,DimensionToSpecFieldMap:a,SpecFieldToDimensionMap:c}}),null);
__d("AdsCarteAssetCustomizationRuleUtils",["fbt","invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPITargetFields","AdsTargetingConstants","CarteDimensionTypes","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsTargetingConstants").GENDERS,j=b("CarteDimensionTypes").CarteDimensions;function a(a,b){return!!a&&a.has(b)}function c(a,b){a=a.getIn([b,"name"]);typeof a==="string"||h(0,1837);return a}function d(a,c){__p&&__p();a=a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]);var d=[];a.has(b("AdsAPITargetFields").AGE_MIN)&&a.has(b("AdsAPITargetFields").AGE_MAX)&&c.contains(j.AGE)&&d.push(g._("{ageMin}-{ageMax}",[g._param("ageMin",a.get(b("AdsAPITargetFields").AGE_MIN)),g._param("ageMax",a.get(b("AdsAPITargetFields").AGE_MAX))]));if(a.has(b("AdsAPITargetFields").GENDERS)&&a.get(b("AdsAPITargetFields").GENDERS)instanceof b("immutable").List&&a.get(b("AdsAPITargetFields").GENDERS).size>0){c=a.get(b("AdsAPITargetFields").GENDERS).first();c===i.Men?d.push(g._("Men")):c===i.Women&&d.push(g._("Women"))}a.has(b("AdsAPITargetFields").GEO_LOCATIONS)&&a.get(b("AdsAPITargetFields").GEO_LOCATIONS).map(function(a){a instanceof b("immutable").List&&a.size>0&&a.first()instanceof b("immutable").Map&&a.first().has("name")&&d.push(a.first().get("name"))});a.map(function(a){a instanceof b("immutable").List&&a.size>0&&a.first()instanceof b("immutable").Map&&a.first().has("name")&&d.push(a.first().get("name"))});return d.join(" ")}e.exports={hasLabelFieldInRule:a,getLabelNameFromTargetingRule:c,generateSegmentName:d}}),null);
__d("AdsUEditorCampaignCarteSectionStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getCarteSectionTitle:function(){return g._("Segment Asset Customization")},getCarteSectionSubtitle:function(){return g._("Create ads for specific segments of your audience.")},getCarteL1SectionSubtitle:function(){return g._("Select a category before adding your audience segments")},getSegmentTitle:function(a){return g._("Segment {segment number}",[g._param("segment number",a)])}};e.exports=a}),null);
__d("AdsCarteAssetCustomizationSpecSelectors",["AdsAccountUtils","AdsAPIAdAssetCallToActionFields","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsBulkValueUtils","AdsCarteAccordionDataProvider","AdsCarteAssetCustomizationRuleUtils","AdsEmptyValue","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignCarteSectionStrings","AdsUniformValue","CarteSelectedDimensionsDataProvider","adsCreateSelector","adsUEditorAccountSelector","adsUEditorSelectedAdgroupsSelector","firstx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("AdsCarteAssetCustomizationRuleUtils").generateSegmentName;f=(c=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupsSelector"),d=b("adsUEditorAccountSelector")],function(a,c){if(b("AdsAccountUtils").hasCapability(c,"CAN_USE_CARTE")&&a.length>0){c=b("firstx")(a);return b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(c)}return!1},{name:e.id+".adsCarteHasDCAssetCustomizationAssetFeedSelector"});var j=c([b("AdsCarteAccordionDataProvider").toFluxSelector()],function(a){return a.selectedIndex},{name:e.id+".adsCarteSelectedSegmentIndexSelector"}),k=c([(g=b("AdsUEditorAdgroupBulkSelectors")).selectorByPath((h=b("AdsAPIAdgroupPaths")).CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.VIDEOS),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){__p&&__p();if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);var c=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).fieldValue;c=c?new(b("AdsUniformValue"))(c):b("AdsEmptyValue").instance();var d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL).fieldValue;d=d?new(b("AdsUniformValue"))(d):b("AdsEmptyValue").instance();a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH).fieldValue;a=a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance();return{videoID:c,imageURL:d,imageHash:a}}else return{videoID:b("AdsEmptyValue").instance(),imageURL:b("AdsEmptyValue").instance(),imageHash:b("AdsEmptyValue").instance()}}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentVideoDataSelector"}),l=c([j,k],function(a,c){var d={videoID:b("AdsEmptyValue").instance(),imageURL:b("AdsEmptyValue").instance(),imageHash:b("AdsEmptyValue").instance()};return a!=null?c.get(a,d):d},{name:e.id+".adsCarteSelectedSegmentVideoDataSelector"}),m=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.BODIES),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,a,b("AdsAPIAdAssetFeedBodiesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()}else return b("AdsEmptyValue").instance()}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentBodyTextSelector"});function a(a){__p&&__p();return b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),b("adsUEditorAccountSelector")],function(c,d,e){__p&&__p();if(b("AdsAccountUtils").hasCapability(e,"CAN_USE_CARTE")){e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);var f=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(d);return e&&e!==b("AdsBulkValueUtils").MIXED_VALUE?e.map(function(c){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)){c=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);c=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(f,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,c,a).fieldValue;return c?new(b("AdsUniformValue"))(c):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()}return b("immutable").List()},{name:e.id})}var n=a(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);a=a(b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL);var o=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.TITLES),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentHeadlineSelector"}),p=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),d],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()}else return b("AdsEmptyValue").instance()}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentDescriptionSelector"});d=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS),d],function(a,c,d){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsCarteAssetCustomizationRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL)){a=b("AdsCarteAssetCustomizationRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetCallToActionFields").ADLABELS,a,b("AdsAPIAdAssetCallToActionFields").TYPE).fieldValue;return a?new(b("AdsUniformValue"))(a):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()},{name:e.id+".adsCarteSegmentCallToActionTypeSelector"});var q=c([d],function(a){return a.map(function(a){return new(b("AdsUniformValue"))(!!b("AdsBulkValueUtils").getUniformValueOrDefault(a))})},{name:e.id+".adsCarteSegmentCallToActionEnabledSelector"});g=c([g.selectorByPath(h.CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES)],function(a){a=b("AdsBulkValueUtils").getUniformValueOrDefault(a,b("immutable").List());return a},{name:e.id+".adsCarteAssetCustomizationRulesSelector"});h=c([g,b("CarteSelectedDimensionsDataProvider").toFluxSelector()],function(a,c){var d=c.selectedDimensions;return a.map(function(a,c){a=i(a,d);return a||b("AdsUEditorCampaignCarteSectionStrings").getSegmentTitle(c+1)})},{name:e.id+".adsCarteSegmentsNameSelector"});c=c([g,h,k,m],function(a,c,d,e){return a.map(function(a,f){return{index:f,rule:a,bodyText:b("AdsBulkValueUtils").getUniformValueOrDefault(e.get(f)),name:c.get(f),video:d.get(f)}})},{name:e.id+".adsCarteSegmentsSelector"});e.exports={adsCarteAssetCustomizationRulesSelector:g,adsCarteHasDCAssetCustomizationAssetFeedSelector:f,adsCarteSegmentsSelector:c,adsCarteSelectedSegmentIndexSelector:j,adsCarteSegmentsNameSelector:h,adsCarteSegmentVideoDataSelector:k,adsCarteSelectedSegmentVideoDataSelector:l,adsCarteSegmentBodyTextSelector:m,adsCarteSegmentWebsiteURLSelector:n,adsCarteSegmentDisplayURLSelector:a,adsCarteSegmentHeadlineSelector:o,adsCarteSegmentDescriptionSelector:p,adsCarteSegmentCallToActionTypeSelector:d,adsCarteSegmentCallToActionEnabledSelector:q}}),null);
__d("AdsVideoPlacementAssetSelectorSelectors",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsCarteAssetCustomizationSpecSelectors","AdsImageIDClasses","AdsImageInfoStore","AdsLoadState_LEGACY","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorSelectors","AdsVideoStore","LoadObject","PlacementAssetCustomizationTypes","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","firstx","immutable","isFalsey","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j;a=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteHasDCAssetCustomizationAssetFeedSelector;c=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteSelectedSegmentVideoDataSelector;var k=b("AdsImageIDClasses").AdsImageID;d=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector;f=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;var l=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,m=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,n=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,o=b("PlacementAssetCustomizationTypes").PAC_PHASE_1,p=b("PlacementAssetCustomizationTypes").PAC_PHASE_2,q=(g=b("AdsUEditorAdgroupBulkSelectors")).selectorByPath((h=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID),r=g.selectorByPath(h.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL),s=g.selectorByPath(h.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH),t=g.selectorByPath(h.CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CAPTION_IDS);g=g.selectorByPath(h.CREATIVE.PLATFORM_CUSTOMIZATIONS.path);h=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("isFalsey")(a)?null:b("AdsVideoStore").get(a)},{name:e.id+".videoInfoStoreSelector"});q=(i=b("adsCreateSelector"))([a,c,q,g],function(a,c,d,e){__p&&__p();if(!a&&(b("AdsBulkValueUtils").isNullValue(d)||d instanceof b("AdsMixedValue")))return null;a=a?b("AdsBulkValueUtils").getUniformValueOrDefault(c.videoID,null):b("AdsBulkValueUtils").getUniformValue(d,null);c=e.getValues().map(function(a){return a!=null&&a.instagram!=null&&a.instagram.video_id!=null?a.instagram.video_id:null}).filter(function(a,b,c){return c.indexOf(a)===b});if(c.length>1)return null;d=c.length===0?null:c[0];return{baseVideoID:a,instagramCustomizationVideoID:d}},{name:e.id+".platformVideoIDsSelector"});var u=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSizeURL(a)},{name:e.id+".imageURLStoreSelector"}),v=i([j=b("adsUEditorAccountSelector"),s],function(a,c){c=b("AdsBulkValueUtils").getUniformValue(c,null);return b("isTruthy")(c)?[k.fromAcountAndHash(a.account_id,c)]:[]},{name:e.id+".imageIDsFromHashSelector"});v=b("adsCreateMapSelector")(v,u,e.id+".imageURLMapSelector");u=i([q],function(a){var b=[];a&&a.baseVideoID!=null&&a.baseVideoID!==""&&b.push(a.baseVideoID);a&&a.instagramCustomizationVideoID!=null&&a.instagramCustomizationVideoID!==""&&b.push(a.instagramCustomizationVideoID);return b},{name:e.id+".videoIDsSelector"});u=b("adsCreateMapSelector")(u,h,e.id+".videoInfoMapSelector");h=i([j,v,g,q,a,c,t,u,s,r,b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c,d,e,f,g,h,i,j,l,m){__p&&__p();if(e==null)return b("LoadObject").empty();var n=e.baseVideoID!=null&&e.baseVideoID!==""?i.get(e.baseVideoID):null;i=e.instagramCustomizationVideoID!=null&&e.instagramCustomizationVideoID!==""?i.get(e.instagramCustomizationVideoID):null;if(n&&n.loadState!==b("AdsLoadState_LEGACY").LOADED||i&&i.loadState!==b("AdsLoadState_LEGACY").LOADED){e=n==null?void 0:n.error;return n&&n.loadState===b("AdsLoadState_LEGACY").ERROR&&e!=null?b("LoadObject").withError(e):b("LoadObject").loading()}e=null;if(m){m=b("firstx")(m);m=m.adgroup;e=m.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE)}var o;if(n){m=f?b("AdsBulkValueUtils").getUniformValueOrDefault(g.imageHash,null):b("AdsBulkValueUtils").getUniformValue(j,null);j=f?b("AdsBulkValueUtils").getUniformValueOrDefault(g.imageURL,null):b("AdsBulkValueUtils").getUniformValue(l,null);if(b("isFalsey")(j)&&b("isTruthy")(m)){g=k.fromAcountAndHash(a.account_id,m);l=c.get(g);if(l.isLoading())return b("LoadObject").loading();else l.hasValue()&&(j=l.getValueEnforcing())}a=f?null:b("AdsBulkValueUtils").getUniformValue(h,null);a!=null&&a instanceof b("immutable").List&&(a=a.map(String).toArray());o={captionIDs:a||[],format:"video",thumbnailUrl:j,thumbnailSource:e,video:n}}var p;if(i){m=null;c=null;var q;g=b("AdsBulkValueUtils").getUniformValue(d,null);g!=null&&g.instagram!=null&&(m=g.instagram.image_url,c=g.instagram.thumbnail_source,q=g.instagram.caption_ids);q!=null&&q instanceof b("immutable").List&&(q=q.map(String).toArray());p={captionIDs:q||[],format:"video",thumbnailUrl:m,video:i,thumbnailSource:c}}return b("LoadObject").withValue({baseVideo:o,instagramCustomizationVideo:p})},{name:e.id+".videosSelector"});v=i([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get),f,d,l,q,u,j,b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d,e,f,g,h,i){__p&&__p();if(f==null)return b("LoadObject").empty();var j=d===o,k=d===p,l=[];f.baseVideoID!=null&&f.baseVideoID!==""&&l.push(e.basePlacementGroup);(f.instagramCustomizationVideoID!=null&&f.instagramCustomizationVideoID!==""||j)&&e.customizationPlacementGroups.length>0&&l.push(e.customizationPlacementGroups[0]);var m,q=b("immutable").Map(),r,s;if(k&&l.length===1&&c!=null){m=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(c.assetGroups,i);q=c.placementsByAssetGroup;var t=f.baseVideoID!=null?g.get(f.baseVideoID):null;if(t){j=m.filter(function(c){c=q.get(c);var d=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE);d=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo(t,b("nullthrows")(c),d,h.capabilities);return d.size===c.size});r=(e=b("immutable")).Map((k={},k[l[0]]=e.List(j),k));s=e.Map((i={},i[l[0]]=e.List(m),i))}}return b("LoadObject").withValue({assetGroups:n(m||[]),placementAssetCustomizationType:d,labels:b("immutable").List(l),placementsByAssetGroup:q,validAssetGroupsByAsset:r||b("immutable").Map(),assetGroupsByAsset:s||b("immutable").Map()})},{name:e.id+".nonAssetFeedAdgroupInfoSelector"});g=i([v,h],function(a,c){if(c.isLoading()||a.isLoading())return b("LoadObject").loading();if(c.isEmpty()||a.isEmpty())return b("LoadObject").withValue(!1);if(c.hasError())return b("LoadObject").withError(c.getErrorEnforcing());a=c.getValueEnforcing();c=a.baseVideo;return c==null?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector"});a=i([j,g,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),v,l,h],function(a,c,d,e,f,g){__p&&__p();if(c.isLoading()||g.isLoading()||e.isLoading())return b("LoadObject").loading();if(g.hasError())return b("LoadObject").withError(g.getErrorEnforcing());if(!c.getValueEnforcing()||g.isEmpty()||e.isEmpty())return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from non asset feed"));c=a.account_id;a=g.getValueEnforcing();g=a.baseVideo;if(g==null)return b("LoadObject").withError(new Error("An initial video must be selected to use the placement asset selector"));var h={};g&&(h[f.basePlacementGroup]=g);a.instagramCustomizationVideo&&(h[m.INSTAGRAM]=a.instagramCustomizationVideo);return b("LoadObject").withValue(babelHelpers["extends"]({accountID:c,adgroupIDs:d.map(function(a){return a.adgroup.id}),campaignIDs:d.map(function(a){return a.campaign.id}),assets:b("immutable").Map(h)},e.getValueEnforcing(),f))},{name:e.id+".adsUEditorAdgroupVideoPACNonAssetFeedSelector"});c=i([a],function(a){if(a.isLoading())return b("LoadObject").loading();if(a.getValue()==null)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from DOF"));a=a.getValueEnforcing();return b("LoadObject").withValue(babelHelpers["extends"]({},a,{assetsPlacements:b("immutable").Map(),customizationPlacementGroups:[],placementsByAssetGroup:b("immutable").Map(),placementAssetCustomizationType:o,validAssetGroupsByAsset:b("immutable").Map()}))},{name:e.id+".adsUEditorAdgroupVideoDOFSelector"});e.exports={nonAssetFeedAdgroupInfoSelector:v,adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector:g,adsUEditorAdgroupVideoPACNonAssetFeedSelector:a,adsUEditorAdgroupVideoDOFSelector:c,adsUEditorAdgroupVideosSelector:h}}),null);
__d("adsPlacementCustomizationAssetFeedSpecFieldsToCopyToAdWithPost",["AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC;f=b("immutable").Map((c={},c[(d=b("AdsAPIAdAssetFeedFields")).AD_FORMATS]=a.AD_FORMATS,c[d.IMAGES]=a.IMAGES,c[d.VIDEOS]=a.VIDEOS,c[d.BODIES]=a.BODIES,c[d.CALL_TO_ACTIONS]=a.CALL_TO_ACTIONS,c[d.CALL_TO_ACTION_TYPES]=a.CALL_TO_ACTION_TYPES,c[d.CAPTIONS]=a.CAPTIONS,c[d.DESCRIPTIONS]=a.DESCRIPTIONS,c[d.GROUPS]=a.GROUPS,c[d.LINK_URLS]=a.LINK_URLS,c[d.TITLES]=a.TITLES,c));e.exports=f}),null);
__d("adsPlacementCustomizationConvertPostAdToPAC",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsMessengerConstants","ApiDynamicCreativeOptimizationTypes","adsPlacementCustomizationAssetFeedSpecFieldsToCopyToAdWithPost","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC;function h(a,c,d,e){return c[d]!=null?a.setIn(e,b("immutable").fromJS(c[d])):a}function a(a,c,d){var e=c,f=a;f=f.setIn(g.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT);f=f.setIn(g.ASSET_CUSTOMIZATION_RULES,b("immutable").fromJS([(c={},c[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]=[],c)]));c=(a=f.creative)==null?void 0:a.page_welcome_message;c!=null&&(f=f.setIn(g.ADDITIONAL_DATA.PAGE_WELCOME_MESSAGE,c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PAGE_WELCOME_MESSAGE));d===b("AdsAPIObjectives").MESSAGES&&e.call_to_action_types&&e.call_to_action_types.length===1&&(!e.link_urls||e.link_urls&&e.link_urls.length===1&&e.link_urls[0].website_url==="")&&(e=babelHelpers["extends"]({},e,{link_urls:[{website_url:b("AdsMessengerConstants").EMPTY_MESSENGER_LINK}],call_to_actions:[{type:e.call_to_action_types[0],value:{app_destination:"MESSENGER"}}]}));b("adsPlacementCustomizationAssetFeedSpecFieldsToCopyToAdWithPost").forEach(function(a,b){f=h(f,e,b,a)});return f}e.exports=a}),null);
__d("AdsPageRestrictedDataStore",["AdsBaseDataStore_LEGACY","AdsLoadState_LEGACY","AdsPageRestrictedDataBatchLoadedDataActionFlux","AdsPageRestrictedDataBatchLoadErrorDataActionFlux","AdsPageRestrictedDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsPageRestrictedDataManager")};d.__getActionTypes=function(){return[b("AdsPageRestrictedDataBatchLoadErrorDataActionFlux").actionType,b("AdsPageRestrictedDataBatchLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsPageRestrictedDataBatchLoadedDataActionFlux").actionType:this.__handleData(a.pages,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsPageRestrictedDataBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break}};return c}(b("AdsBaseDataStore_LEGACY"));e.exports=new a()}),null);
__d("AdsUEditorAdgroupPageSelectors",["AdsAPIAdgroupRecordUtils","AdsBulkValueUtils","AdsEmptyValue","AdsLoadStateUtils_LEGACY","AdsPageRestrictedDataStore","AdsPageStore","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupSelectors","AdsUniformValue","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","isFalsey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();f=(a=b("adsCreateSelector"))([(c=b("AdsUEditorAdgroupBulkSelectors")).pageID,b("adsCreateStoreThunkSelector")(d=b("AdsPageStore"),function(a){return b("AdsPageStore").getAll(a)})],function(a,c){var d=a.getValues();c=b("AdsLoadStateUtils_LEGACY").getLoadedValuesSingleMap(c(d));return a instanceof b("AdsEmptyValue")?b("AdsEmptyValue").instance():b("AdsBulkValueUtils").aggregate(c)},{name:e.id+".bulkPage"});var g=a([d.getAllSelector,c.pageID],function(a,b){return a(b.getValues().filter(Boolean))},{name:e.id+".pageMap"}),h=b("AdsUEditorAdgroupSelectors").adgroups.mapTransform(function(a,c){return b("AdsAPIAdgroupRecordUtils").getPageID(a,c)}),i=a([d.getSelector,h],function(a,b){return b.map(function(b){return b==null?null:a(b)})},{name:e.id+".adgroupIDsToPages"}),j=a([i],function(a){return a.map(function(a){return a?b("AdsLoadStateUtils_LEGACY").toLoadObject(a):b("LoadObject").empty()})},{name:e.id+".adgroupIDsToPageLoadObjects"});d=a([c.pageID,b("adsCreateStoreThunkSelector")(d,function(a){return b("AdsPageStore").get(a)})],function(a,c){a=a instanceof b("AdsUniformValue")?a.getValue():null;return b("isFalsey")(a)?null:c(a)},{name:e.id+".pageCreatingAd"});a=a([c.pageID,b("adsCreateStoreThunkSelector")(b("AdsPageRestrictedDataStore"),function(a){return b("AdsPageRestrictedDataStore").getAll(a)})],function(a,b){a=a.getValues().filter(Boolean);return b(a)},{name:e.id+".pageRestrictedData"});e.exports={bulkPage:f,pageCreatingAd:d,pageMap:g,adgroupIDsToPageIDs:h,adgroupIDsToPages:i,adgroupIDsToPageLoadObjects:j,pageRestrictedData:a}}),null);
__d("adsCallToActionGetFBGEOUrlPrefix",[],(function(a,b,c,d,e,f){"use strict";var g="fbgeo://";function a(){return g}e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTACommonSelectors",["AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsEmptyUniformMixedBulkValueTypes","AdsUEditorSelectors","isFalsey","AdsExistingPostCTAProvider","AdsExistingPostCTAUtils","AdsLoadObjectUtils","AdsMessengerExistingPostCTASelectorEligibilityDataProvider","AdsPagePostProvider","AdsPagePostUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupPageSelectors","AdsUEditorAdgroupSelectors","AdsUniformValue","LoadObject","URI","ads-lib-urllib","adsCallToActionGetFBGEOUrlPrefix","adsCreateSelector","adsCreateStoreSelector","adsUEditorAdgroupPublishStatusSelector","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j;a=b("AdsExistingPostCTAProvider").toFluxSelector();var k=b("AdsExistingPostCTAProvider").toFluxStore(),l=b("AdsExistingPostCTAUtils").maybeGetPostIDFromObjectStoryID;c=b("AdsPagePostProvider").toFluxSelector();var m=b("AdsPagePostProvider").toFluxStore();d=b("AdsMessengerExistingPostCTASelectorEligibilityDataProvider").toFluxSelector();var n=(f=b("adsCreateSelector"))([b("AdsUEditorSelectors").campaignGroup.bulkByAccessor(b("AdsCampaignGroupRecordAccessors").objective.get)],function(a){return b("AdsBulkValueUtils").getUniformValueOrDefault(a,b("AdsAPIObjectives").NONE)},{name:e.id+".objectiveSelector"}),o=(h=b("adsCreateStoreSelector"))([k],function(a){return k.getState().get(a)},{name:e.id+".existingPostCTAStoreSelector"});a=f([(i=b("AdsUEditorAdgroupSelectors")).adgroups.mapTransform((j=b("AdsAPIAdgroupRecordUtils")).getPagePostID),a],function(a,b){return a.map(function(a){return a==null?null:b.get(a)})},{name:e.id+".adgroupIDToExistingPostCTAValuesSelector"});var p=f([i.adgroups.map(function(a){return(a=a.creative)==null?void 0:a.object_story_id})],function(a){return a.filter(function(a){return!!a}).map(function(a){return b("nullthrows")(a)})},{name:e.id+".pagePostIDSelector"}),q=h([m],function(a){return m.getState().get(a)},{name:e.id+".pagePostStoreSelector"}),r=f([q],function(a){if(a.hasError())return b("LoadObject").withError(new Error("Post failed to load"));if(!a.hasValue())return b("LoadObject").loading();a=a.getValueEnforcing();var c=b("getByPath")(a,["call_to_action","type"],"NO_BUTTON");a=b("getByPath")(a,["call_to_action","value","link"],"");return b("LoadObject").withValue({postCTALink:a,postCTAType:c})},{name:e.id+".postCTAValuesSelector"});c=f([i.adgroups.mapTransform(j.getPagePostID),c],function(a,b){return a.filter(Boolean).map(function(a){return b.get(a)})},{name:e.id+".adgroupIDsToPostLoadObjectSelector"});var s=f([c],function(a){return a.map(function(a){return a.mapValue(function(a){var b;return{postCTAType:((b=a.call_to_action)==null?void 0:b.type)||"NO_BUTTON",postCTALink:((b=a.call_to_action)==null?void 0:(a=b.value)==null?void 0:a.link)||""}})})},{name:e.id+".adgroupIDsToPostCTAValuesSelector"}),t=f([q],function(a){if(a.hasError())return b("LoadObject").withError(new Error("Post failed to load"));if(!a.hasValue())return b("LoadObject").loading();a=a.getValueEnforcing();return b("LoadObject").withValue({postAttachmentType:b("getByPath")(a,["attachments","data","0","type"],""),postStatusType:b("getByPath")(a,["status_type"],"")})},{name:e.id+".postTypeSelector"});q=f([c],function(a){return a.map(function(a){return a.mapValue(function(a){var b;return{postAttachmentType:((b=a.attachments)==null?void 0:(b=b.data[0])==null?void 0:b.type)||"",postStatusType:a.status_type||""}})})},{name:e.id+".adgroupIDsToPostTypeSelector"});var u=f([o,r],function(a,c){return c.map(function(c){var d=c.postCTALink;c=c.postCTAType;var e,f;a&&(e=a.fieldCTA,f=a.fieldLink);d=f===null||f===void 0?d:f;c=e||c;return b("LoadObject").withValue({displayCTALink:d,displayCTAType:c})})},{name:e.id+".displayCTAValuesSelector"}),v=f([a,s],function(a,c){__p&&__p();return c.map(function(c,d){var e=a.get(d);return c.map(function(a){var c=a.postCTALink;a=a.postCTAType;var d,f;e&&(d=e.fieldCTA,f=e.fieldLink);c=f===null||f===void 0?c:f;a=d||a;return b("LoadObject").withValue({displayCTALink:c,displayCTAType:a})})})},{name:e.id+".adgroupIDsToDisplayCTAValuesSelector"}),w=f([u],function(a){return a.map(function(a){a=a.displayCTAType;return a})},{name:e.id+".displayCTATypeSelector"}),x=f([u],function(a){return a.map(function(a){a=a.displayCTALink;return a})},{name:e.id+".displayCTALinkSelector"}),y=f([u,r,o],function(a,c,d){__p&&__p();return a.map(function(a){var e=a.displayCTAType;a=a.displayCTALink;if(c.hasError())return b("LoadObject").withError(c.getErrorEnforcing());else if(c.isLoading()||d&&d.mutatingCTA)return b("LoadObject").loading();var f=c.getValueEnforcing(),g=f.postCTALink;f=f.postCTAType;return{displayCTALink:a,displayCTAType:e,postCTALink:g,postCTAType:f}})},{name:e.id+".existingPostCTAObjectSelector"}),z=f([i.derivedPromotedObjectTypesMap],function(a){return b("AdsBulkValueUtils").getUniformValueOrDefault(b("AdsUniformValue").create(Array.from(a.values())),null)},{name:e.id+".uniformCampaignPromotedObjectSelector"});u=f([v,s,a],function(a,c,d){__p&&__p();return a.map(function(a,e){__p&&__p();var f=c.get(e),g=d.get(e);return a.map(function(a){var c=a.displayCTAType;a=a.displayCTALink;if(f.hasError())return b("LoadObject").withError(f.getErrorEnforcing());else if(f.isLoading()||g&&g.mutatingCTA)return b("LoadObject").loading();var d=f.getValueEnforcing(),e=d.postCTALink;d=d.postCTAType;return{displayCTALink:a,displayCTAType:c,postCTALink:e,postCTAType:d}})})},{name:e.id+".adgroupIDsToExistingPostCTAObjectSelector"});o=h(function(a){return[].concat(p.getStores(a),y.getStores())},function(a){__p&&__p();a=p(a);var c={postCTAType:b("AdsEmptyUniformMixedBulkValueTypes")};a=a.map(function(a){if(!b("AdsPagePostUtils").isPostLoaded(a))return b("LoadObject").loading();a=y(a);if(a.isLoading())return b("LoadObject").loading();else if(a.hasError())return a.getErrorEnforcing();return a.getValueEnforcing()});var d=a.some(function(a){a===b("LoadObject").loading()});if(d)return b("LoadObject").loading();d=b("AdsBulkValueUtils").aggregateDeep(c,a);c=d.postCTAType;return b("LoadObject").withValue({bulkPostCTAType:c})},{name:e.id+".existingPostCTABulkSelector"});v=f([p,d],function(a,c){a=a.map(function(a){a=l(a);if(b("isFalsey")(a))return!1;a=c.get(a);if(a.hasValue())return a.getValueEnforcing()});return a.every(function(a){return a===!0})},{name:e.id+".showPageWelcomeMesageBulkSelector"});s=h(function(a){return[].concat(n.getStores(a),p.getStores(a),y.getStores(),b("adsUEditorAdgroupPublishStatusSelector").getStores(a),t.getStores(),z.getStores(a))},function(a){__p&&__p();var c,d=p(a),e=[];c={displayCTALink:c=b("AdsEmptyUniformMixedBulkValueTypes"),displayCTAType:c,postCTALink:c,postCTAType:c};var f=!1,h=!1;for(var i=d,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;if(!b("AdsPagePostUtils").isPostLoaded(l))return b("LoadObject").loading();var m=y(l);if(m.isLoading())return b("LoadObject").loading();else if(m.hasError())return b("LoadObject").withError(m.getErrorEnforcing());e.push(m.getValueEnforcing());if(!h){m=t(l);if(m.isLoading())return b("LoadObject").loading();m=m.getValueEnforcing();h=m.postAttachmentType==="album"}if(!f){m=t(l);if(m.isLoading())return b("LoadObject").loading();l=m.getValueEnforcing();f=l.postAttachmentType==="new_album"}}m=b("AdsBulkValueUtils").aggregateDeep(c,e);l=m.displayCTALink;k=m.displayCTAType;j=m.postCTALink;i=m.postCTAType;c=n(a);e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(k);(c===b("AdsAPIObjectives").MESSAGES||h)&&e!==b("AdsBulkValueUtils").MIXED_VALUE&&e!=="NO_BUTTON"&&(k=new(b("AdsUniformValue"))("NO_BUTTON"));if(e===b("AdsBulkValueUtils").MIXED_VALUE||e==="NO_BUTTON")if(c===b("AdsAPIObjectives").MESSAGES){m=z(a);m===b("AdsPromotedObjectTypes").MESSENGER?k=new(b("AdsUniformValue"))("MESSAGE_PAGE"):m===b("AdsPromotedObjectTypes").WHATSAPP&&(k=new(b("AdsUniformValue"))("WHATSAPP_MESSAGE"))}else h||f?k=new(b("AdsUniformValue"))("MESSAGE_PAGE"):k=new(b("AdsUniformValue"))("LEARN_MORE");l=b("AdsBulkValueUtils").aggregate(l.getValues().filter(function(a){return!!a}));m=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(l);var o=e==="GET_DIRECTIONS"&&m!=null&&m.startsWith(b("adsCallToActionGetFBGEOUrlPrefix")());e=e!=="GET_DIRECTIONS"&&m!=null&&m!==b("AdsBulkValueUtils").MIXED_VALUE&&b("ads-lib-urllib").isUrl(m)&&(g||(g=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(m));m=m!==b("AdsBulkValueUtils").MIXED_VALUE&&!(o||e);o=b("adsUEditorAdgroupPublishStatusSelector")(a);e=o.some(function(a){a=a.isNew;return a});return b("LoadObject").withValue({bulkDisplayCTALink:l,bulkDisplayCTAType:k,bulkPostCTALink:j,bulkPostCTAType:i,hasDisplayCTALinkError:m,isDraft:e,objective:c,pagePostIDs:d,showCTAMultiPhoto:h,showCTAAlbum:f})},{name:e.id+".existingPostCTABulkObjectSelector"});a=f([b("AdsUEditorAdgroupPageSelectors").adgroupIDsToPageLoadObjects],function(a){return a.map(function(a){return a.mapValue(function(a){return a==null?void 0:(a=a.userpermissions)==null?void 0:(a=a.data[0])==null?void 0:a.role})})},{name:e.id+".adgroupIDsToPageRoleLoadObjectsSelector"});h=f([i.adgroups.mapTransform(j.getPagePostID),d],function(a,c){return a.filter(Boolean).map(b("AdsPagePostUtils").getPostIdFromPagePostId_BROKEN).filter(Boolean).map(function(a){return c.get(a)})},{name:e.id+".adgroupIDsToMessengerExistingPostCTASelectorIsEligibleSelector"});d=f([i.adgroups.mapTransform(j.getPagePostID),u,a,q,h],function(a,c,d,e,f){__p&&__p();return a.map(function(a,g){__p&&__p();if(b("isFalsey")(a))return b("LoadObject").withError(new Error("Error loading post/page"));var h=b("AdsPagePostUtils").getPageIdFromPagePostId_BROKEN(a),i=b("AdsPagePostUtils").getPostIdFromPagePostId_BROKEN(a);if(b("isFalsey")(h)||i==null||i===""||!b("AdsPagePostUtils").isPostLoaded(a))return b("LoadObject").loading();h=c.get(g);i=e.get(g);a=d.get(g);if(!h||!i||!a||h.hasError()||i.hasError()||a.hasError())return b("LoadObject").withError(new Error("Error loading post/page"));if(b("AdsLoadObjectUtils").anyLoadingOrEmpty([h,i,a]))return b("LoadObject").loading();h=h.getValueEnforcing();h=h.postCTAType;i=i.getValueEnforcing();a=a.getValueEnforcing();g=f.get(g);if(!g||g.hasError())return b("LoadObject").withError(new Error("Error loading post/page"));if(g.isLoading()||!g.hasValue())return b("LoadObject").loading();g=g.getValueEnforcing();return b("LoadObject").withValue(babelHelpers["extends"]({postCTAType:h},i,{pageRole:a,isEligibleForExistingPostCTASelector:g}))})},{name:e.id+".adgroupIDsToVisibilityExtraDataSelector"});e.exports={adgroupIDsToPostLoadObjectSelector:c,adgroupIDsToVisibilityExtraDataSelector:d,displayCTALinkSelector:x,displayCTATypeSelector:w,existingPostCTABulkObjectSelector:s,pagePostIDSelector:p,postCTAValuesSelector:r,existingPostCTABulkSelector:o,showPageWelcomeMesageBulkSelector:v}}),null);
__d("adsUEditorAdgroupExistingPostCTADialogFieldSelector",["AdsAssetFeedUtils","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorAdgroupSelectors","adsCreateAdAccountQESelector_LEGACY","adsCreateSelector","adsUEditorSelectedAdgroupIDsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateAdAccountQESelector_LEGACY")("ctm_ads_ve_existing_post_univ");c=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector,b("adsUEditorSelectedAdgroupIDsSelector"),a,b("AdsUEditorAdgroupSelectors").adgroups.every(b("AdsAssetFeedUtils").isPACAdgroupFromRecord)],function(a,b,c,d){var e=!1;c.hasValue()&&(e=c.getValueEnforcing().getParamBool("show_ve",!1));return a.map(function(a){var c=a.bulkDisplayCTALink,f=a.bulkDisplayCTAType,g=a.bulkPostCTALink,h=a.bulkPostCTAType,i=a.hasDisplayCTALinkError,j=a.isDraft,k=a.objective,l=a.pagePostIDs,m=a.showCTAMultiPhoto;a=a.showCTAAlbum;return{bulkDisplayCTALink:c,bulkDisplayCTAType:f,bulkPostCTALink:g,bulkPostCTAType:h,hasDisplayCTALinkError:i,isPACAdgroup:d,isDraft:j,objective:k,pagePostIDs:l,showCTAMultiPhoto:m,showCTAAlbum:a,adgroupIDs:b,veExistingPostTest:e}})},{name:e.id+".adsUEditorAdgroupExistingPostCTADialogFieldSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector",["AdsAssetFeedSpecForPostProvider","LoadObject","adsCreateSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorSelectedAdgroupsSelector","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue(null);a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("AdsAssetFeedSpecForPostProvider").toFluxSelector()],function(a,c){__p&&__p();var d;a=a.length===1?b("first")(a):null;if(a==null||!b("adsIsPACSupportedForAdWithExistingPost")(a))return g;var e=a.account_id;d=(d=a.creative)==null?void 0:d.object_story_id;a=(a=a.creative)==null?void 0:a.instagram_actor_id;if(d==null||e==null||a==null)return g;c=c.get({accountID:e,instagramActorID:a,objectStoryID:d});return c},{name:e.id+".adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector",["LoadObject","adsCreateSelector","adsIsPACSupportedForAdWithExistingPost","adsPlacementCustomizationConvertPostAdToPAC","adsUEditorAdgroupExistingPostCTADialogFieldSelector","adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector","adsUEditorSelectedAdgroupsSelector","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("adsUEditorPlacementCustomizationAssetFeedSpecForAdWithPostSelector"),b("adsUEditorAdgroupExistingPostCTADialogFieldSelector")],function(a,c,d){__p&&__p();a=a.length>0?b("first")(a):null;if(a==null||!b("adsIsPACSupportedForAdWithExistingPost")(a))return b("LoadObject").withValue(null);if(d.isLoading())return b("LoadObject").loading();if(c.isLoading())return b("LoadObject").loading();c=c.hasValue()?c.getValue():null;d=d.hasValue()?d.getValue():null;return c!=null?b("LoadObject").withValue(b("adsPlacementCustomizationConvertPostAdToPAC")(a,c,d&&d.objective)):b("LoadObject").withValue(null)},{name:e.id+".adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector"});e.exports=a}),null);
__d("mixedToString",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null?a:typeof a==="string"?a:null}e.exports=a}),null);
__d("adsImageIDForStaticAdgroupWithPostSelector",["AdsAPIAdAssetFeedImagesFields","AdsAssetSelectorsUtils","AdsPlacementCustomizationConstants","adsCreateSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable","mixedToString"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a){__p&&__p();var c;a=a.hasValue()?a.getValueEnforcing():null;if(a==null)return null;c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images;c=c!=null?b("first")(c):null;a=a.account_id;if(c==null||a==null)return null;a=c!=null?b("AdsAssetSelectorsUtils").getImageID(a,b("mixedToString")(c.get(b("AdsAPIAdAssetFeedImagesFields").HASH)),b("mixedToString")(c.get(b("AdsAPIAdAssetFeedImagesFields").URL))):null;return a!=null?b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,a):null},{name:e.id+".adsImageIDForStaticAdgroupWithPostSelector"});e.exports=a}),null);
__d("adsImageAssetsForStaticAdgroupWithPostSelector",["AdsImageAssetSelectors","AdsImageIDClasses","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","LoadObject","adsCreateMapSelector","adsCreateSelector","adsImageIDForStaticAdgroupWithPostSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=(a=b("AdsImageAssetSelectors")).fullSizeImageSelector;var h=a.getAssetForAccountImage,i=a.getAssetForExternalImage;d=a.imageDimensionsSelector;f=a.imageNameSelector;a=a.thumbnailURLSelector;var j=b("AdsImageIDClasses").AdsAccountImageID,k=b("AdsImageIDClasses").AdsExternalImageID,l=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage,m=b("adsCreateSelector")([b("adsImageIDForStaticAdgroupWithPostSelector")],function(a){return a!=null?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});c=(g=b("adsCreateMapSelector"))(m,c,e.id+".fullSizeImageMapSelector");f=g(m,f,e.id+".imageNameMapSelector");d=g(m,d,e.id+".imageDimensionsMapSelector");g=g(m,a,e.id+".thumbnailURLMapSelector");m=b("adsCreateSelector")([b("adsImageIDForStaticAdgroupWithPostSelector"),c,f,d,g],function(a,c,d,e,f){__p&&__p();var g=b("immutable").Map();a=a!=null&&!a.isEmpty()?b("first")(a.values()):null;if(a==null)return b("LoadObject").withValue(g);if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||f.some(function(a){return a.isLoading()})||e.some(function(a){return a!=null&&a.isLoading()}))return b("LoadObject").loading();var m;if(a instanceof j){f=f.get(a).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a});var n=a.getHash();c=c.get(a);d=d.get(a);m=h(n,c,d,f)}else if(a instanceof k){n=e.get(a);m=n!=null?i(a.getUrl(),n):null}if(m==null||m.format!=="image")return b("LoadObject").withValue(g);c=babelHelpers["extends"]({},m,{backgroundColor:null,pollComponentSpec:null});d=b("AdsPlacementCustomizationConstants").NO_ADLABEL;f={adlabel:d,format:l,isCustomized:!1,validPlacements:b("immutable").List(),value:c};return b("LoadObject").withValue(g.set(d,f))},{name:e.id+".adsImageAssetsForStaticAdgroupWithPostSelector"});e.exports=m}),null);
__d("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector",["AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsVideoStore","LoadObject","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo;c=(a=b("adsCreateSelector"))([b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a){return a.match({loaded:function(a){a=a!=null?a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS):null;return a!=null?a:b("immutable").List()},loading:function(){return b("immutable").List()},error:function(){return b("immutable").List()}})},{name:e.id+".assetFeedVideoListSelector"});d=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("AdsVideoStore").get(a)},{name:e.id+".videoInfoStoreSelector"});var h=a([c],(f=b("AdsAssetFeedVideoAssetsUtils")).getVideoAssetIDs,{name:e.id+".videoAssetIDsSelector"});d=b("adsCreateMapSelector")(h,d,e.id+".videoInfoMapSelector");var i=a([c],f.getVideoThumbnailUrlMap,{name:e.id+".videoThumbnailUrlMapSelector"}),j=a([c],f.getVideoThumbnailSourceMap,{name:e.id+".videoThumbnailSourceMapSelector"});c=a([c],f.getVideoCaptionIDsMap,{name:e.id+".videoCaptionIDsMapSelector"});h=a([h,d,i,j,c],f.getVideoAssetsSelect,{name:e.id+".videoAssetsSelector"});d=a([h],function(a){return a.match({loaded:function(a){var c;a=a!=null?a.first():null;if(a==null)return b("LoadObject").withValue(b("immutable").Map());var d=b("AdsPlacementCustomizationConstants").NO_ADLABEL;return b("LoadObject").withValue(b("immutable").Map((c={},c[d]={adlabel:d,format:g,isCustomized:!1,validPlacements:b("immutable").List(),value:a},c)))},loading:function(){return b("LoadObject").loading()},error:function(){return b("LoadObject").withValue(b("immutable").Map())}})},{name:e.id+".adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector"});e.exports=d}),null);
__d("adsUEditorPlacementCustomizationBodyAssetSelector",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)==null){a=a.get(0).get(b("AdsAPIAdAssetFeedBodiesFields").TEXT);if(typeof a==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,values:b("immutable").List([a]),isCustomized:!1})}},{name:e.id+".noAdlabelsBodyAssetsSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),null),a],function(a,c,d){__p&&__p();if(a==null||c==null||c.size===0)return g;if(d!=null&&d.size>0)return d;var e=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);return a.reduce(function(a,d){if(!b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL))return a;d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);var f=b("AdsAssetFeedFieldUtils").getAssetEntriesForLabel(c,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,d,b("AdsAPIAdAssetFeedBodiesFields").TEXT);f=f!=null?f.map(function(a){return a.fieldValue}):null;return f!=null?a.set(d,{adlabel:d,values:f,isCustomized:e.includes(d)}):a},g)},{name:e.id+".adsUEditorPlacementCustomizationBodyAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationCTAAssetSelector",["AdsAPIAdgroupPaths","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES),null)],function(a){if(b("immutable").List.isList(a)){a=a.get(0);if(typeof a==="string"){var c;return b("immutable").Map((c={},c[b("AdsPlacementCustomizationConstants").NO_ADLABEL]={adlabel:null,value:a,isCustomized:!1},c))}}return g},{name:e.id+".adsUEditorPlacementCustomizationCTAAssetSelector"});e.exports=a}),null);
__d("adsChooseSelector",["AdsSelectorNameUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f=function(){return a()?c.apply(void 0,arguments):d.apply(void 0,arguments)};f.isGetStoresStatic=!1;f.getStores=function(b){return a()?c.getStores(b):d.getStores(b)};f.rawSelectFn=function(){return a()?c.rawSelectFn.apply(c,arguments):d.rawSelectFn.apply(d,arguments)};b("AdsSelectorNameUtils").nameSelector(f,e);return f}e.exports=a}),null);
__d("AdsPlacementCustomizationDataUtils",["AdsAPIAdAssetTargetRuleFields","AdsAssetFeedConstant","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementCustomizationConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAssetFeedConstant").ADLABELS;function a(a,c){a=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);return a==null?null:b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(a,c)}function c(a,c,d,e){a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,g,d).index;d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,g,e).index;return typeof a!=="number"||typeof d!=="number"?!1:d!==a}function h(a,c,d){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,d)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,d);d=c.get(a);return d}}function i(a){return babelHelpers["extends"]({},a,{adlabel:null})}function d(a,c){a=h(a,c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL)||h(a,c,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)||h(a,c,b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL)||c.get(b("AdsPlacementCustomizationConstants").NO_ADLABEL);return(a==null?void 0:a.adlabel)===b("AdsPlacementCustomizationConstants").NO_ADLABEL?i(a):a}function f(a,c,d){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,d)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,d);d=c.get(a);return d}return c.get(b("AdsPlacementCustomizationConstants").NO_ADLABEL)}function j(a,c,d){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,d)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,d);d=c.get(a);return d}return c.get(b("AdsPlacementCustomizationConstants").NO_ADLABEL)}e.exports={getAssetFromTargetingRule:f,getAssetlistFromTargetingRule:j,getDefaultAssetAdlabel:a,getMediaAssetFromTargetingRule:d,isAssetCustomized:c}}),null);
__d("adsUEditorPlacementCustomizationInteractivePollComponentSelector",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),null)],function(a,c){__p&&__p();var d=b("immutable").List();a!=null&&(d=d.concat(a));c!=null&&(d=d.concat(c));a=b("immutable").fromJS(d);return a.reduce(function(a,c){var d=b("AdsAssetFeedFieldUtils").getAssetInteractivePollComponent(b("immutable").Map(c));if(d!=null){c=c.get(b("AdsAPIAdAssetFeedVideosFields").ADLABELS);if(c!=null)return c.reduce(function(a,b){return a.set(b.get("name"),d)},a);else return a.set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,d)}return a},b("immutable").Map())},{name:e.id+".adsUEditorPlacementCustomizationInteractivePollAssetSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector",["AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetUtils","AdsVideoPlacementAssetCustomizationSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsImagePlacementAssetCustomizationSelectors").validAssetGroupsByAssetSelector;c=b("AdsVideoPlacementAssetCustomizationSelectors").validAssetGroupsByAssetSelector;d=b("adsCreateSelector")([a,c],function(a,c){var d=b("immutable").Map();d=a!=null?d.concat(a):d;d=c!=null?d.concat(c):d;return d.map(function(a){return b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(a)})},{name:e.id+".adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"});e.exports=d}),null);
__d("adsUEditorPlacementCustomizationImageAssetSelector",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationDataUtils","AdsUEditorAdgroupBulkSelectors","LoadObject","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsImagePlacementAssetCustomizationSelectors").backgroundColorsByAssetSelector;c=b("AdsImagePlacementAssetCustomizationSelectors").cropsByAssetSelector;d=b("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector;var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage,h=b("immutable").Map();f=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?b("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images}},{name:e.id+".imageAssetsSelector"});var i=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("immutable").List())],function(a){return b("AdsPlacementCustomizationDataUtils").getDefaultAssetAdlabel(a,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL)},{name:e.id+".defaultImageAssetLabelSelector"});f=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),f,i,d,b("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),a,c,b("adsUEditorPlacementCustomizationInteractivePollComponentSelector")],function(a,c,d,e,f,i,j,k){__p&&__p();if(e.isLoading())return b("LoadObject").loading();if(a==null||!e.hasValue()||c==null)return b("LoadObject").withValue(h);e=e.getValueEnforcing();return e==null?b("LoadObject").withValue(h):b("LoadObject").withValue(e.reduce(function(e,h,l){if(h.format!=="image")return e;var m=k.get(l);h=babelHelpers["extends"]({},h,{backgroundColor:i.get(l),crops:j!=null?j.get(l):null,pollComponentSpec:m});return e.set(l,{adlabel:l,format:g,isCustomized:d!=null?b("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,c,d,l):!1,validPlacements:f.get(l)||b("immutable").List(),value:h})},b("immutable").Map()))},{name:e.id+".adsUEditorPlacementCustomizationImageAssetSelector"});e.exports=f}),null);
__d("adsUEditorPlacementCustomizationVideoAssetSelector",["AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedVideoAssetsUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsPlacementCustomizationDataUtils","AdsUEditorAdgroupBulkSelectors","AdsVideoAssetSelectors","LoadObject","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo;a=b("AdsVideoAssetSelectors").assetFeedVideoListSelector;c=b("AdsVideoAssetSelectors").videoAssetsSelector;var h=b("immutable").Map();f=(d=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?b("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.videos}},{name:e.id+".assetFeedVideoAssetSelector"});c=d([c,a],function(a,c){__p&&__p();if(a.isLoading())return b("LoadObject").loading();if(!a.hasValue()||c==null||c.size===0)return b("LoadObject").withValue(h);var d=a.getValueEnforcing();return b("LoadObject").withValue(c.reduce(function(a,c){__p&&__p();var e=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(e!=null){e=d.get(e);if(e.format!=="video")return a;var f=babelHelpers["extends"]({},e);e=c.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL);typeof e==="string"&&(f.thumbnailUrl=e,f.thumbnailSource=b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSource(c));e=c.get(b("AdsAPIAdAssetFeedVideosFields").ADLABELS);if(e!=null&&e instanceof b("immutable").List)return e.reduce(function(a,b){return a.set(b.get("name"),f)},a);else return a.set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,f)}return a},b("immutable").Map()))},{name:e.id+".videoAssetsByAdlabelSelector"});a=d([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("immutable").List())],function(a){return b("AdsPlacementCustomizationDataUtils").getDefaultAssetAdlabel(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)},{name:e.id+".defaultVideoAssetLabelSelector"});d=d([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),f,c,a,b("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),b("adsUEditorPlacementCustomizationInteractivePollComponentSelector")],function(a,c,d,e,f,i){__p&&__p();if(d.isLoading())return b("LoadObject").loading();if(c==null||!d.hasValue()||a==null)return b("LoadObject").withValue(h);d=d.getValueEnforcing();return d==null?b("LoadObject").withValue(h):b("LoadObject").withValue(d.reduce(function(d,h,j){if(h.format!=="video")return d;h=babelHelpers["extends"]({},h,{pollComponentSpec:i.get(j)});h={adlabel:j,format:g,isCustomized:e!=null?b("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,c,e,j):!1,validPlacements:f.get(j)||b("immutable").List(),value:h};return d.set(j,h)},b("immutable").Map()))},{name:e.id+".adsUEditorPlacementCustomizationVideoAssetSelector"});e.exports=d}),null);
__d("adsUEditorPlacementCustomizationCarouselAssetSelector_NEW",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupBulkSelectors","ApiObjectStorySpecLinkChildFields","LoadObject","adsCreateSelector","adsCreateThunkSelector","adsGetUniformValueSelector","adsPlacementAssetGetChildAttachmentFromLabelMap","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationVideoAssetSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,h=b("AdsPlacementAssetUtils").getFirstAdLabel,i=b("ApiObjectStorySpecLinkChildFields").DESCRIPTION,j=b("ApiObjectStorySpecLinkChildFields").LINK,k=b("ApiObjectStorySpecLinkChildFields").NAME,l=b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS,m=b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_END_CARD,n=b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_OPTIMIZED,o=b("immutable").Map();function p(a,c){return a.map(function(a){a=a.getIn([b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,"name"])||a.getIn([b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,"name"]);a=(a=c.get(a))==null?void 0:a.value;return a==null||a.format==="carousel"?b("LoadObject").empty():b("LoadObject").withValue(a)})}c=(a=b("adsCreateSelector"))([b("adsUEditorSelectedAdgroupsSelector")],b("first"),{name:e.id+".selectAdgroup"});d=a([b("adsUEditorPlacementCustomizationVideoAssetSelector"),b("adsUEditorPlacementCustomizationImageAssetSelector")],function(a,b){a=(a=a.getValue())!=null?a:o;b=(b=b.getValue())!=null?b:o;return a.concat(b)},{equal:b("immutable").is,name:e.id+".selectMediaAssets"});f=a([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null)],function(a){a=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);return a==null?void 0:a.getIn([b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL,"name"])},{name:e.id+".selectDefaultCarouselLabel"});a=a([c,b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS),null),b("adsCreateThunkSelector")(f),b("adsCreateThunkSelector")(d)],function(a,c,d,e){__p&&__p();if(c==null||a==null)return o;var f=d(),q=e();return b("immutable").Map(c.reduce(function(c,d){var e=h(d),o=d.get(l),r=o.map(function(c){return b("adsPlacementAssetGetChildAttachmentFromLabelMap")(c,a)}),s=p(o,q);o=r.map(function(a,c){return{media:(c=s.get(c))!=null?c:b("LoadObject").loading(),description:a.get(i),link:a.get(j),headline:a.get(k)}}).toArray();r=d.get(m);d=d.get(n);o={adlabel:e,isCustomized:e===f,format:g,value:{cards:o,format:g,multiShareEndCard:r,multiShareOptimized:d},validPlacements:b("immutable").fromJS(["INSTAGRAM_STREAM","INSTAGRAM_STORY","FACEBOOK_FEED"])};c[e]=o;return c},Object.create(null)))},{name:e.id+".adsUEditorPlacementCustomizationCarouselAssetSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationCarouselAssetSelector",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupBulkSelectors","ApiObjectStorySpecLinkChildFields","LoadObject","adsChooseSelector","adsCreateSelector","adsGetUniformValueSelector","adsPlacementAssetGetChildAttachmentFromLabelMap","adsUEditorPlacementCustomizationCarouselAssetSelector_NEW","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationVideoAssetSelector","adsUEditorSelectedAdgroupsSelector","first","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,h=b("AdsPlacementAssetUtils").getFirstAdLabel,i=b("ApiObjectStorySpecLinkChildFields").DESCRIPTION,j=b("ApiObjectStorySpecLinkChildFields").LINK,k=b("ApiObjectStorySpecLinkChildFields").NAME,l=b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS,m=b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_END_CARD,n=b("AdsAPIAdAssetFeedCarouselFields").MULTI_SHARE_OPTIMIZED,o=b("immutable").Map();function p(a,c){return a.map(function(a){a=a.getIn([b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,"name"])||a.getIn([b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,"name"]);a=(a=c.get(a))==null?void 0:a.value;return a==null||a.format==="carousel"?b("LoadObject").empty():b("LoadObject").withValue(a)})}a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsUEditorPlacementCustomizationVideoAssetSelector"),b("adsUEditorPlacementCustomizationImageAssetSelector")],function(a,c,d,e,f){__p&&__p();var q=a!=null?b("first")(a):null;if(c==null||q==null)return o;e=(a=e.getValue())!=null?a:o;f=(a=f.getValue())!=null?a:o;var r=e.concat(f);a=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(d);var s=a==null?void 0:a.getIn([b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL,"name"]);return c.reduce(function(a,c){var d=h(c),e=c.get(l),f=e.map(function(a){return b("adsPlacementAssetGetChildAttachmentFromLabelMap")(a,q)}),o=p(e,r);e=f.map(function(a,c){return{media:(c=o.get(c))!=null?c:b("LoadObject").loading(),description:a.get(i),link:a.get(j),headline:a.get(k)}}).toArray();f=c.get(m);c=c.get(n);e={adlabel:d,isCustomized:d===s,format:g,value:{cards:e,format:g,multiShareEndCard:f,multiShareOptimized:c}};return a.set(d,e)},o)},{name:e.id+".adsUEditorPlacementCustomizationCarouselAssetSelector_OLD"});c=b("adsChooseSelector")(function(){return b("gkx")("1269701")},b("adsUEditorPlacementCustomizationCarouselAssetSelector_NEW"),a,e.id+".adsUEditorPlacementCustomizationCarouselAssetSelector");e.exports=c}),null);
__d("adsPlacementCustomizationGetDefaultMediaAdlabel",["AdsPlacementAssetCustomizationTypes","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups;a=function(a){return a.some(function(a){a=a.placements;return a.some(function(a){return a.platform==="facebook"})})?g.FACEBOOK:g.INSTAGRAM};e.exports=a}),null);
__d("AdsPlacementCustomizationMediaUtils",["AdsPlacementAssetUtils","adsPlacementCustomizationGetDefaultMediaAdlabel","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;var g=b("immutable").Map,h=b("immutable").Set;function a(a){a=a.customizationData;a=a.find(function(a){return a.isDefault});return a.assets.media}function c(a){return a.reduce(function(a,c){c=c.assets.media;var d=c.validPlacements;return c.adlabel!=null&&d!=null?a.set(c.adlabel,b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d)):a},g())}function d(a){return a.reduce(function(a,c){c=c.placements;c=b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c);return c.reduce(function(a,c){return a.set(c,b("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(c))},a)},g())}function f(a,b){a=a.customizationData;a=a.find(function(a){return((a=a.assets)==null?void 0:(a=a.media)==null?void 0:a.adlabel)===b});return a.assets.media}function i(a){return a.reduce(function(c,d){var e=b("adsPlacementCustomizationGetDefaultMediaAdlabel")(a);d=d==null?void 0:(d=d.assets)==null?void 0:d.media;if(d!=null){var f;return c.set((f=d.adlabel)!=null?f:e,d.value)}return c},g())}function j(a){return a.reduce(function(c,d){var e=b("adsPlacementCustomizationGetDefaultMediaAdlabel")(a),f=d.assets.media;if(!d.isDefault){f=(d=f.adlabel)!=null?d:e;return c.add(f)}return c},h()).toList()}function k(a,c){a=a.find(function(a){return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a.placements).includes(c)});return a==null?void 0:(a=a.assets)==null?void 0:a.media}e.exports={getMediaAssetAdlabelsForCustomizedPlacements:j,getMediaAssetValues:i,getMediaByAssetLabel:f,getMediaForDefaultRule:a,getMediaAssetForAssetGroup:k,getPlacementsByAssetGroup:d,getValidAssetGroupsByMediaAsset:c}}),null);
__d("adsGetAssetGroupsFromPlacementCustomizationData",["AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder;function a(a,c,d){__p&&__p();a=a.reduce(function(a,b){return a.concat(b.placements)},b("immutable").Set());var e=b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a.toList()).toArray();e=e;if(c==="image")e=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(e,d);else if(c==="video")e=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(e,d);else if(c==="carousel"){d=a.filter(function(a){return b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForCarouselPlacementAssetCustomization(a)});e=b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(d.toList()).toArray()}return b("immutable").List(g(e))}e.exports=a}),null);
__d("adsUEditorPlacementCustomizationDescriptionAssetSelector",["AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdgroupPaths","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS)==null){a=a.get(0).get(b("AdsAPIAdAssetFeedDescriptionsFields").TEXT);if(typeof a==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:a,isCustomized:!1})}},{name:e.id+".noAdlabelsDescriptionAssetsSelector"});c=b("adsCreateSelector")([a],function(a){return a!=null&&a.size>0?a:g},{name:e.id+".adsUEditorPlacementCustomizationDescriptionAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationHeadlineAssetSelector",["AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedTitlesFields").ADLABELS)==null){a=a.get(0).get(b("AdsAPIAdAssetFeedTitlesFields").TEXT);if(typeof a==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:a,isCustomized:!1})}},{name:e.id+".noAdlabelsHeadlineAssetsSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),null),a],function(a,c,d){__p&&__p();if(a==null||c==null||c.size===0)return g;if(d!=null&&d.size>0)return d;var e=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);return a.reduce(function(a,d){if(!b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL))return a;d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);var f=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,d,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return f!=null?a.set(d,{adlabel:d,value:f,isCustomized:e.includes(d)}):a},g)},{name:e.id+".adsUEditorPlacementCustomizationHeadlineAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationLanguageSelector",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdgroupPaths","AdsAPITargetFields","AdsAssetFeedLanguageMappingsStatic","AdsDLOLanguageUtils","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null)],function(a,c){__p&&__p();if(a==null||c==null)return;a=b("first")(a);if(a==null)return;c=c.reduce(function(a,c){var d=c.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("AdsAPITargetFields").LOCALES]);if(d==null)return a.set(c,null);d=b("first")(d);d=d!=null?b("AdsAssetFeedLanguageMappingsStatic").locales_to_language_codes[d]:null;return a.set(c,d!=null?b("immutable").List([d]):null)},b("immutable").Map());a=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);return{primaryLanguage:a,targetingRuleToLanguageMap:c}},{name:e.id+".adsUEditorPlacementCustomizationLanguageSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationTargetingRulesSelector",["AdsAPIAdgroupPaths","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(b("adsIsPACSupportedForAdWithExistingPost")),!1),b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector"),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null)],function(a,c,d){if(!a)return d;a=c.hasValue()?c.getValue():null;return a!=null?a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES):null},{name:e.id+".adsUEditorPlacementCustomizationTargetingRulesSelector"});e.exports=a}),null);
__d("adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector",["AdsPlacementAssetTargetingRuleUtils","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdObjectsForSelectedCampaignsSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedCampaignsSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a,c,d){if(a!=null&&a.length!==1&&c==null)return b("immutable").Map();a=b("first")(a);return a==null||d.isLoading()?b("immutable").Map():c.reduce(function(a,c){var e=b("AdsPlacementAssetTargetingRuleUtils").computeDefaultRulePlacementsSet(c,d);return e!=null?a.set(c.adgroup.id,e):a},b("immutable").Map())},{name:e.id+".adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector",["AdsPlacementAssetTargetingRuleUtils","adsCreateSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorSelectedAdgroupIDsSelector","adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsUEditorPlacementCustomizationTargetingRulesSelector"),b("adsUEditorSelectedAdgroupIDsSelector"),b("adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector")],function(a,c,d){__p&&__p();if(a==null||c==null)return g;c=b("first")(c);if(c==null)return g;var e=d.get(c);return a.reduce(function(a,c){var d=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(c);d.isEmpty()&&e!=null&&(d=e.toList());return a.set(c,d)},g)},{name:e.id+".adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"});e.exports=a}),null);
__d("adsUEditorPlacementCustomizationUrlAssetSelector",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsGetUniformValueSelector","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map();a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get(b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS)==null){a=b("first")(a);if(a!=null&&typeof a.get(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL)==="string")return b("immutable").Map().set(b("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:{websiteUrl:a.get(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL),displayUrl:a.get(b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL)},isCustomized:!1})}},{name:e.id+".noAdlabelsUrlAssetsSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),null),a],function(a,c,d){__p&&__p();if(a==null||c==null||c.size===0)return g;if(d!=null&&d.size>0)return d;var e=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);return a.reduce(function(a,d){if(!b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL))return a;d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);var f=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,d,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL).fieldValue,g=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,d,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL).fieldValue;return f!=null?a.set(d,{adlabel:d,value:{displayUrl:g,websiteUrl:f},isCustomized:e.includes(d)}):a},g)},{name:e.id+".adsUEditorPlacementCustomizationUrlAssetSelector"});e.exports=c}),null);
__d("adsUEditorPlacementCustomizationDataSelector",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsCarouselPlacementAssetSelectorSelectors","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationDataUtils","AdsPlacementCustomizationMediaUtils","AdsUEditorAdgroupBulkSelectors","AdsVideoPlacementAssetSelectorSelectors","ApiDynamicCreativeOptimizationTypes","LoadObject","PlacementAssetCustomizationTypes","adsCreateAdAccountGKSelector","adsCreateSelector","adsCreateStructuredSelector","adsCreateThunkSelector","adsGetAssetGroupsFromPlacementCustomizationData","adsGetUniformValueSelector","adsImageAssetsForStaticAdgroupWithPostSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector","adsUEditorPlacementCustomizationBodyAssetSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationCarouselAssetSelector","adsUEditorPlacementCustomizationCTAAssetSelector","adsUEditorPlacementCustomizationDescriptionAssetSelector","adsUEditorPlacementCustomizationHeadlineAssetSelector","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationLanguageSelector","adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorPlacementCustomizationUrlAssetSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorPlacementCustomizationVideoAssetSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("AdsCarouselPlacementAssetSelectorSelectors").adsUEditorAdgroupCarouselPACNonAssetFeedSelector;c=b("AdsImagePlacementAssetCustomizationSelectors").cropsByAssetSelector;d=b("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector;f=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector;var i=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,j=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,k=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements,l=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideosSelector,m=(g=b("adsCreateStructuredSelector"))({bodies:(h=b("adsCreateSelector"))([],function(){return b("immutable").Map()},{name:e.id+".bodies"}),carousels:h([],function(){return b("immutable").Map()},{name:e.id+".carousels"}),ctas:h([],function(){return b("immutable").Map()},{name:e.id+".ctas"}),descriptions:h([],function(){return b("immutable").Map()},{name:e.id+".descriptions"}),headlines:h([],function(){return b("immutable").Map()},{name:e.id+".headlines"}),imagesLoadObject:b("adsImageAssetsForStaticAdgroupWithPostSelector"),urls:h([],function(){return b("immutable").Map()},{name:e.id+".urls"}),videosLoadObject:b("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector")},e.id+".adgroupWithPostCreativesSelector"),n=g({bodies:b("adsUEditorPlacementCustomizationBodyAssetSelector"),carousels:b("adsUEditorPlacementCustomizationCarouselAssetSelector"),ctas:b("adsUEditorPlacementCustomizationCTAAssetSelector"),descriptions:b("adsUEditorPlacementCustomizationDescriptionAssetSelector"),headlines:b("adsUEditorPlacementCustomizationHeadlineAssetSelector"),imagesLoadObject:b("adsUEditorPlacementCustomizationImageAssetSelector"),urls:b("adsUEditorPlacementCustomizationUrlAssetSelector"),videosLoadObject:b("adsUEditorPlacementCustomizationVideoAssetSelector")},e.id+".assetFeedCreativesSelector");c=h([d,c,l,a],function(a,b,c,d){a=a.getValue();if(a!=null){a=a.get(j.FACEBOOK);return b!=null&&a!=null&&a.format==="image"?babelHelpers["extends"]({},a,{crops:b.get(j.FACEBOOK)}):a}b=c.getValue();return b!=null?b.baseVideo:d},{name:e.id+".regularAdgroupMediaSelector"});a=h([d,l],function(a,b){a=a.getValue();if(a!=null)return a.get(j.INSTAGRAM);a=b.getValue();return a!=null?a.instagramCustomizationVideo:null},{name:e.id+".regularAdgroupInstagramMediaSelector"});l=h([i,c,d=b("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,c,d){if(a==null||c==null)return b("immutable").List();var e=a.assetGroups;a=a.placementsByAssetGroup;var f=c.format==="video"?b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(e,d):b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(e,d);return a.filter(function(a,b){return f.includes(b)}).toList().flatten()},{name:e.id+".adsUEditorRegularAdgroupPlacementsSelector"});i=h([l],function(a){return a.some(function(a){return a.platform==="facebook"})?j.FACEBOOK:j.INSTAGRAM},{name:e.id+".regularAdgroupAdlabelSelector"});c=g({bodies:h([],function(){return null},{name:e.id+".bodies"}),description:h([],function(){return null},{name:e.id+".description"}),headline:h([],function(){return null},{name:e.id+".headline"}),media:h([c,b("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),i],function(a,c,d){return a==null?null:{adlabel:d,format:a.format,isCustomized:!1,validPlacements:c.get(d)||b("immutable").List(),value:a}},{name:e.id+".media"}),url:h([],function(){return null},{name:e.id+".url"})},e.id+".regularAdgroupCreativesSelector");i=g({bodies:h([],function(){return null},{name:e.id+".bodies"}),description:h([],function(){return null},{name:e.id+".description"}),headline:h([],function(){return null},{name:e.id+".headline"}),media:h([a],function(a){return a==null?null:{adlabel:j.INSTAGRAM,format:a.format,isCustomized:!1,value:a}},{name:e.id+".media"}),url:h([],function(){return null},{name:e.id+".url"})},e.id+".regularAdgroupInstagramCreativesSelector");g=h([c,i,b("adsUEditorPlacementCustomizationLanguageSelector"),l,f,d],function(a,c,d,e,f,g){__p&&__p();var h=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["media"]);var i=f===b("PlacementAssetCustomizationTypes").PAC_PHASE_2;if(h==null)return b("LoadObject").withValue(null);var j=null;a=b("immutable").List([{isDefault:!0,assets:babelHelpers["extends"]({},a,{media:h}),languages:j,placements:e}]);e=c.media;c=babelHelpers.objectWithoutPropertiesLoose(c,["media"]);e!=null&&(a=a.push({isDefault:f!==b("PlacementAssetCustomizationTypes").PAC_PHASE_1,assets:babelHelpers["extends"]({},c,{media:e}),languages:j,placements:b("immutable").List([{platform:"instagram",position:"stream"}])}));return b("LoadObject").withValue({customizationData:a,isPAC2Supported:i,primaryLanguage:d==null?void 0:d.primaryLanguage,optimizationType:null,derivedValues:{assetGroups:b("adsGetAssetGroupsFromPlacementCustomizationData")(a,h.format,g),mediaAdlabelsForCustomizedPlacements:b("AdsPlacementCustomizationMediaUtils").getMediaAssetAdlabelsForCustomizedPlacements(a),mediaAssets:b("AdsPlacementCustomizationMediaUtils").getMediaAssetValues(a),placementsByAssetGroup:b("AdsPlacementCustomizationMediaUtils").getPlacementsByAssetGroup(a),validAssetGroupsByMediaAssetLabel:b("AdsPlacementCustomizationMediaUtils").getValidAssetGroupsByMediaAsset(a)}})},{name:e.id+".adsUEditorRegularAdgroupPlacementCustomizationDataSelector"});function o(a,c,d,e,f,g,h){__p&&__p();var i=d.bodies,j=d.ctas,l=d.descriptions,m=d.headlines,n=d.imagesLoadObject,o=d.urls,p=d.videosLoadObject;d=d.carousels;if(n.isLoading()||p.isLoading())return b("LoadObject").loading();n=n.hasValue()?n.getValueEnforcing():b("immutable").Map();p=p.hasValue()?p.getValueEnforcing():b("immutable").Map();var q=n.concat(p).concat(d);if(c==null||q.isEmpty())return b("LoadObject").withValue(null);var r=k(c);n=c.reduce(function(a,c){var d=b("AdsPlacementCustomizationDataUtils").getMediaAssetFromTargetingRule(c,q);if(d==null)return a;var g=r===c;d={assets:{media:d,bodies:b("AdsPlacementCustomizationDataUtils").getAssetlistFromTargetingRule(c,i,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL),cta:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,j,b("AdsAPIAdAssetTargetRuleFields").CALL_TO_ACTION_TYPE_LABEL),description:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,l,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL),headline:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,m,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL),url:b("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(c,o,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)},placements:e.get(c),languages:f!=null?f.targetingRuleToLanguageMap.get(c):null,isDefault:g};return g?a.unshift(d):a.concat(d)},b("immutable").List());d=r!=null?(p=b("AdsPlacementCustomizationDataUtils").getMediaAssetFromTargetingRule(r,q))==null?void 0:p.format:null;return b("LoadObject").withValue({customizationData:n,isPAC2Supported:g,optimizationType:a,primaryLanguage:f==null?void 0:f.primaryLanguage,derivedValues:{assetGroups:b("adsGetAssetGroupsFromPlacementCustomizationData")(n,d,h),mediaAdlabelsForCustomizedPlacements:b("AdsPlacementCustomizationMediaUtils").getMediaAssetAdlabelsForCustomizedPlacements(n),mediaAssets:b("AdsPlacementCustomizationMediaUtils").getMediaAssetValues(n),placementsByAssetGroup:b("AdsPlacementCustomizationMediaUtils").getPlacementsByAssetGroup(n),validAssetGroupsByMediaAssetLabel:b("AdsPlacementCustomizationMediaUtils").getValidAssetGroupsByMediaAsset(n)}})}a=h([b("adsUEditorPlacementCustomizationTargetingRulesSelector"),m,b("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"),b("adsUEditorPlacementCustomizationLanguageSelector"),f,d],function(a,c,d,e,f,g){f=f===b("PlacementAssetCustomizationTypes").PAC_PHASE_2;return o(null,a,c,d,e,f,g)},{name:e.id+".adsUEditorRegularAdgroupWithPostPlacementCustomizationDataSelector"});l=h([(c=b("adsGetUniformValueSelector"))((i=b("AdsUEditorAdgroupBulkSelectors")).selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE),null),c(i.selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),null),n,b("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"),b("adsUEditorPlacementCustomizationLanguageSelector"),d],function(a,b,c,d,e,f){return o(a,b,c,d,e,!0,f)},{name:e.id+".assetFeedAdgroupPlacementCustomizationDataSelector"});m=h([l],function(a){__p&&__p();var c=a.hasValue()?a.getValueEnforcing():null;if(c!=null){var d=c.customizationData,e=c.optimizationType,f=c.primaryLanguage;if(e===b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS&&f!=null){e=d.filter(function(a){return a.languages!=null&&a.languages.includes(f)});return b("LoadObject").withValue(babelHelpers["extends"]({},c,{customizationData:e}))}}return a},{name:e.id+".assetFeedAdgroupPlacementCustomizationDataWithPrimaryLanguageSelector"});n=h([c(i.selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE),null),c(i.selectorByAdgroupFn(b("adsIsPACSupportedForAdWithExistingPost")),!1),(f=b("adsCreateThunkSelector"))(l),f(m),f(g),b("adsCreateAdAccountGKSelector")._("arvF8lvqN"),f(a)],function(a,c,d,e,f,g,h){switch(a){case null:return c?h():f();case b("ApiDynamicCreativeOptimizationTypes").PLACEMENT:return d();case b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS:return e();case b("ApiDynamicCreativeOptimizationTypes").DEGREES_OF_FREEDOM:if(g)return f();else return b("LoadObject").withValue(null);default:return b("LoadObject").withValue(null)}},{name:e.id+".adsUEditorPlacementCustomizationDataSelector"});e.exports=n}),null);
__d("AdsInstagramUsernameStore",["AdsBaseDataStore_LEGACY","AdsInstagramAccountBusinessBatchLoadedDataActionFlux","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountUsernameLoadedDataActionFlux","AdsInstagramAccountUsernameLoadErrorDataActionFlux","AdsInstagramUsernameDataManager","AdsLoadState_LEGACY","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsInstagramUsernameDataManager")};d.__getActionTypes=function(){return[b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountUsernameLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountUsernameLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountUsernameLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountUsernameLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.$AdsInstagramUsernameStore1(a.specs);break;case b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType:this.$AdsInstagramUsernameStore2(a.specs);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break}};d.$AdsInstagramUsernameStore1=function(a){if(!a||a.size===0)return;var c=new Map();a.forEach(function(a,d){d=b("getByPath")(a,["page_backed_instagram_accounts","data"],[]).concat(b("getByPath")(a,["instagram_accounts","data"],[]));d.forEach(function(a){return c.set(a.id,a)})});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};d.$AdsInstagramUsernameStore2=function(a){if(!a||a.size===0)return;var c=new Map();a.forEach(function(a,d){d=b("getByPath")(a,["data"],[]);d.forEach(function(a){return c.set(a.id,a)})});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};return c}(b("AdsBaseDataStore_LEGACY"));e.exports=new a()}),null);
__d("AdsPageInstagramAccountStore",["AdsBaseDataStore_LEGACY","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountPageBatchLoadErrorDataActionFlux","AdsInstagramAccountPageClearAccountsDataActionFlux","AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux","AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux","AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux","AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux","AdsInstagramAccountPageLinkAccountDataActionFlux","AdsInstagramAccountPageUnlinkAccountDataActionFlux","AdsLoadState_LEGACY","AdsPageInstagramAccountDataManager","InstagramAuthenticationErrorMessages","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.getWithLoggingSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(c),c.getWithLogging.bind(babelHelpers.assertThisInitialized(c)));c.$AdsPageInstagramAccountStore1={};c.$AdsPageInstagramAccountStore2={};c.$AdsPageInstagramAccountStore3={};return c}var d=c.prototype;d.getDataManager=function(){return b("AdsPageInstagramAccountDataManager")};d.__getActionTypes=function(){return[b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType,b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType,b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType]};d.getWithLogging=function(a,c){b("AdsPageInstagramAccountDataManager").loadWithLogging(a,c)};d.getAllWithLogging=function(a,c){b("AdsPageInstagramAccountDataManager").loadAllWithLogging(a,c)};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType:this.__invalidate(a.data.pageID);break;case b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType:if(this.$AdsPageInstagramAccountStore1[a.data.pageID]===b("AdsLoadState_LEGACY").LOADING)return;this.$AdsPageInstagramAccountStore1[a.data.pageID]=b("AdsLoadState_LEGACY").LOADING;this.__emitChange();b("AdsPageInstagramAccountDataManager").createAndUsePageBackedAccount(a.data.campaignID,a.data.adgroupIDs,a.data.pageID,a.data.accessToken,a.source,a.hostID);break;case b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore4(a.data.pageID);break;case b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType:this.$AdsPageInstagramAccountStore5(a.data);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break;case b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore6(a.data.pageID,a.data.username,a.data.password);break;case b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore7(a.data.pageID,a.data.instagramAccountID);break;case b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType:case b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore8(a.data.pageID);break;case b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore9(a.data.pageID,a.data.instagramAccountID,a.data.errorMessages,a.data.errorCode);break;case b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore10(a.data.pageID,a.data.error,a.data.success);break}};d.getPageBackedAccountCreateState=function(a){return this.$AdsPageInstagramAccountStore1[a]?this.$AdsPageInstagramAccountStore1[a]:b("AdsLoadState_LEGACY").LOADED};d.getPageLinkOrUnlinkAccountErrors=function(a){return this.$AdsPageInstagramAccountStore2[a]?this.$AdsPageInstagramAccountStore2[a]:[]};d.getPageLinkOrUnlinkState=function(a){return this.$AdsPageInstagramAccountStore3[a]?this.$AdsPageInstagramAccountStore3[a]:b("AdsLoadState_LEGACY").LOADED};d.$AdsPageInstagramAccountStore5=function(a){a.instagramAccountIDCallback&&a.instagramAccountIDCallback(a.instagramAccountID),this.$AdsPageInstagramAccountStore1[a.pageID]=b("AdsLoadState_LEGACY").LOADED,this.__invalidate(a.pageID)};d.$AdsPageInstagramAccountStore4=function(a){this.$AdsPageInstagramAccountStore1[a]=b("AdsLoadState_LEGACY").ERROR,this.__emitChange()};d.$AdsPageInstagramAccountStore6=function(a,c,d){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").linkInstagramAccount(a,c,d),this.__emitChange()};d.$AdsPageInstagramAccountStore7=function(a,c){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").unlinkInstagramAccount(a,c),this.__emitChange()};d.$AdsPageInstagramAccountStore9=function(a,c,d,e){__p&&__p();this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(!c){c=d||[];e&&c.push(b("InstagramAuthenticationErrorMessages").getMessage(e));c.length===0&&c.push(b("InstagramAuthenticationErrorMessages").getMessage());this.$AdsPageInstagramAccountStore2[a]=c;this.__emitChange();return}this.__invalidate(a);this.__emitChange()};d.$AdsPageInstagramAccountStore10=function(a,c,d){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(c||!d){this.$AdsPageInstagramAccountStore2[a]=[b("InstagramAuthenticationErrorMessages").getMessage(c)];this.__emitChange();return}this.__invalidate(a);this.__emitChange()};d.$AdsPageInstagramAccountStore8=function(a){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;var c=b("InstagramAuthenticationErrorMessages").getMessage();this.$AdsPageInstagramAccountStore2[a]=[c];this.__emitChange()};return c}(b("AdsBaseDataStore_LEGACY"));e.exports=new a()}),null);
__d("adsPlacementAssetCustomizableFields",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a=[{assetFeedField:(a=b("AdsAPIAdAssetFeedFields")).IMAGES,targetingRuleField:(c=b("AdsAPIAdAssetTargetRuleFields")).IMAGE_LABEL,assetPath:(d=b("AdsAPIAdgroupPaths")).CREATIVE.ASSET_FEED_SPEC.IMAGES,specField:(f=b("AdsUnifiedCreativeAPIFields")).imageHash,labelField:b("AdsAPIAdAssetFeedImagesFields").ADLABELS},{assetFeedField:a.VIDEOS,targetingRuleField:c.VIDEO_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.VIDEOS,specField:f.videoID,labelField:b("AdsAPIAdAssetFeedVideosFields").ADLABELS},{assetFeedField:a.BODIES,targetingRuleField:c.BODY_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.BODIES,specField:f.message,labelField:b("AdsAPIAdAssetFeedBodiesFields").ADLABELS},{assetFeedField:a.TITLES,targetingRuleField:c.TITLE_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.TITLES,specField:f.headline,labelField:b("AdsAPIAdAssetFeedTitlesFields").ADLABELS},{assetFeedField:a.LINK_URLS,targetingRuleField:c.LINK_URL_LABEL,assetPath:d.CREATIVE.ASSET_FEED_SPEC.LINK_URLS,specField:f.linkURL,labelField:b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS}];e.exports=a}),null);
__d("adsPACgetExistingLabelForValue",["AdsAPIAdgroupPaths","AdsAssetFeedConstant","AdsPlacementAssetUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAssetFeedConstant").ADLABELS,h=b("AdsPlacementAssetUtils").getFirstAdLabel;function i(a,c){return b("immutable").is(a["delete"](g),c["delete"](g))}function a(a,c,d){var e=b("immutable").fromJS(d);d=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,[c]);c=a.getIn(d);a=c.find(function(a){return i(a,e)});return h(a)}e.exports=a}),null);
__d("adsPlacementAssetMutationAddCarouselCardDetail",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldToRuleLabelMapping","AdsPlacementAssetUtils","adsPACgetExistingLabelForValue","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetUtils").getFirstAdLabel;function h(a,c,d,e,f){__p&&__p();var g=b("AdsAssetFeedFieldToRuleLabelMapping").get(e);if(g==null)return a;var h=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,[e]);c=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[c.toString(),b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS,d.toString(),g,"name"]);d=b("adsPACgetExistingLabelForValue")(a,e,f);if(d!=null)return a.setIn(c,d);g=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();var i=b("immutable").fromJS(babelHelpers["extends"]({},f,{adlabels:[{name:g}]}));return a.setIn(c,g).updateIn(h,function(a){return a.push(i)})}function a(a,b,c,d,e){__p&&__p();var f=a;a=(a=a.creative)==null?void 0:a.asset_feed_spec;var i=a==null?void 0:a.carousels;if(a==null||i==null)return f;a=i.findIndex(function(a){return g(a)===b});if(a==-1)return f;f=h(f,a,c,d,e);return f}e.exports=a}),null);
__d("adsPlacementAssetMutationSetInitialTargetingRule",["AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("immutable").Map();e=e!=null?e:b("immutable").Map();e=e.set(c,b("immutable").Map((c={},c.name=d,c)));e=e.set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,f);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,b("immutable").List([e]))}e.exports=a}),null);
__d("adsPlacementAssetMutationAddCarouselFromObjectStorySpec",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedConstant","AdsEditorMPAConstants","AdsPlacementAssetUtils","adsPlacementAssetMutationAddCarouselCardDetail","adsPlacementAssetMutationSetInitialTargetingRule","immutable","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAssetFeedConstant").ADLABELS;function h(a){a=a;var c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC;a=[c.BODIES,c.CAROUSELS,c.DESCRIPTIONS,c.IMAGES,c.LINK_URLS,c.TITLES,c.VIDEOS].reduce(function(a,c){return a.updateIn(c,function(a){return(a=a)!=null?a:b("immutable").List()})},a);return a}function i(a,c,d,e){var f;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.carousels;if(f==null)return a;c={adlabels:[{name:c}],child_attachments:[],multi_share_end_card:d,multi_share_optimized:e};return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,f.push(b("immutable").fromJS(c)))}function j(a,c){__p&&__p();var d=a;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.link_urls;var e=b("immutable").Map();if(a!=null&&a.size===1){var f,h=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset(),i=b("immutable").fromJS([{name:h}]);d=d.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,a.update(0,function(a){return a.set(g,i)}));e=b("immutable").fromJS((f={},f[b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL]={name:h},f))}else a!=null&&a.size>1&&b("recoverableViolation")("Carousel ad should not have more than 1 base URL","csol_pac");return b("adsPlacementAssetMutationSetInitialTargetingRule")(d,b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL,c,e)}function a(a,c,d){__p&&__p();var e=a;a=(a=c.creative)==null?void 0:(c=a.object_story_spec)==null?void 0:c.link_data;c=a==null?void 0:a.child_attachments;if(a==null||c==null)return e;e=h(e);e=j(e,d);e=i(e,d,Boolean(a.multi_share_end_card),Boolean(a.multi_share_optimized));c.forEach(function(a,c){__p&&__p();var f;a=a.toJS();var g=a.link;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").LINK_URLS,(f={},f[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL]=(g=g)!=null?g:"",f));g=a.description;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").DESCRIPTIONS,{text:(f=g)!=null?f:""});g=a.name;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").TITLES,{text:(f=g)!=null?f:""});g=a.image_hash;f=a.image_crops;if(g!=null){var h;e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").IMAGES,(h={},h[b("AdsAPIAdAssetFeedImagesFields").HASH]=g,h[b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS]=(g=f)!=null?g:void 0,h))}f=a.video_id;g=a.picture;if(f!=null&&f!==b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID){e=b("adsPlacementAssetMutationAddCarouselCardDetail")(e,d,c,b("AdsAPIAdAssetFeedFields").VIDEOS,(h={},h[b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID]=f,h[b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL]=(a=g)!=null?a:void 0,h))}});return e}e.exports=a}),null);
__d("NonURLLinkCTATypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",CALL_ME:"CALL_ME",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",MESSAGE_PAGE:"MESSAGE_PAGE",SAVE:"SAVE",GET_OFFER_VIEW:"GET_OFFER_VIEW",GET_OFFER:"GET_OFFER"})}),null);
__d("NonURLLinkCTATypesUtils",["AdsCallToActionTypesCond","NonURLLinkCTATypes","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";a={isUnsupportedCTA:function(a,c){return b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name==a?!b("adsAccountGK")._(c,"2TBav5yuh"):Object.prototype.hasOwnProperty.call(b("NonURLLinkCTATypes"),a)}};e.exports=a}),null);
__d("adsPlacementAssetMutationSetAdlabelForDefaultPlacement",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedTitlesFields","AdsAssetFeedMutationUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=b("AdsAssetFeedMutationUtils").removeUnsupportedAssetFields(a,c,b("AdsUnifiedCreativeAPIFields").linkDescription);a=a.getIn(e,null);var h={};if(a!=null&&a.size!==0){var i=a.get(0);f.forEach(function(a){var b=i.get(a);h[a]=b!=null?b.trim():""})}else f.forEach(function(a){h[a]=""});g=g.setIn(e,b("immutable").List.of(b("immutable").Map(h)));var j=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();g=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(g,c,d,0,j);if(a!=null&&a.size>1)for(var k=1;k<a.size;k++){var l=a.get(k),m=f[0];l=l.get(m);m=l!=null?l.trim():"";l=e[e.length-1];switch(l){case"bodies":g=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(g,c,b("AdsUnifiedCreativeAPIFields").message,k,b("AdsAPIAdAssetFeedBodiesFields").TEXT,m);break;case"titles":g=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(g,c,b("AdsUnifiedCreativeAPIFields").headline,k,b("AdsAPIAdAssetFeedTitlesFields").TEXT,m);break;default:break}g=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(g,c,d,k,j)}return{updatedAdgroup:g,newAdlabel:j}}e.exports=a}),null);
__d("adsPlacementAssetMutationSetAdlabelForAllCustomizations",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsBrandAwarenessUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationSetAdlabelForDefaultPlacement","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=a,e=b("immutable").Map(),f=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(d,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,[b("AdsAPIAdAssetFeedBodiesFields").TEXT]);e=e.set(b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL,f.newAdlabel);d=f.updatedAdgroup;f=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(f.updatedAdgroup,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,[b("AdsAPIAdAssetFeedTitlesFields").TEXT]);e=e.set(b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL,f.newAdlabel);d=f.updatedAdgroup;if(b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a)){f=[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL];a=b("adsPlacementAssetMutationSetAdlabelForDefaultPlacement")(d,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,f);e=e.set(b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL,a.newAdlabel);d=a.updatedAdgroup}return{newAdlabels:e,updatedAdgroup:d}}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting",["AdsAdAssetSelectorTypes","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsCallToActionTypesCond","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","NonURLLinkCTATypesUtils","adsPlacementAssetMutationAddCarouselFromObjectStorySpec","adsPlacementAssetMutationSetAdlabelForAllCustomizations","adsPlacementAssetMutationSetInitialTargetingRule","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat;function h(a,b){if(a===g.carousel)return"CAROUSEL";else if(b)return"AUTOMATIC_FORMAT";else if(a===g.image)return"SINGLE_IMAGE";else return"SINGLE_VIDEO"}function a(a,c,d,e,f,i,j){__p&&__p();i===void 0&&(i=!1);c=h(f,j);j=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,d.pivots.objective,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(c)).setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT);c=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();f===g.carousel?j=b("adsPlacementAssetMutationAddCarouselFromObjectStorySpec")(j,a,c):f===g.image?j=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(j,d,b("AdsUnifiedCreativeAPIFields").imageHash,0,c):j=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(j,d,b("AdsUnifiedCreativeAPIFields").videoID,0,c);var k=b("immutable").Map();if(i&&f!==g.carousel){i=b("adsPlacementAssetMutationSetAdlabelForAllCustomizations")(j,d);i.newAdlabels.forEach(function(a,c){k=k.set(c,b("immutable").Map((c={},c.name=a,c)));return!0});j=i.updatedAdgroup}f!==g.carousel&&(j=b("adsPlacementAssetMutationSetInitialTargetingRule")(j,f===g.image?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,c,k));c=(i=a.creative)==null?void 0:(f=i.object_story_spec)==null?void 0:f.link_data;a=b("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(j,d));i=c!=null&&a==null||a!=null&&b("NonURLLinkCTATypesUtils").isUnsupportedCTA(a,e);if(i){f=d.getDefaultCallToActionType(j);b("NonURLLinkCTATypesUtils").isUnsupportedCTA(f,e)&&(f=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name);j=b("AdsAssetFeedMutationUtils").setStringAssetsArrayInField(j,d,b("AdsUnifiedCreativeAPIFields").callToActionType,[f])}j=b("AdsPlacementAssetTargetingRuleUtils").filterOutPlacementsNotSupportedByPAC(j,(c=e==null?void 0:e.capabilities)!=null?c:[]);return j}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting",["adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){f===void 0&&(f=!1);g===void 0&&(g=!1);return b("adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting")(a,c,d,e,"image",f,g)}e.exports=a}),null);
__d("isAdgroupAssetFeedRulesConsistentWithField",["AdsAPIAdAssetFeedTitlesFields","AdsAssetFeedUtils","AdsPlacementAssetCustomizationTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationConsistency;function h(a,c){__p&&__p();a=(a=a.creative)==null?void 0:a.asset_feed_spec;if(a==null)return null;a=a[c];if(a==null)return null;a instanceof Array&&(a=b("immutable").fromJS(a));c=a.reduce(function(a,c){c=c.get(b("AdsAPIAdAssetFeedTitlesFields").ADLABELS)||[];c.every(function(b){b=b.get("name");b!=null&&a.push(b);return!0});return a},[]);return b("immutable").Set(c)}function i(a,c){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules;if(a==null)return null;a instanceof Array&&(a=b("immutable").fromJS(a));a=a.reduce(function(a,b){b=b.getIn([c,"name"]);b!=null&&a.push(b);return a},[]);return b("immutable").Set(a)}function j(a,b){if(a.equals(b))return{status:g.CONSISTENT};if(a.isSubset(b))return{status:g.UNUSED_LABEL_IN_ASSET_LIST,fieldTypeLabels:b.subtract(a)};return b.isSubset(a)?{status:g.UNKNOWN_LABEL_IN_TARGETING_RULE,targetRulesLabelsSet:a.subtract(b)}:{status:g.INCONSISTENT_LABEL_IN_ASSET_LIST_AND_TARGETING_RULE,targetRulesLabelsSet:a.subtract(b),fieldTypeLabels:b.subtract(a)}}function a(a,c,d){__p&&__p();if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(a))return{status:g.NOT_PAC_AD};c=h(a,c);a=i(a,d);if(a!=null&&c!=null)return j(a,c);else{if(a!=null&&(a==null?void 0:a.size)!==0)return{status:g.UNKNOWN_LABEL_IN_TARGETING_RULE,targetRulesLabelsSet:a};if(c!=null)return{status:g.UNUSED_LABEL_IN_ASSET_LIST,fieldTypeLabels:c}}return{status:g.NO_ASSET_LIST_AND_RULE_FOUND}}e.exports=a}),null);
__d("adsHasValidAdlabelsForPACAds",["AdsPlacementAssetCustomizationTypes","adsPlacementAssetCustomizableFields","isAdgroupAssetFeedRulesConsistentWithField"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationConsistency;function h(a,c,d){a=b("isAdgroupAssetFeedRulesConsistentWithField")(a,c,d);return a.status===g.UNKNOWN_LABEL_IN_TARGETING_RULE||a.status===g.INCONSISTENT_LABEL_IN_ASSET_LIST_AND_TARGETING_RULE}function a(a){return b("adsPlacementAssetCustomizableFields").map(function(b){var c=b.assetFeedField;b=b.targetingRuleField;return h(a,c,b)?c:null}).filter(Boolean)}e.exports=a}),null);
__d("AdsDCOImageCropDoFUtils",["AdsAPIAdAssetFeedImagesFields","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["FAM_TOGGLE_ON","FAM_TOGGLE_OFF","SMART_CROP_ELIGIBLE_ON","SMART_CROP_ELIGIBLE_OFF","SMART_CROP_INELIGIBLE_ON","SMART_CROP_INELIGIBLE_OFF"],h=new Set(["FACEBOOK_FEED","INSTAGRAM_STREAM"]);a={hasDoFSpecWithFAMToggleExpType:function(a){a=(a=a.creative)==null?void 0:(a=a.degrees_of_freedom_spec)==null?void 0:a.degrees_of_freedom_type;return g.includes(a)},isAdgroupOptInImageCropDof:function(a){if(!b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(a))return!1;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images;return!!a&&a.count()>1},isDofImageCropEligibleAssetGroups:function(a){return a==null?!1:a.some(function(a){return h.has(a)})},replaceImageInOptInAdgroup:function(a,c,d,e,f){a=a;a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,0,d,e);f&&(a=b("AdsAssetFeedMutationUtils").setImageCropAtIndex(a,c,0,f));a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,1);return b("AdsUEditorAdgroupAssetFeedMutators").sanitizeDofAdgroup(a)},setImagesEnrolled:function(a,c,d,e,f){a=a;for(var g=0;g<2;g++)a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,g,d,e),a=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,g,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS);a=b("AdsAssetFeedMutationUtils").setImageCropAtIndex(a,c,1,f);return a},setAdgroupOptOutImageCropDoF:function(a,c){a=a;a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,1);return b("AdsUEditorAdgroupAssetFeedMutators").sanitizeDofAdgroup(a)}};e.exports=a}),null);
__d("AdsPACSpecMutationAsyncLog",["Promise","AdsInterfacesLogger","adsHasValidAdlabelsForPACAds","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("keyMirror")({CONVERT_PHASE1_TO_PHASE2:null,MULTI_CUSTOMIZATION_IMAGE:null,ADD_CUSTOMIZATION_IMAGE:null,SET_IMAGE_MASTER_VARIANT:null,STORIFY_REOPEN_PLACEMENT_EDITOR:null,OPEN_PLACEMENT_EDITOR:null,REMOVE_CUSTOMIZATION_IMAGE:null,VCK_TEMPLATE_SET_DATA:null,CHANGE_IMAGE_TO_VIDEO:null,ADD_CUSTOMIZATION_VIDEO:null,REMOVE_CUSTOMIZATION_VIDEO:null});b("keyMirror")({ADD_IMAGE_START:null,ADD_IMAGE_START_DOF:null,ADD_IMAGE_CONVERT_TO_PAC:null,ADD_IMAGE_END:null,ADD_MEDIA_START:null,ADD_MEDIA_START_DOF:null,ADD_MEDIA_CONVERT_TO_PAC:null,ADD_MEDIA_END:null,REMOVE_IMAGE_START:null,REMOVE_IMAGE_START_DOF:null,REMOVE_IMAGE_END:null,ADD_VIDEO_START:null,ADD_VIDEO_CONVERT_TO_PAC:null,ADD_VIDEO_END:null,REMOVE_VIDEO_START:null,REMOVE_VIDEO_END:null});a={log:function(a,c,d){var e=Date.now();return new(b("Promise"))(function(f){var g=b("adsHasValidAdlabelsForPACAds")(a),h=g.length===0;b("AdsInterfacesLogger").log({eventName:"LOG_PAC_SPEC_"+c,data:{adgroup_id:a.id,current_action_time:e,event_source:d,field_names:g,sub_event:h?"VALID_EVENT":"INVALID_EVENT"}});f()})}};e.exports=a}),null);
__d("AdsLocalizedPlacementsMutators",["invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPITargetFields","AdsAssetFeedFieldToRuleLabelMapping","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsDLOConstantUtils","AdsDLODefaultAssetConfig","AdsDLOFieldToAdlabelsMapping","AdsDLOLanguageUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementConstants","AdsTargetingRuleUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsPlacementConstants").PLACEMENT_FIELD_TO_AD_SET_PATHS,i={convertTargetRulePACAdgroupToACR:function(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES);if(c==null)return a;c=c.map(function(a){var c=a.get(b("AdsAPIAdAssetTargetRuleFields").TARGETING);return a["delete"](b("AdsAPIAdAssetTargetRuleFields").TARGETING).set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,c)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES)},convertPACToLocalizedPlacementsAdgroup:function(a,c,d){__p&&__p();if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;var e=i._convertPACRulesToLocalizedPlacementRules(a);e=b("AdsAssetFeedUtils").setOptimizationType(e,b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS);var f=c.objective,h=(a=e.creative)==null?void 0:a.asset_feed_spec,j=null;b("AdsDLOConstantUtils").isSupportedOptionalLinksObjective(f)&&(j=b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(e));b("AdsDLODefaultAssetConfig").forEach(function(a,c){if(!a.isUsedForObjective(f,j,d))return;h!=null&&h instanceof b("immutable").Record||g(0,13276);var i=h.get(c)||b("immutable").List();if(!i.isEmpty())return;h=h.set(c,i.push(b("immutable").Map([[a.pathToUpdate,a.getDefaultValue(e)]])))});return e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,h)},_convertPACRulesToLocalizedPlacementRules:function(a){__p&&__p();var c,d,e,f;if(!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a))return a;c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.bodies;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.titles;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.descriptions;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.link_urls;var g=a;c!=null&&c.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));d!=null&&d.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));e!=null&&e.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));f!=null&&f.size===1&&(g=g.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS.concat("0",b("AdsAPIAdAssetFeedBodiesFields").ADLABELS)));c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES);var i=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(c),j=h.keySeq();d=c.map(function(a){if(!b("immutable").is(a,i))return a;var c=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC),d=c instanceof b("immutable").Map?c:b("immutable").Map();j.forEach(function(a){d=d["delete"](a)});return a["delete"](b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL)["delete"](b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL)["delete"](b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL).set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,d).set(b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT,!0)});return g.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,d)},convertDLOToLocalizedPlacementsAdgroup:function(a,c){__p&&__p();if(!b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a))return a;var d=b("AdsAssetFeedUtils").getMediaTypeFromFormat(a);if(d==null)return a;if(b("AdsAssetFeedUtils").getDistinctMediaAssetCount(a,d)!==1)return a;var e=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();a=b("AdsAssetFeedUtils").setOptimizationType(a,b("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS);a=i._setFirstMediaAssetLabel(a,c,d,e);return i._setMediaLabelInRule(a,d,e)},_setFirstMediaAssetLabel:function(a,c,d,e){if(d===b("AdsAPIAdAssetFeedFields").IMAGES)return b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,0,e);else if(d===b("AdsAPIAdAssetFeedFields").VIDEOS)return b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,0,e);return a},_setMediaLabelInRule:function(a,c,d){__p&&__p();var e;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.asset_customization_rules;if(e==null)return a;var f=b("AdsAssetFeedFieldToRuleLabelMapping").get(c);if(f==null)return a;c=e.map(function(a){var c=a.get(f);if(c==null||!(c instanceof b("immutable").Map))return a;c=c.set("name",d);return a.set(f,c)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,c)},addPlacementsToAssetCustomizationRules:function(a,c,d,e){__p&&__p();var f;if(!b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))return a;f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.asset_customization_rules;if(f==null)return a;var g=f.find(function(a){return a.get(b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT)===!0});g=i._getMediaLabelFromAssetCustomizationRule(g,c);f=i._addNewPlacementRulesToAssetCustomizationRules(f,g,d,c,e);return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,f)},_getMediaLabelFromAssetCustomizationRule:function(a,b){a=a.getIn([b,"name"]);if(a==null)return null;typeof a==="string"||g(0,14664);return a},_convertPlacementListToCustomizationSpec:function(a){a=a.reduce(function(a,c){b("AdsTargetingRuleUtils").assertValidPositionForPlatform(c.position,c.platform);return a.update("publisher_platforms",function(a){return(a||b("immutable").Set()).add(c.platform)}).update(b("AdsTargetingRuleUtils").PLATFORMS_TO_TARGETING_POSITION_FIELDS[c.platform],function(a){return(a||b("immutable").Set()).add(c.position)})},b("immutable").Map());return a.map(function(a){return a.toList()})},_addNewPlacementRulesToAssetCustomizationRules:function(a,c,d,e,f){var g=b("immutable").Map().set("name",d);d=a.filter(function(a){return i._getMediaLabelFromAssetCustomizationRule(a,e)===c});d=d.map(function(a){var c=a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("AdsAPITargetFields").LOCALES]);c=i._convertPlacementListToCustomizationSpec(f).set(b("AdsAPITargetFields").LOCALES,c);return a["delete"](b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT).set(e,g).set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,c)});return a.concat(d)},removeAllMediaInLocalizedPlacementsAdgroup:function(a){__p&&__p();var c;if(!b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))return a;c=(c=a.creative)==null?void 0:c.asset_feed_spec;if(c==null)return a;var d=c.asset_customization_rules;if(d==null)return a;c=c;c.images!=null&&(c=c.set(b("AdsAPIAdAssetFeedFields").IMAGES,b("immutable").List()));c.videos!=null&&(c=c.set(b("AdsAPIAdAssetFeedFields").VIDEOS,b("immutable").List()));d=d.map(function(a){return a["delete"](b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL)["delete"](b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)});return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,c.set(b("AdsAPIAdAssetFeedFields").ASSET_CUSTOMIZATION_RULES,d))},convertLocalizedPlacementsToPAC:function(a){__p&&__p();if(!b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))return a;var c=b("AdsDLOLanguageUtils").getAddedLanguagesCountFromAdgroup(a);if(c>0)return a;c=(c=a.creative)==null?void 0:c.asset_feed_spec;var d=c==null?void 0:c.asset_customization_rules;if(c==null||d==null)return a;var e=d.size;e=b("immutable").List(Array.from({length:e},function(){return b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset()}));var f=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);d=i.convertLocalizedPlacementsRulesWithOneLanguageToPACRules(d,e);c=i.convertLocalizedPlacementsAssetFeedSpecToPACAssetFeedSpec(c,f,e);f=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,c.set(b("AdsAPIAdAssetFeedFields").ASSET_CUSTOMIZATION_RULES,d));return b("AdsAssetFeedUtils").setOptimizationType(f,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT)},convertLocalizedPlacementsRulesWithOneLanguageToPACRules:function(a,c){__p&&__p();return a.map(function(a,d){__p&&__p();var e,f=a["delete"](b("AdsAPIAdAssetCustomizationRuleFields").IS_DEFAULT);a=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC);a!=null&&a instanceof b("immutable").Map||g(0,14442);a=a["delete"](b("AdsAPITargetFields").LOCALES);b("AdsAssetFeedFieldToRuleLabelMapping").forEach(function(a,c){switch(a){case b("AdsAPIAdAssetCustomizationRuleFields").IMAGE_LABEL:case b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL:return;default:f=f["delete"](a);return}});return f.merge((e={},e[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]=a,e[b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL]=b("immutable").Map((a={},a.name=c.get(d),a)),e[b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL]=b("immutable").Map((a={},a.name=c.get(d),a)),e[b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL]=b("immutable").Map((a={},a.name=c.get(d),a)),e))})},convertLocalizedPlacementsAssetFeedSpecToPACAssetFeedSpec:function(a,c,d){__p&&__p();var e=d.map(function(a){return b("immutable").Map().set("name",a)}),f=a;b("AdsDLOFieldToAdlabelsMapping").forEach(function(d,g){__p&&__p();if(g===b("AdsAPIAdAssetFeedFields").IMAGES||g===b("AdsAPIAdAssetFeedFields").VIDEOS)return;var h=a.get(g);if(h==null)return;h=h.map(function(a,f){__p&&__p();var h;switch(g){case b("AdsAPIAdAssetFeedFields").BODIES:case b("AdsAPIAdAssetFeedFields").TITLES:case b("AdsAPIAdAssetFeedFields").LINK_URLS:h=e;break;default:h=a.get(d)}if(h==null)return a;f=h.filter(function(a){return a.get("name")!==c});return f.isEmpty()?a["delete"](d):a.set(d,f)});f=f.set(g,h.isEmpty()?void 0:h)});return f}};e.exports=i}),null);
__d("AdsUEditorAdgroupImageMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsDCOImageCropDoFUtils","AdsDLOAdgroupFieldUtils","AdsDLOLanguageUtils","AdsImageUtils","AdsLocalizedPlacementsMutators","AdsMessengerReducerUtils","AdsObjectStorySpecUtils","AdsObjectTypeUtils","AdsPACSpecMutationAsyncLog","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting","immutable","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f){__p&&__p();if(b("isFalsey")(e))return c;var g=a.capabilities;g=b("AdsMessengerReducerUtils").isMessengerVisualEditorV2Enabled(g);if(!g)return c;g=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getValue(c,d);if(!b("AdsMessengerReducerUtils").shouldSetDefaultWelcomeMessage(g))return c;var h=b("AdsAPIAdgroupRecordUtils").getAppDestinationType(c,d);if(h!=="MESSENGER")return c;h=f?f.name:null;a=a.account_id;var i=b("AdsMessengerReducerUtils").getWelcomeMessageDefaultMediaFormat(),j=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);f=b("AdsMessengerReducerUtils").getDefaultQuickReplies(f);a=b("AdsMessengerReducerUtils").setDefaultWelcomeMessage(a,c,i,f,e,j,h,g,null,!0);i=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d);return i?c.setIn(i,a):c}function a(a,c,d,e,f,i,k,l,m,n,o){__p&&__p();var p=c!=null?void 0:d;n=g(a,l,m,c,n);if(b("isTruthy")(e)&&b("isFalsey")(c)&&b("isFalsey")(p))n=n.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path);else if(b("isTruthy")(e))n=n.setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,e,"image_hash"),c),n=n.setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,e,"image_url"),p);else if(b("AdsAssetFeedUtils").isAdgroupUsingNonTextOnlyDofAssetFeedSpec(n)){if(b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(n)&&b("AdsAssetFeedUtils").getAssetMediaAdlabelCount(n)<=0){var q=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(n);if(q!=null)return b("AdsDLOAdgroupFieldUtils").setImage(a,n,q,c,c==null?d:null)}if(b("AdsDCOImageCropDoFUtils").isAdgroupOptInImageCropDof(n))return b("AdsDCOImageCropDoFUtils").replaceImageInOptInAdgroup(l,m,c,c==null?d:null,o);a=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(n,b("AdsAPIAdAssetFeedFields").IMAGES);n=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(n,m,a,c,p);o!=null&&(n=b("AdsAssetFeedMutationUtils").setImageCropAtIndex(n,m,a,o));return n}else{q=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(n,m);q&&(n=n.setIn(q,c));((l=n.creative)==null?void 0:l.image_hash)&&(n=n.setIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,c));d=b("AdsUnifiedCreativeAPIFields").imageURL.getPath(n,m);a=b("AdsUnifiedCreativeAPIFields").videoThumbnailURL.getPath(n,m);a?n=n.setIn(a,f):d&&(n=n.setIn(d,p));((q=n.creative)==null?void 0:q.image_url)&&(n=n.setIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,p));n=j(f,i,k,n)}n=h(o,e,n,m);return n}function h(a,c,d,e){__p&&__p();var f;f=(f=d.creative)==null?void 0:f.object_type;if(f==null||!b("AdsImageUtils").canCropStaticImageForPlatform(f,c))return d;if(b("isTruthy")(c))return i(a,c,d);f=b("AdsUnifiedCreativeAPIFields").imageCrops.getPath(d,e);if(!f)return d;return!a||Object.keys(a).length===0?d.deleteIn(f):d.setIn(f,a)}function i(a,c,d){return!a||Object.keys(a).length===0?d.deleteIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[c,"image_crops"])):d.setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[c,"image_crops"]),a)}function j(a,c,d,e){e=e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,a);e=e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_HEIGHT,c);e=e.setIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_WIDTH,d);return e}function c(a){__p&&__p();var c=b("AdsObjectTypeUtils").getCreativeSpecType(a);c=b("AdsObjectStorySpecUtils").getPaths(c);var d=c.image_url;c=c.image_hash;if(!d||!c)return a;var e=a.getIn(d);c=a.getIn(c);e=e&&c?a.deleteIn(d):a;c=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(e);if(!c)return e;d=e.getIn(c);if(!d)return e;d=d.map(function(a){var c=a.getIn(b("AdsAPIChildAttachmentPaths").IMAGE_HASH),d=a.getIn(b("AdsAPIChildAttachmentPaths").PICTURE);return c&&d?a.deleteIn(b("AdsAPIChildAttachmentPaths").PICTURE):a});return e.setIn(c,d)}function d(a){__p&&__p();var c=a.adgroup,d=a.campaign,e=a.specPlugin,f=a.adAccount,g=a.assetGroup,h=a.validAssetGroupsByAsset,i=a.imageHash,j=a.imageURL,n=a.backgroundColor,o=a.crops,p=a.placementList,q=a.isUsingPlacementEditor;q=q===void 0?!1:q;a=a.sourceReducer;var r=c,s=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(c),t=!s;t&&b("AdsPACSpecMutationAsyncLog").log(c,"ADD_IMAGE_START",a);s?r=b("AdsLocalizedPlacementsMutators").convertDLOToLocalizedPlacementsAdgroup(c,e):b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)||(r=b("adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting")(c,d,e,f,q));t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_CONVERT_TO_PAC",a);s=h&&g?b("AdsPlacementAssetUtils").getAssetLabelIfSingleValidAssetGroup(g,h):null;if(b("isTruthy")(s)){q=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((d=r.creative)==null?void 0:(f=d.asset_feed_spec)==null?void 0:f.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,s,b("AdsAPIAdAssetFeedImagesFields").HASH).index;b("isFalsey")(q)&&(q=0);g=m(c,e,q,s);h=g.adgroupWithIsolatedImageAsset;d=g.isolatedImageAssetIndex;r=h;q=d;s=b("AdsAssetFeedFieldUtils").getAssetAtIndex((f=r.creative)==null?void 0:(c=f.asset_feed_spec)==null?void 0:c.images,b("AdsAPIAdAssetFeedImagesFields").HASH,q);s!==i&&(r=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,q,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS),r=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,q,b("AdsAPIAdAssetFeedImagesFields").PORTRAIT_CUSTOMIZATIONS));r=k(r,e,q,s!==i,i,j,n,o);r=l(r,e);t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_END",a);return r}d=(g=r.creative)==null?void 0:(h=g.asset_feed_spec)==null?void 0:h.images;f=d!=null?d.size:0;c=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();r=k(r,e,f,!0,i,j,n,o);r=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,f,c);if(b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(r)){r=b("AdsLocalizedPlacementsMutators").addPlacementsToAssetCustomizationRules(r,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,c,p);r=l(r,e);t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_END",a);return r}q=r.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,function(a){return u});s=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(q||b("immutable").List(),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,c,p);g=s.labelsRemoved;var u=s.updatedTargetingRules;r=r.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES,u);for(var h=g,d=Array.isArray(h),i=0,h=d?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(i>=h.length)break;j=h[i++]}else{i=h.next();if(i.done)break;j=i.value}n=j;q=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((o=r.creative)==null?void 0:(f=o.asset_feed_spec)==null?void 0:f.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,n,b("AdsAPIAdAssetFeedImagesFields").HASH).index;r=q!=null?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(r,e,b("AdsUnifiedCreativeAPIFields").imageHash,q):r}r=l(r,e);t&&b("AdsPACSpecMutationAsyncLog").log(r,"ADD_IMAGE_END",a);return r}function k(a,c,d,e,f,g,h,i){a=a;e&&(a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,c,d,f,g));i&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(i)));if(h){a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").PORTRAIT_CUSTOMIZATIONS,b("immutable").fromJS((e={},e.specifications=[(f={},f.background_color=h,f)],e)))}return a}function l(a,c){return b("AdsAssetFeedMutationUtils").removeDuplicateAssets(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,b("AdsAPIAdAssetFeedImagesFields").ADLABELS)}function m(a,c,d,e){a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,d,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e);c=a.adgroupWithIsolatedAsset;d=a.isolatedAssetIndex;return{adgroupWithIsolatedImageAsset:c,isolatedImageAssetIndex:d}}f={isolateImageAssetWithLabel:m,setImage:a,setImageCrops:h,setImageThumbnail:j,removeDuplicateImageAssets:l,removeRedundantImageURL:c,addPlacementCustomizationImage:d,updateCustomizationImageAtIndex:k};e.exports=f}),null);
__d("AdsUEditorAdgroupContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({adgroupEditorContext:null});e.exports=a}),null);
__d("AdsFeedApplicabilityUtils",["AdsPlacementAPISpecReaderUtils","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec_LEGACY,h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement;function a(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(g(a),"facebook")}function c(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,"facebook")}function d(a){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,"instream_video")}function f(a){return h(a)}e.exports={hasFacebookPlacement:a,placementSpecHasFacebookPlacement:c,placementSpecHasFacebookInstreamVideoPlacement:d,placementSpecHasFacebookInstreamVideosPlacementOnly:f}}),null);
__d("AdsInstagramIdentityUtils",["AdsLoadStateUtils_LEGACY"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a;if(!d)return!0;if(!d.is_published){if(c)return!0;if(b.length===0)return!0}return b.some(function(a){return a.id===d.id})}function c(a,c,d){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return null;var e=c.page_backed_instagram_accounts;c=c.instagram_accounts;if((!a||d)&&c&&c.data&&c.data.length>0)return c.data[0];return e&&e.data&&e.data.length>0?e.data[0]:null}function d(a,c){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return!1;c=c.instagram_accounts;c=(c==null?void 0:(c=c.data)==null?void 0:c.length)||0;return!a&&c>0}e.exports={getEligibleInstagramAccount:c,isSelectedInstagramAccountAvailable:a,hasPublishedPageConnectedInstagramAccounts:d}}),null);
__d("AdsUEditorCampaignInstagramSelectors",["AdsAccountStore","AdsAPIAccountPaths","AdsAPIObjectives","adsUEditorAccountSelector","gkx","isFalsey","AdsBusinessInstagramAccountProvider","AdsCPBUtils","AdsFeedApplicabilityUtils","AdsInstagramApplicabilityUtils","AdsInstagramAvailability","AdsInstagramIdentityUtils","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","AdsPlacementsInstagramFeedPositionPlugin","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignSelectors","AdsUniformValue","adsCreateSelector","adsCreateStoreSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsBusinessInstagramAccountProvider").toFluxStore();a=b("AdsUEditorCampaignSelectors").eligibilityInformation;c=b("AdsUEditorCampaignSelectors").eligibilityInformationArray;var i={loadState:b("AdsLoadState_LEGACY").LOADED,data:[]};d=b("adsCreateStoreSelector")([b("AdsAccountStore"),h],function(){var a=b("AdsAccountStore").getSelectedAccount().getValue(),c=a==null?void 0:a.business;return!c?i:b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(h.getState().get(b("getByPath")(a,b("AdsAPIAccountPaths").ACCOUNT_ID)))},{name:e.id+".businessInstagramAccounts"});f=b("adsCreateStoreSelector")(function(a){return[].concat(b("adsUEditorAccountSelector").getStores(a),b("AdsUEditorAdgroupBulkSelectors").pageID.getStores(a),[b("AdsPageInstagramAccountStore")])},function(a){__p&&__p();var c=b("AdsUEditorAdgroupBulkSelectors").pageID(a);if(!(c instanceof b("AdsUniformValue")))return null;c=c.getValue();if(b("isFalsey")(c))return null;b("gkx")("1285331")&&b("AdsPageInstagramAccountStore").getWithLogging(c,"AdsUEditorCampaignInstagramSelectors.eligibleInstagramAccountID");c=b("AdsPageInstagramAccountStore").get(c);if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return null;a=b("adsUEditorAccountSelector")(a);a=b("AdsInstagramIdentityUtils").getEligibleInstagramAccount(!!a.business,c);return a&&a.id?a.id:null},{name:e.id+".eligibleInstagramAccountID"});var j=(g=b("adsCreateSelector"))([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(a)})},{name:e.id}),k=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacement(a)})},{name:e.id}),l=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacementOnly(a)})},{name:e.id}),m=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramPlacementOnly(a)})},{name:e.id}),n=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsFeedApplicabilityUtils").placementSpecHasFacebookPlacement(a)})},{name:e.id});a=g([b("AdsAccountStore").getSelectedAccount,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),a],function(a,c,d){__p&&__p();var e=c.some(function(a){var c=a.campaign;a=a.campaignGroup;var d=a.objective;return b("AdsCPBUtils").isCPBCampaign(a,c)&&(d===b("AdsAPIObjectives").LINK_CLICKS||d===b("AdsAPIObjectives").CONVERSIONS)});d=d&&b("AdsPlacementsInstagramFeedPositionPlugin").getIneligibilityReason(d);c=c.every(function(c){c=c.campaignGroup;c=c.objective;return b("AdsInstagramAvailability").supportsObjective(c,(c=a.getValue())==null?void 0:c.capabilities)});return c&&!e&&!d},{name:e.id});var o=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramIGTVPlacementOnly(a)})},{name:e.id}),p=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(a)})},{name:e.id}),q=g([c],function(a){return a.every(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStreamPlacementOnly(a)})},{name:e.id}),r=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasIGTVPlacement(a)})},{name:e.id}),s=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramIGTVPlacementOnly(a)})},{name:e.id}),t=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasStoryPlacement(a)})},{name:e.id}),u=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(a)})},{name:e.id});c=g([c],function(a){return a.some(function(a){a=a.spec;return b("AdsInstagramApplicabilityUtils").placementSpecHasStreamPlacement(a)})},{name:e.id});g=g([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.every(function(a){a=a.adgroup;return b("AdsInstagramApplicabilityUtils").hasInstagramActor(a)})},{name:e.id});e.exports={allHaveInstagramActor:g,allHaveInstagramPlacement:k,allHaveInstagramPlacementOnly:m,allHaveInstagramIGTVPlacementOnly:o,allHaveInstagramStoryPlacementOnly:p,allHaveInstagramStreamPlacementOnly:q,businessInstagramAccounts:d,eligibleInstagramAccountID:f,isInstagramEligibile:a,someHaveInstagramPlacement:j,someHaveInstagramPlacementOnly:l,someHaveInstagramIGTVPlacement:r,someHaveInstagramIGTVPlacementOnly:s,someHaveInstagramStoryPlacement:t,someHaveInstagramStoryPlacementOnly:u,someHaveInstagramStreamPlacement:c,someHaveFacebookPlacement:n}}),null);
__d("AdsDynamicAdCustomizationCustomizationSpecUtils",["invariant","AdsAPIAdgroupPaths","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={AllCustomizationSpecPaths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOMIZATION_RULES_SPEC,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CUSTOMIZATION_RULES_SPEC,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CUSTOMIZATION_RULES_SPEC],getCustomizationSpecPathFromAdgroup:function(a){a=(a=a.creative)==null?void 0:a.object_story_spec;if((a==null?void 0:a.link_data)!=null)return b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOMIZATION_RULES_SPEC;return(a==null?void 0:a.video_data)!=null?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CUSTOMIZATION_RULES_SPEC:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CUSTOMIZATION_RULES_SPEC},getCustomizationRuleIndexForLanguage:function(a,b){return a.findIndex(function(a){a=a.get("customization_spec");return a!=null&&typeof a!=="string"&&a.get("language")===b})},getCustomizationSpecFromAdgroup:function(a){var c=h.getCustomizationSpecPathFromAdgroup(a);return a.getIn(c)||b("immutable").List()},isPrimaryRule:function(a){return a.count()===1&&h.getLanguageFromRule(a)!==void 0},getCustomizationSpecFromCreative:function(a){var b;b=(b=a.object_story_spec)==null?void 0:(b=b.link_data)==null?void 0:b.customization_rules_spec;if(b!=null)return b;b=(b=a.object_story_spec)==null?void 0:(b=b.video_data)==null?void 0:b.customization_rules_spec;if(b!=null)return b;b=(b=a.object_story_spec)==null?void 0:(a=b.template_data)==null?void 0:a.customization_rules_spec;return b!=null?b:[]},hasCustomizationSpecFromCreative:function(a){a=h.getCustomizationSpecFromCreative(a);return Array.isArray(a)&&a.length>0},getLanguageFromRule:function(a){a=(a||b("immutable").Map()).get("customization_spec");typeof a!=="string"||g(0,1025);return(a||b("immutable").Map()).get("language")}};e.exports=h}),null);
__d("DynamicAdsProductSalesChannel",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONLINE:"online",IN_STORE:"in_store",OMNI:"omni"})}),null);
__d("DynamicCategorizationCriteria",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BRAND:"brand",CATEGORY:"category",PRODUCT_TYPE:"product_type"})}),null);
__d("AdsDynamicAdsUtils",["AdsBulkValueUtils","AdsCallToActionTypesCond","AdsDynamicAdsFormatUtils","AdsDynamicTargetingCategories","AdsPromotedObjectTypes","CatalogVertical","DynamicAdsProductSalesChannel","DynamicCategorizationCriteria","adsAccountGK","enumUtils","immutable","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("enumUtils").enumValueToKey,h={areAllDynamicAds:function(a,c){__p&&__p();if(a===null)return b("AdsBulkValueUtils").getUniformValueOrDefault(c)===b("AdsPromotedObjectTypes").PRODUCT_SET;if(c===null){if(!a)throw b("unrecoverableViolation")("bulkProductSetID should not be null","dpa");return a.getValues().every(function(a){return!!a})}var d=!1;c&&a&&(d=c.getValues().every(function(c,d){d=a?a.getValueForIndex(d):null;return c===b("AdsPromotedObjectTypes").PRODUCT_SET||d}));return d},getIncompleteCategoryAssets:function(a){return a.filter(function(a){return a.name==null||a.name===""||a.destination_uri==null||a.destination_uri===""})},getCategoryAssetsToRender:function(a,b,c,d,e){b=b.map(function(a,b){return{asset:a,index:b}});c&&(b=b.filter(function(b){return!a.get(b.index).name||!a.get(b.index).destination_uri}));d!==""&&(b=b.filter(function(b){return a.get(b.index).criteria_value.toUpperCase().indexOf(d.toUpperCase())>-1}));return h.getSortedCategoryAssetsToRender(b,e)},getSortedCategoryAssetsToRender:function(a,b){__p&&__p();switch(b){case"sort_by_title_alphabet":return a.sort(function(a,b){a=a.asset;b=b.asset;return a.criteria_value<b.criteria_value?-1:1});case"sort_by_title_reverse_alphabet":return a.sort(function(a,b){a=a.asset;b=b.asset;return b.criteria_value<a.criteria_value?-1:1});case"sort_by_product_count_ascend":return a.sort(function(a,b){a=a.asset;b=b.asset;return a.num_items-b.num_items});case"sort_by_product_count_descend":return a.sort(function(a,b){a=a.asset;b=b.asset;return b.num_items-a.num_items})}return a},getUpdatedAssetsForPOST:function(a,b){return b.map(function(b){return{categorization_criteria:a,criteria_value:b.criteria_value,image_url:b.image_url,name:b.name,destination_uri:b.destination_uri,description:b.description}}).toArray()},isDogCheckFailed:function(a,b){if(a.isDone()&&a.hasValue()){a=a.getValueEnforcing();return!!a.get(b)&&a.get(b).result==="failed"}return!0},getCriteriaWrapper:function(a){return a.entrySeq().toArray().map(function(a){var b=a[0];a=a[1];var c=0,d=0;a.isDone()&&a.hasValue()&&(c=a.getValueEnforcing().size,d=c-h.getIncompleteCategoryAssets(a.getValueEnforcing()).size);return{criteria:b,totalCount:c,completeCount:d}})},getDefaultCategorizationCriteria:function(a){var b={criteria:"brand",completeCount:0,totalCount:0},c=4;return a.reduce(function(a,b){if(b.completeCount>=c||a.completeCount>=c)return b.completeCount>a.completeCount?b:a;return b.totalCount>=c?b.totalCount>a.totalCount?b:a:a},b).criteria},hasCategorizationCriteriaInAdgroup:function(a){return!!((a=a.creative)==null?void 0:a.categorization_criteria)},adgroupSupportsOverlays:function(a){a=b("AdsDynamicAdsFormatUtils").getAdgroupFormatOption(a);return h.formatOptionSupportsOverlays(a)},formatOptionSupportsOverlays:function(a){return a==="carousel_images_multi_items"||a==="single_image"},isDynamicAdForRetail:function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.recommender_settings)==null?void 0:a.product_sales_channel;return a==="omni"||a===g("omni",b("DynamicAdsProductSalesChannel"))||a==="in_store"||a===g("in_store",b("DynamicAdsProductSalesChannel"))},allowStaticFallback:function(a,c,d){if(d==null)return!1;return d===b("CatalogVertical").FLIGHTS||b("adsAccountGK")._(a,"3nxv84yE4")&&d===b("CatalogVertical").HOTELS?c===b("AdsDynamicTargetingCategories").PROSPECTING:!1},isMessengerDynamicAds:function(a){var c;c=a==null?void 0:(c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.template_data)==null?void 0:(c=c.call_to_action)==null?void 0:c.type;a=(a=a.creative)==null?void 0:a.product_set_id;return a!=null&&c===b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name},isDynamicAd:function(a){return((a=a.creative)==null?void 0:a.product_set_id)!=null}};e.exports=h}),null);
__d("AdsMovieAdsUtils",["AdsAPIBillingEvents","AdsAPIObjectives","isTruthy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={MOVIE_ID_PLACEHOLDER:"",canSupportMovieOption:function(a){__p&&__p();return a.every(function(a){__p&&__p();var c,d,e=a.campaignGroup.objective;c=(c=a.campaign.promoted_object)==null?void 0:c.offer_id;d=(d=a.adgroup.creative)==null?void 0:d.object_type;var f=a.campaign.billing_event;a=(a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.movie_id;if(b("isTruthy")(a))return!0;if(d!=="VIDEO")return!1;return b("isTruthy")(c)?!1:e===b("AdsAPIObjectives").VIDEO_VIEWS||e===b("AdsAPIObjectives").LINK_CLICKS&&f!==b("AdsAPIBillingEvents").LINK_CLICKS||e===b("AdsAPIObjectives").CONVERSIONS&&f!==b("AdsAPIBillingEvents").LINK_CLICKS})},generateMovieURL:function(a){return"www.facebook.com/movies/"+a.toString()+"/?ref_surface=ad&ref_mechanism=surface"},isMovieAds:function(a){a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.movie_id;return a!=null}};e.exports=a}),null);
__d("AdsPageLikeUtils",["AdsAdgroupUtils","AdsAPIObjectives"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertPageTabLinkAndPageToLinkUrl:function(a,b){return a+b.split("/").slice(2).join("/")},isPageLikeVideo:function(a,c){if(c===b("AdsAPIObjectives").PAGE_LIKES){a=a==null?void 0:(c=a.creative)==null?void 0:c.object_type;c=b("AdsAdgroupUtils").getMediaFormatForObjectType(a);if(c==="VIDEO")return!0}return!1},isPageLikeCTAType:function(a){return a!==null&&a!==""&&a==="LIKE_PAGE"}};e.exports=a}),null);
__d("adsCampaignGetTargetingApiSpec",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.targeting?a.targeting.toJS():{}}e.exports=a}),null);