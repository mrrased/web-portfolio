if (self.CavalryLogger) { CavalryLogger.start_js(["8nTVL"]); }

__d("PagesMarketingAutomationDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!0})}),null);
__d("PagesMarketingAutomationActions",["PagesMarketingAutomationDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={types:{UPDATE_CONTENT_VIEW_MODE:"UPDATE_CONTENT_VIEW_MODE",COMPOSER_HAS_BEEN_EDITED:"COMPOSER_HAS_BEEN_EDITED",STORE_STATE:"STORE_STATE",REVERT_STATE:"REVERT_STATE",SET_DEFAULT_AUTOMATION:"SET_DEFAULT_AUTOMATION",UPDATE_IS_WELCOME_TEXT_INITIALIZED:"UPDATE_IS_WELCOME_TEXT_INITIALIZED",UPDATE_AUTOMATION_TYPE:"UPDATE_AUTOMATION_TYPE",UPDATE_AUTOMATION_ID:"UPDATE_AUTOMATION_ID",UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL:"UPDATED_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL",UPDATE_RECENT_AUTOMATION_THREAD_FBID:"UPDATE_RECENT_AUTOMATION_THREAD_FBID",UPDATE_SHOULD_SHOW_AUTOMATION_TOAST:"UPDATE_SHOULD_SHOW_AUTOMATION_TOAST",UPDATE_ENABLED:"UPDATE_ENABLED",UPDATE_SEND_DISABLED:"UPDATE_SEND_DISABLED",UPDATE_STATE:"UPDATE_STATE",UPDATE_WELCOME_TEXT:"UPDATE_WELCOME_TEXT",UPDATE_AUTOMATED_CHECKOUT_MESSAGES:"UPDATED_AUTOMATED_CHECKOUT_MESSAGES",UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID:"UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID",UPDATE_ORGANIC_INTAKE_FORM_MESSAGES:"UPDATED_ORGANIC_INTAKE_FORM_MESSAGES",UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID:"UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID",UPDATE_ATTACHMENT_TYPE:"UPDATE_ATTACHMENT_TYPE",UPDATE_MEDIA:"UPDATE_MEDIA",UPDATE_CTAS:"UPDATE_CTAS",UPDATE_ICEBREAKERS:"UPDATE_ICEBREAKERS",UPDATE_DEMO_ICEBREAKER_INDICES:"UPDATE_DEMO_ICEBREAKER_INDICES",UPDATE_IS_CURRENT_MENU_SET_BY_API:"UPDATE_IS_CURRENT_MENU_SET_BY_API",UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API:"UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API",UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA:"UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA",STORE_CONTACT:"STORE_CONTACT",STORE_ADDRESS:"STORE_ADDRESS",STORE_FOLLOW_UP_MESSAGE_INFO:"STORE_FOLLOW_UP_MESSAGE_INFO",STORE_HOURS:"STORE_HOURS",STORE_DIRECTIONS_URI:"STORE_DIRECTIONS_URI",STORE_AWAY_TIME_RANGES:"STORE_AWAY_TIME_RANGES",STORE_AWAY_TIME_ZONE:"STORE_AWAY_TIME_ZONE",STORE_IS_AWAY:"STORE_IS_AWAY",STORE_INTAKE_FORM_INFO:"STORE_INTAKE_FORM_INFO",USE_SETUP_INTAKE_FORM_EXPERIENCE:"USE_SETUP_INTAKE_FORM_EXPERIENCE",DISABLE_SETUP_INTAKE_FORM_EXPERIENCE:"DISABLE_SETUP_INTAKE_FORM_EXPERIENCE",UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:"UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE",UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:"UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE",UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE:"UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE",UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE:"UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE",UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL:"UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL",UPDATE_ENABLED_PLATFORMS:"UPDATE_ENABLED_PLATFORMS",SET_SAVED_REPLIES:"SET_SAVED_REPLIES",SELECTED_SAVED_REPLY:"SELECTED_SAVED_REPLY",SET_SERVICES_REFERRER_DATA:"SET_SERVICES_REFERRER_DATA",UPDATE_SAVED_REPLY:"UPDATE_SAVED_REPLY",UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS:"UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS",UPDATE_AUTOMATION_ENABLED_STATUSES:"UPDATE_AUTOMATION_ENABLED_STATUSES",TOGGLE_QPC_PROMPT_QUESTION:"TOGGLE_QPC_PROMPT_QUESTION",UPDATE_QPC_PROMPT_QUESTION:"UPDATE_QPC_PROMPT_QUESTION"},storeState:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_STATE})},setIsContentViewInEditMode:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_CONTENT_VIEW_MODE,isEditMode:a}),g.storeState()},setComposerHasBeenEdited:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.COMPOSER_HAS_BEEN_EDITED})},revertState:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.REVERT_STATE})},setDefaultAutomation:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_DEFAULT_AUTOMATION,isDefaultAutomation:a})},updateIsEnabled:function(a,c){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ENABLED,automationType:c,isEnabled:a})},updateIsSendDisabled:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SEND_DISABLED,isSendDisabled:a})},updateAutomationType:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_TYPE,automationType:a})},updateAutomationID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_ID,automationID:a})},updateAutomatedSequenceDialogSeeAll:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL,automatedSequenceDialogSeeAll:a})},updateRecentAutomationThreadFBID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_RECENT_AUTOMATION_THREAD_FBID,recentAutomationThreadFBID:a})},updateShouldShowAutomationToast:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SHOULD_SHOW_AUTOMATION_TOAST,shouldShowAutomationToast:a})},updateState:function(a,c,d,e,f,h,i,j){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_STATE,welcomeText:a,automatedCheckoutMessages:c,reengagementData:d,media:e,ctas:f,attachmentType:h,automationType:i,enabledPlatforms:j})},updateWelcomeText:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_WELCOME_TEXT,welcomeText:a})},updateAutomatedCheckoutMessages:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATED_CHECKOUT_MESSAGES,automatedCheckoutMessages:a})},updateAutomatedReengagementData:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA,reengagementData:a})},updatedAutomatedCheckoutStepListID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID,automatedCheckoutStepListID:a})},updateOrganicIntakeFormMessages:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ORGANIC_INTAKE_FORM_MESSAGES,organicIntakeFormMessages:a})},updateOrganicIntakeFormStepListID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID,organicIntakeFormStepListID:a})},updateIsWelcomeTextInitialized:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_IS_WELCOME_TEXT_INITIALIZED,isWelcomeTextIntialized:a})},updateAttachmentType:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ATTACHMENT_TYPE,attachmentType:a})},updateMedia:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_MEDIA,media:a})},updateCTAs:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_CTAS,ctas:a})},updateContact:function(a,c){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_CONTACT,phoneNumber:a,website:c})},updateAddress:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_ADDRESS,address:a})},updateDirectionsURI:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_DIRECTIONS_URI,directionsURI:a})},updatePageHours:function(a,c,d){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_HOURS,hours:a,isAlwaysOpen:c,isPermanentlyClosed:d})},updateAwayTimeRange:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_AWAY_TIME_RANGES,awayTimeRanges:a})},updateAwayTimeZone:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_AWAY_TIME_ZONE,awayTimeZone:a})},updateAwayState:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_IS_AWAY,isAway:a})},storeIntakeFormInfo:function(a,c,d,e,f,h,i){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_INTAKE_FORM_INFO,isEligibleForIntakeForm:a,isQPCPromptQuestionEnabled:c,qpcConsumerFlow:d,questionnaireStopQuestionsMessage:e,questionnaireReminderMessage:f,questionnairePrivacyPolicyURL:h,qpcPromptQuestion:i})},storeFollowUpMessageInfo:function(a,c){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_FOLLOW_UP_MESSAGE_INFO,messageContent:a,triggerTimeSecs:c})},updateIcebreakers:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ICEBREAKERS,icebreakers:a})},updateIcebreakerDemoIndices:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_DEMO_ICEBREAKER_INDICES,demoIcebreakerIndices:a})},updateIsCurrentMenuSetByAPI:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_IS_CURRENT_MENU_SET_BY_API,isCurrentMenuSetByAPI:a})},updateIsCurrentIcebreakersSetByAPI:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API,isCurrentIcebreakersSetByAPI:a})},setupIntakeFormSetupExperience:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.USE_SETUP_INTAKE_FORM_EXPERIENCE})},disableIntakeFormSetupExperience:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.DISABLE_SETUP_INTAKE_FORM_EXPERIENCE})},updateQuestionnaireDisqualificationMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE,questionnaireDisqualificationMessage:a})},updateQuestionnaireStopQuestionsMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE,questionnaireStopQuestionsMessage:a})},updateQuestionnaireSummaryMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE,questionnaireSummaryMessage:a})},updateQuestionnaireReminderMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE,questionnaireReminderMessage:a})},updateEnabledPlatforms:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ENABLED_PLATFORMS,enabledPlatforms:a})},updateQuestionnairePrivacyPolicyURL:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL,questionnairePrivacyPolicyURL:a})},setSavedReplyResponses:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_SAVED_REPLIES,savedReplies:a})},updateSelectedSavedReply:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SELECTED_SAVED_REPLY,selectedSavedReply:a})},initialServicesReferrerConfig:function(a){a!=null&&b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_SERVICES_REFERRER_DATA,servicesReferrerData:a})},updateSavedReply:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SAVED_REPLY,updateSavedReply:a})},updateShouldShowAdvancedOptions:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS,shouldShowAdvancedOptions:a})},updateAutomationEnabledStatuses:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_ENABLED_STATUSES,automationEnabledStatuses:a})},toggleQPCPromptQuestion:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.TOGGLE_QPC_PROMPT_QUESTION})},updateQPCPromptQuestion:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QPC_PROMPT_QUESTION,qpcPromptQuestion:a})}};e.exports=g}),null);
__d("PagesMarketingAutomationMessageComposer.react",["PagesContentEditorMessageComposer.react","PagesMarketingAutomationActions","React","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("media_upload_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$2=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.image_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.src:a:a:a:a:a;if(a){c={id:c,url:a,type:"image",class_name:"EntBusinessMessageWithItems"};b("PagesMarketingAutomationActions").updateMedia(c);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,c)}}},d.$3=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("media_upload_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$4=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.video_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.thumbnail_src:a:a:a:a:a;if(a){c={id:c,url:a,type:"video",class_name:"EntBusinessMessageWithItems"};b("PagesMarketingAutomationActions").updateMedia(c);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,c)}}},d.$5=function(){var a;new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("remove_attachment_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();b("PagesMarketingAutomationActions").updateAttachmentType(null);b("PagesMarketingAutomationActions").updateMedia(null);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,null)},d.$6=function(){var a;b("PagesMarketingAutomationActions").updateAttachmentType("image");d.props.onIndexedMediaTypeChange&&d.props.onIndexedMediaTypeChange((a=d.props.index)!=null?a:0,"image")},d.$7=function(a){var c;new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("format_change_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();b("PagesMarketingAutomationActions").updateAttachmentType(a);d.props.onIndexedMediaTypeChange&&d.props.onIndexedMediaTypeChange((c=d.props.index)!=null?c:0,a)},d.$8=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].content=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$9=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].type=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$10=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].url=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$11=function(a){if(!d.props.ctas)return;var c=d.props.ctas.slice(0);c.splice(a,1);b("PagesMarketingAutomationActions").updateCTAs(c);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,c)},d.$12=function(){__p&&__p();var a=d.props.ctas&&d.props.ctas.slice();new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("add_button_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();var c={content:"",url:"",type:"button"};if(a){var e;a.push(c);b("PagesMarketingAutomationActions").updateCTAs(a);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((e=d.props.index)!=null?e:0,a)}else{b("PagesMarketingAutomationActions").updateCTAs([c]);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((e=d.props.index)!=null?e:0,[c])}},d.$13=function(a){var b;d.props.onMessageChange((b=d.props.index)!=null?b:0,a)},d.$14=function(a){var b;d.props.onIndexedQuestionChange&&d.props.onIndexedQuestionChange((b=d.props.index)!=null?b:0,a)},d.$15=function(a){var b;d.props.onIndexedTimeChange&&d.props.onIndexedTimeChange((b=d.props.index)!=null?b:0,(b=a)!=null?b:0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return b("React").jsx(b("PagesContentEditorMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,automationType:this.props.automationType,ctas:this.props.ctas,errors:this.props.errors,hideAttachmentSection:this.props.hideAttachmentSection,hideCTASection:this.props.hideCTASection,inDialog:this.props.inDialog,index:this.props.index,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,media:this.props.media,messageLabel:this.props.messageLabel,numIcebreakers:this.props.numIcebreakers,onAddAttachmentLinkPressed:this.$6,onAddCTA:this.$12,onCTATitleChange:this.$8,onCTATypeChange:this.$9,onCTAURLChange:this.$10,onCloseAttachment:this.$5,onImageSelect:this.$1,onMessageChange:this.$13,onQuestionTextChange:this.$14,onRemoveCTA:this.$11,onSelectAttachmentType:this.$7,onTimeChange:this.$15,onUploadImageSuccess:this.$2,onUploadVideoSuccess:this.$4,onVideoSelect:this.$3,pageID:this.props.pageID,placeholderText:this.props.placeholderText,questionText:this.props.questionText,showCTATypes:this.props.showCTATypes,showPersonalization:this.props.showPersonalization,showTimeSection:this.props.showTimeSection,specialType:this.props.specialType,text:this.props.welcomeText,textLimit:this.props.textLimit,time:this.props.time,timeDurationUnits:this.props.timeDurationUnits,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerMenuPreview.react",["cx","fbt","ix","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=30;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.menuItems==null)return;var a=this.props.menuItems.map(function(a,c){return b("React").jsx("div",{className:"_8f_c",children:b("React").jsx("div",{className:"_8f_d",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a.custom_question.length>j?a.custom_question.substr(0,j-3)+"...":a.custom_question})},"text")},"menuitem".concat(c.toString()))});return b("React").jsxs("div",{className:"_8f_e",children:[b("React").jsx("div",{children:b("React").jsx("input",{className:"_8jga",type:"text"})}),b("React").jsx("div",{children:b("React").jsx("input",{className:"_8f_h",placeholder:h._("Write a message..."),type:"text"})}),b("React").jsx("div",{children:a})]})};d.render=function(){var a,c=this.$1();return(a=b("React")).jsxs("div",{className:"_8f_j",children:[a.jsx(b("Image.react"),{src:i("572864")}),a.jsx("div",{className:"_8f_k",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),a.jsx("div",{children:c})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMessengerPreview.react",["cx","fbt","ix","FDSText.react","FluxContainer","Image.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","ScrollableArea.react","ServicesGetQuoteCTASetupUtils","SUIBusinessTheme","SUIText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName,k="PagesMessengerPreview";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(k)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(k).getState();return{supportedMacros:a.supportedMacros}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.$1=function(){b("PagesReplyComposerDispatcher").getByKey(k).explicitlyRegisterStores([b("PagesReplyComposerStore").getByKey(k)]),b("PagesReplyComposerActions").getActionsByKey(k).initializeStoreWithConfig({composerKey:k,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:"",automationType:this.props.automationType})};d.$2=function(){return this.props.ctas&&this.props.ctas.length>0?this.props.ctas.map(function(a,c){return b("React").jsx("div",{className:"_3eb0",children:b("React").jsx(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1",children:a.content})},c)}):null};d.$3=function(){if(this.props.attachmentType){var a=this.props.media,c=a&&this.props.attachmentType===a.type?b("React").jsx(b("Image.react"),{className:"_3eb1",src:a&&a.url}):b("React").jsx("div",{className:"_6aul",children:b("React").jsx(b("Image.react"),{src:this.props.attachmentType==="image"?i("481807"):i("493176")})});return b("React").jsxs("div",{children:[c,a&&this.props.attachmentType==="image"?b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",weight:"bold",children:a.title}),b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",children:a.subtitle})]}):null]})}return null};d.$4=function(a){var c=this.props.ghostTextLocation==="top"?"_3-96 _3-9a":"_3-8y _3-9c";return b("React").jsx("div",{className:"_8fyf",children:b("React").jsx(b("SUIText.react"),{color:"disabled",customSizeUseSparingly:"10px",display:"block",margin:c,overflowWrap:"break-word",size:"body3",textAlign:a,theme:b("SUIBusinessTheme"),children:this.props.ghostText})})};d.$5=function(){var a=b("PagesReplyComposerTextUtilities").processMessage(this.props.text,this.state.supportedMacros);return b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a})})};d.$6=function(){return b("React").jsxs("div",{className:"_6bbd",children:[this.props.ghostTextLocation==="top"?this.$4("center"):null,b("React").jsxs("div",{style:{display:"flex"},children:[b("React").jsx(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),b("React").jsxs("div",{className:"_3ecd",children:[this.$5(),this.$3(),this.$2()]})]}),this.props.ghostTextLocation==="bottom"?this.$4("left"):null]})};d.$7=function(){var a=this,c=this.props.questionnaireMessages,d=c==null?void 0:c.questionMessages,e=null,f=null;if(c&&d&&d.length){var g;e=(g=b("React")).jsxs("div",{className:"_6bbd",children:[g.jsxs("div",{style:{display:"flex"},children:[g.jsx(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),g.jsxs("div",{className:"_8fyh",children:[!!(c==null?void 0:c.introMessage)&&b("React").jsx("div",{className:"_3ecd",children:b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:c.introMessage})})}),this.props.qpcPromptQuestion!=null?b("React").jsx("div",{className:"_3ecd",children:b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:(g=this.props.qpcPromptQuestion)==null?void 0:g.promptQuestionMessage})})}):null]})]}),this.props.qpcPromptQuestion!=null?b("React").jsx("div",{className:"_8fyg",children:b("React").jsx(b("FDSText.react"),{color:"white",overflowWrap:"break-word",size:"body2",children:(c=this.props.qpcPromptQuestion)==null?void 0:c.promptQuestionStartAnswer})}):null]},0);f=b("React").jsx(b("React").Fragment,{children:d.map(function(d,e){var c,f=d.answerType;return(c=b("React")).jsxs("div",{className:"_6bbd",children:[c.jsxs("div",{style:{display:"flex"},children:[c.jsx(b("Image.react"),{className:"_3ebf",src:a.props.pageProfileUrl}),c.jsx("div",{className:"_8fyh",children:c.jsx("div",{className:"_3ecd",children:c.jsx("div",{className:"_3ebi",children:c.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:d.message})})})})]}),c.jsx("div",{className:"_8fyg",children:c.jsx(b("FDSText.react"),{color:"white",overflowWrap:"break-word",size:"body2",children:f?j(f):h._("Answer")})})]},e+1)})})}return b("React").jsxs(b("React").Fragment,{children:[e,f]})};d.$8=function(){if(this.props.icebreakers==null)return;var a=this.props.icebreakers.map(function(a,c){var d;return(d=b("React")).jsxs("div",{className:"_8bp7",children:[d.jsx("div",{className:"_8bp8",children:d.jsx("div",{className:"_8bp9",children:h._("Ask")})}),d.jsx("div",{className:"_8bpa",children:d.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body3",children:a.custom_question})},"text")]},"icebreaker".concat(c.toString()))});return b("React").jsx("div",{className:"_8bpb",children:a.map(function(a,c){c=b("React").jsx("div",{className:"_8bpc"},"separator".concat(c.toString()));return[a,c]})})};d.render=function(){var a,c=null;switch(this.props.automationType){case"organic_intake_form":case"automated_checkout":c=this.$7();break;case"icebreaker":c=this.$8();break;default:c=this.$6();break}return(a=b("React")).jsxs("div",{className:"_3ebe",children:[a.jsx(b("Image.react"),{src:i("572864")}),a.jsx("div",{className:"_3eb3",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),a.jsx(b("ScrollableArea.react"),{className:"_3ebd",children:a.jsx("div",{className:"_3ei9",children:c})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesMessengerReengagementPreview.react",["cx","ix","FDSText.react","FluxContainer","Image.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","ScrollableArea.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="PagesMessengerPreview";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(i)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(i).getState();return{supportedMacros:a.supportedMacros}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.$1=function(){b("PagesReplyComposerDispatcher").getByKey(i).explicitlyRegisterStores([b("PagesReplyComposerStore").getByKey(i)]),b("PagesReplyComposerActions").getActionsByKey(i).initializeStoreWithConfig({composerKey:i,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""})};d.$2=function(a){return a&&a.length>0?a.map(function(a,c){return b("React").jsx("div",{className:"_3eb0",children:b("React").jsx(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1",children:a.content})},c)}):null};d.$3=function(a,c){if(a){var d=c&&a===c.type?b("React").jsx(b("Image.react"),{className:"_3eb1",src:c&&c.url}):b("React").jsx("div",{className:"_6aul",children:b("React").jsx(b("Image.react"),{src:a==="image"?h("481807"):h("493176")})});return b("React").jsxs("div",{children:[d,c&&a==="image"?b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",weight:"bold",children:c.title}),b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",children:c.subtitle})]}):null]})}return null};d.$4=function(a){a=b("PagesReplyComposerTextUtilities").processMessage(a,this.state.supportedMacros);return b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a})})};d.$5=function(){var a=this,c=this.props.reengagementMessages;return c&&c.length>0?c.map(function(c,d){var e;return(e=b("React")).jsx("div",{className:"_6bbd",children:e.jsxs("div",{style:{display:"flex"},children:[e.jsx(b("Image.react"),{className:"_3ebf",src:a.props.pageProfileUrl}),e.jsxs("div",{className:"_3ecd",children:[a.$4(c.messageText),a.$3(c.attachmentType,c.attachment),a.$2(c.ctas)]})]})},d)}):null};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_3ebe",children:[a.jsx(b("Image.react"),{src:h("572864")}),a.jsx("div",{className:"_3eb3",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),a.jsx(b("ScrollableArea.react"),{className:"_3ebd",children:a.jsx("div",{className:"_3ei9",children:this.$5()})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageSetAwayConfigMutation",["RelayFBEnvironment","RelayModern","PageSetAwayConfigMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageSetAwayConfigMutation.graphql");function a(a,c,d,e){var f={set_page_away_config:{away_time_zone:a,away_hours:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:f,variables:{input:{away_time_zone:a,away_hours:d,page_id:c}},onCompleted:e&&e.onSuccess,onError:e&&e.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationCreateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationCreateMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a.data},updater:function(a,b){b=(b=b)!=null?(b=b.page_create_automation)!=null?(b=b.automation)!=null?b.id:b:b:b;if(b){a=a.get(b);a&&a.setValue(!0,"is_enabled")}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationUpdateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationUpdateMutation.graphql");function a(a,c){var d={page_update_automation:{automation:{id:a.data.id},automated_checkout_step_list:null}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationEditView.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","AppointmentFollowUpMessageEditor.react","FBConfirmDialog.react","FBMoreLink.react","FDSButton.react","FDSCancelButton.react","FDSCheckboxInput.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","IcebreakerFreeTextEditor.react","Image.react","MessengerAdsConversionFunnelTypedLogger","PagesAutomatedQuestionnaireMessageItem.react","PagesAutomatedQuestionnairePrivacyPolicyItem.react","PagesAutomatedResponsesAwayTimeRangeEditorRoot.react","PagesContentEditorConstants","PagesCreateSavedResponseMutation","PagesDeleteSavedResponseMutation","PagesEditSavedResponseMutation","PageSetAwayConfigMutation","PagesManagerAction","PagesManagerComposerSectionCard.react","PagesManagerComposerTopBar.react","PagesManagerInboxFAQConstants","PagesManagerInboxLogger","PagesMarketingAutomationActions","PagesMarketingAutomationCheckoutQuestionComposer.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentView.react","PagesMarketingAutomationCreateMutation","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationReengagementMessages.react","PagesMarketingAutomationStore","PagesMarketingAutomationUpdateMutation","PagesMarketingAutomationUtils","PagesMessagingInboxActionLogger","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","PagesOrganicIntakeFormQuestionComposer.react","PagesQPCPromptQuestionItem.react","PagesQPCQuestionComposer.react","PagesTimeRangeEditorUtilities","PageUpdateCustomIcebreakersMutation","React","ResponsiveBlock.react","SavedResponsesConstants","SavedResponsesUtils","ServicesEventsLogger","ServicesFollowUpMessageSettingMutation","ServicesQPCFlow","WebFunnelLogger","asset","cxMargin","debounce","enumUtils","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("PagesContentEditorConstants").PagesContentEditorMessageComposerSpecialTypes,m=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_CTA_TITLE,n=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_WARN_DESCRIPTION,o=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_WARN_TITLE,p=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,q=a.getContentForEditHeader,r=a.getContentForIncompatibilityDisclaimerModal,s=a.getContentForModalDetail,t=a.getContentForModalTitle,u=a.getPlacementContent,v=a.getPlatformStatus,w=a.getShouldShowIGDirectAutomatedResponse,x=a.getTimingContent,y=a.getTimingNote,z=a.getTitleForIncompatibilityDisclaimerModal,A=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers,B=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply,C=b("ServicesFollowUpMessageSettingMutation").commitMutationFollowUpMessage;function D(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:i._("Save"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:i._("Save Away Schedule Changes?")}),isShown:a.isShown,onHide:a.onCancelClick,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:i._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.")})})})}function E(a){return a.modalPurpose==null?null:b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{label:a.modalPurpose==="CUSTOM_QUESTIONS"?m:i._("Save"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:t(a.modalPurpose)}),isShown:a.isShown,onHide:a.onCancelClick,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{children:s(a.modalPurpose)})})})}function F(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:m,onClick:a.onConfirmClick,use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:o}),isShown:a.isShown,onHide:a.onCancelClick,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:n})})})}function G(a){return b("React").jsx(b("PagesMarketingAutomationReengagementMessages.react"),{automationID:a.automationID,data:a.data,onAddMessage:a.onAddMessage,onIndexedCTAChange:a.onIndexedCTAChange,onIndexedMediaChange:a.onIndexedMediaChange,onIndexedMediaTypeChange:a.onIndexedMediaTypeChange,onIndexedTimeChange:a.onIndexedTimeChange,onMessageChange:a.onMessageChange,onRemoveMessage:a.onRemoveMessage,onRulesChange:a.onRulesChange,pageID:a.pageID})}function H(a){return b("React").jsxs(b("React").Fragment,{children:[J(a.automatedCheckoutMessages)?b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onQuestionnaireDisqualificationMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.questionnaireDisqualificationMessage}),header:i._("Disqualification Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8orc",children:b("React").jsx(b("Image.react"),{src:g("1122037")})}),subtitle:i._("Send people a different message if you disqualify an answer.")}):null,b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnairePrivacyPolicyItem.react"),{onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,placeHolder:b("SavedResponsesConstants").privacyPolicyURL,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL}),header:i._("Your Privacy Policy URL"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8kmo",children:b("React").jsx(b("Image.react"),{src:g("502604")})}),subtitle:i._("Since you'll be collecting customer information, we strongly recommend that you include a link to your business' privacy policy.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireStopQuestionsMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE}),header:i._("Pause Automated Questions"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8j8x",children:b("React").jsx(b("Image.react"),{src:g("1122037")})}),subtitle:i._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.")})]})}function I(a){var c=b("PagesMarketingAutomationStore").getAutomatedCheckoutStepListID()?"existing_setup":"new_setup";new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_setup_impression").setConversionType("BUYER_INFORMATION").setEventSubtype(c).setPageID(a.pageID).log();return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onIntroMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.introMessage}),header:i._("Intro"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Introduce the questions you'll ask to collect people's information for making purchases.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationCheckoutQuestionComposer.react"),{automatedCheckoutMessages:a.automatedCheckoutMessages,onAddQuestion:a.onAddQuestion,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion,pageID:a.pageID,showError:!1}),header:a.automatedCheckoutMessages.questionMessages.length>1?i._("Questions"):i._("Question"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _87a7",children:b("React").jsx(b("Image.react"),{src:g("598398")})}),subtitle:i._("Customize the questions you will send in sequence.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireReminderMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireReminderMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_REMINDER_MESSAGE}),header:i._("Reminder"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9h",children:b("React").jsx(b("Image.react"),{src:g("537339")})}),subtitle:i._("Send an automated message to people who haven't finished your questions within 24 hours.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireSummaryMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireSummaryMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_SUMMARY_MESSAGE}),header:i._("Summary"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9i",children:b("React").jsx(b("Image.react"),{src:g("480666")})}),subtitle:i._("Send people a message to go along with a summary of their details.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onThankYouMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.thankYouMessage}),header:i._("Completion Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9j",children:b("React").jsx(b("Image.react"),{src:g("1122023")})}),subtitle:i._("Thank people for their answers and let them know what happens next.")}),b("React").jsx(b("FBMoreLink.react"),{allowToggle:!0,className:"_8qxd",isCollapsed:!a.shouldShowAdvancedOptions,lessLabel:i._("Hide advanced options"),moreLabel:i._("Show advanced options"),onClick:function(){return b("PagesMarketingAutomationActions").updateShouldShowAdvancedOptions(!a.shouldShowAdvancedOptions)}}),a.shouldShowAdvancedOptions?H(a):null]})}function J(a){a=a.questionMessages;return a.some(function(a){return a.goToOptions&&a.goToOptions.some(function(a){return a===j.DISQUALIFY_MESSAGE})})}function K(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("PagesManagerComposerSectionCard.react"),{body:c.jsx(b("PagesAutomatedQuestionnairePrivacyPolicyItem.react"),{onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL}),header:i._("Privacy Policy (Optional)"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _8kmo",children:c.jsx(b("Image.react"),{src:g("482269")})}),subtitle:i._("If you'll be collecting customer information, we strongly recommend you include a link to your business' privacy policy.")}),c.jsx(b("PagesManagerComposerSectionCard.react"),{body:c.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireStopQuestionsMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE}),header:i._("Confirmation to Pause Questions"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _8j8x",children:c.jsx(b("Image.react"),{src:g("681572")})}),subtitle:i._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.")})]})}function L(a){var c=a.isCollapsed?i._("Show advanced options"):i._("Hide advanced options"),d=a.isCollapsed?g("510357"):g("537237");return b("React").jsxs("div",{className:"_8qxd",children:[b("React").jsx(b("FDSText.react"),{color:"highlight",size:"body1",weight:"bold",children:b("React").jsx(b("FDSLink.react"),{onClick:a.onClickQPCAdvancedOptionsLink,children:c})}),b("React").jsx(b("Image.react"),{className:"_8y4f",src:d})]})}function M(a){var c,d;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(d=b("PagesManagerComposerSectionCard.react"),{header:i._("Overview"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _6as7",children:c.jsx(b("Image.react"),{src:g("650922")})}),subtitle:i._("Sent instantly to people who contact your Page for the first time.")}),c.jsx(d,{body:c.jsx("div",{children:c.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.organicIntakeFormMessages.introMessage,errors:a.errors,onIntroMessageChange:a.onIntroMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_WELCOME_MESSAGE})}),header:i._("Intro"),isCollapsible:!1,leftIcon:c.jsxs("div",{className:"_6as2 _8icd",children:[c.jsx(b("Image.react"),{src:g("495272")})," "]}),subtitle:i._("Welcome people to the conversation.")}),c.jsx(d,{body:c.jsx("div",{children:c.jsx(b("PagesQPCPromptQuestionItem.react"),{errors:a.errors,onPromptQuestionChange:a.onPromptQuestionChange,pageID:a.pageID,qpcPromptQuestion:a.qpcPromptQuestion})}),header:i._("Question Prompt"),initialExpanded:a.isQPCPromptQuestionEnabled,isCollapsible:!0,leftIcon:c.jsx("div",{className:"_6as2 _8yxj",children:c.jsx(b("Image.react"),{src:g("813966")})}),onClick:a.onToggleQPCPromptQuestion,subtitle:i._("After your intro, this prompt will be sent so people can choose to either answer your questions or message you directly."),useCollapseToggleSwitch:!0}),c.jsx(d,{body:b("qex")._("1241531")?b("React").jsx(b("PagesQPCQuestionComposer.react"),{errors:a.errors,messages:a.organicIntakeFormMessages.questionMessages,onAddQuestion:a.onAddQuestion,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion,pageID:a.pageID}):b("React").jsx(b("PagesOrganicIntakeFormQuestionComposer.react"),{errors:a.errors,messages:a.organicIntakeFormMessages.questionMessages,onAddQuestion:a.oldOnAddQuestion,onQuestionMessageChange:a.oldOnQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion}),header:i._("Questions"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8y4p",children:b("React").jsx(b("Image.react"),{src:g("598398")})}),subtitle:i._("Ask a sequence of questions to see if people are potential customers. These questions help qualify your leads.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireReminderMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireReminderMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_REMINDER_MESSAGE}),header:i._("Reminder"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8j8w",children:b("React").jsx(b("Image.react"),{src:g("537339")})}),subtitle:i._("Send an automated message to people who haven't finished your questions within 24 hours.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.organicIntakeFormMessages.thankYouMessage,errors:a.errors,onIntroMessageChange:a.onThankYouMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_THANK_YOU_MESSAGE}),header:i._("Completion Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8y4q",children:b("React").jsx(b("Image.react"),{src:g("1122023")})}),subtitle:i._("Thank people for their answers and let them know what happens next")}),b("React").jsx(L,{isCollapsed:!a.shouldShowAdvancedOptions,onClickQPCAdvancedOptionsLink:a.onClickQPCAdvancedOptionsLink}),a.shouldShowAdvancedOptions&&b("React").jsx(K,{automationID:a.automationID,errors:a.errors,onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,onQuestionnaireStopQuestionsMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL,questionnaireStopQuestionsMessage:a.questionnaireStopQuestionsMessage})]})}function N(a){return b("React").jsx(b("FBConfirmDialog.react"),{confirmButtonText:i._("Continue"),content:r(a.automationType),onCancel:a.onCancel,onConfirm:a.onConfirm,shown:!0,title:z(a.automationType)})}function O(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("PagesManagerComposerSectionCard.react"),{body:c.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:a.attachmentType,automationID:a.automationID,automationType:"saved_reply",ctas:null,errors:a.errors,hideAttachmentSection:!1,hideCTASection:!0,isWelcomeTextIntialized:a.isWelcomeTextIntialized,media:a.media,messageLabel:i._("Text"),onMessageChange:a.onMessageChange,pageID:a.pageID,placeholderText:i._("Write a message..."),showPersonalization:!0,showTimeSection:!1,textLimit:1e3,videoDisabled:!0,welcomeText:(c=(c=a.selectedSavedReply)==null?void 0:c.message)!=null?c:""}),header:i._("Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:a.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:a.isWelcomeTextIntialized,media:null,messageLabel:i._("Shortcut"),onMessageChange:a.onShortcutChange,pageID:a.pageID,placeholderText:i._("Add a shortcut..."),showPersonalization:!1,showTimeSection:!1,textLimit:80,videoDisabled:!0,welcomeText:(a=(c=a.selectedSavedReply)==null?void 0:c.title)!=null?a:""}),header:i._("Shortcut (Required)"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8nr_",children:b("React").jsx(b("Image.react"),{src:g("511232")})}),subtitle:i._("Use a shortcut to find this saved reply later and easily insert it into a conversation. Shortcuts must be at least 3 characters.")})]})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={saveError:!1,shouldShowErrors:!1,showCustomQuestionsDialog:!1,showComposerErrorsForPreview:!1,isDeleting:!1,isSaving:!1,isSendingPreview:!1,showPreviewSuccessText:!1,showPreviewSendErrors:!1,isMessengerChecked:v(d.props.enabledPlatforms,"MESSENGER"),isIGChecked:v(d.props.enabledPlatforms,"INSTAGRAM_DIRECT"),showAwayTimeRangeDialog:!1,showPlacementUnsetDialog:!1,showQPCDisclaimerDialog:!1},d.$2=function(){d.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1}),b("PagesMarketingAutomationActions").storeState(),b("PagesMarketingAutomationActions").disableIntakeFormSetupExperience(),d.props.automationType==="organic_intake_form"?b("PagesMarketingAutomationActions").updateIsEnabled(!1,"custom_questions"):d.props.automationType==="custom_questions"&&b("PagesMarketingAutomationActions").updateIsEnabled(!1,"organic_intake_form"),d.props.onBack()},d.$3=function(){b("PagesMarketingAutomationActions").updateIsEnabled(!1),d.setState({saveError:!0,shouldShowErrors:!0,isSaving:!1})},d.$4=function(){__p&&__p();var a=!0,c="",e=d.props.errors;d.$5();if(e)d.setState({shouldShowErrors:!0}),a=!1,c=e.errorText;else{if(d.state.isMessengerChecked===!1&&d.state.isIGChecked===!1&&w(d.props.enabledPlatforms,d.props.automationType)){d.setState({showPlacementUnsetDialog:!0});return}var f=d.$6();if(f===!1)return;d.setState({isSaving:!0});b("PagesMarketingAutomationActions").updateIsEnabled(!0);b("PagesMarketingAutomationActions").updateWelcomeText(d.props.welcomeText.trim());if(d.props.automationType==="icebreaker")d.$7(d.$2,d.$3);else if(d.props.automationType==="custom_questions"){d.$8();return}else d.props.automationType==="appointment_follow_up"?d.$9(d.$2,d.$3):d.props.automationType==="saved_reply"?d.$10():b("PagesMarketingAutomationStore").getIsDefaultAutomation()?d.$11(d.$2,d.$3):d.$12(d.$2,d.$3)}d.$13(d.props.pageID,d.props.automationID,d.props.automationType,e,a,c)},d.$14=function(){d.setState({showQPCDisclaimerDialog:!0})},d.$5=function(){d.setState({showQPCDisclaimerDialog:!1})},d.$16=function(){d.setState({showCustomQuestionsDialog:!1,isSaving:!1})},d.$15=function(){d.setState({showCustomQuestionsDialog:!1});d.$7(d.$2,d.$3);d.props.icebreakers&&d.props.icebreakers.some(function(a){return a.should_show_in_menu})&&b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(!1);var a=!0,c="",e=d.props.errors;e&&(d.setState({shouldShowErrors:!0}),a=!1,c=e.errorText);d.$13(d.props.pageID,d.props.automationID,d.props.automationType,e,a,c)},d.$18=function(){var a,c=d.props.initialSelectedSavedReply;a=c==null?void 0:(a=c.image)==null?void 0:a.id;if(c!=null){var e;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.setState({isDeleting:!1}),d.$17(null)},d.$3);b("PagesMessagingInboxActionLogger").logUpdateSavedReply((e=c==null?void 0:c.message)!=null?e:"","",(e=c==null?void 0:c.title)!=null?e:"","",a,"",null)}},d.$20=function(){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("cancel_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log(),d.setState({saveError:!1}),b("PagesMarketingAutomationActions").revertState(),d.props.automationType!=="saved_reply"&&d.props.onBack()},d.$22=function(){__p&&__p();if(d.props.errors){d.setState({showComposerErrorsForPreview:!0});d.$1=window.setTimeout(function(){d.setState({showComposerErrorsForPreview:!1})},3e3);return}d.setState({isSendingPreview:!0});b("PagesMarketingAutomationUtils").sendPreview(d.props.pageID,d.$23,d.$24);d.props.automationType==="organic_intake_form"&&d.logIntakeFormEvent("services_organic_intake_form_setup_click_preview");new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("preview_in_messenger_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$23=function(){d.setState({showPreviewSuccessText:!0}),d.setState({isSendingPreview:!1}),d.setState({showComposerErrorsForPreview:!1}),d.$1=window.setTimeout(function(){d.setState({showPreviewSuccessText:!1})},3e3)},d.$24=function(){d.setState({showPreviewSendErrors:!0}),d.setState({isSendingPreview:!1}),d.setState({showComposerErrorsForPreview:!1}),d.$1=window.setTimeout(function(){d.setState({showPreviewSendErrors:!1})},3e3)},d.$33=function(){d.setState({showAwayTimeRangeDialog:!1,isSaving:!1})},d.$34=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone();if(a==null)return;b("PageSetAwayConfigMutation").commit(a,d.props.pageID,JSON.stringify(b("PagesMarketingAutomationStore").getAwayTimeRanges()),{onSuccess:function(){b("PagesMarketingAutomationActions").updateAwayState(!0)},onFailure:function(){}});b("PagesMarketingAutomationStore").getIsDefaultAutomation()?d.$11(d.$2,d.$3):d.$12(d.$2,d.$3);b("PagesManagerInboxLogger").logAutomatedResponsesSaveClicked(d.props.automationType,!1);d.setState({showAwayTimeRangeDialog:!1,isSaving:!1})},d.$35=function(){d.state.showPlacementUnsetDialog?d.setState({showPlacementUnsetDialog:!1,isSaving:!1}):d.state.showAwayTimeRangeDialog?d.setState({showAwayTimeRangeDialog:!1,isSaving:!1}):d.state.showCustomQuestionsDialog&&d.setState({showCustomQuestionsDialog:!1,isSaving:!1})},d.$36=function(){d.state.showPlacementUnsetDialog?d.$37():d.state.showAwayTimeRangeDialog?d.$34():d.state.showCustomQuestionsDialog&&d.$15()},d.$39=function(a,c){if(!d.props.isWelcomeTextIntialized){b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!0);return}return b("PagesMarketingAutomationActions").updateWelcomeText(c)},d.$40=function(a,c){return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:c,questionMessages:d.props.automatedCheckoutMessages.questionMessages,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$41=function(a,c){var e=d.props.automatedCheckoutMessages.questionMessages.slice(),f=a.answers?a.answers.map(function(a){return a.value}):[];e[c]={answers:f,answerType:(c=a.answerType)!=null?c:k.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"};return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:e,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$42=function(a,c){c=c?c.map(function(a){return a.value}):[];b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages.concat({answers:c,answerType:a,message:"",prefillType:"NONE",replyType:"TEXT"}),thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$43=function(a){b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages.filter(function(b,c){return c!==a}),thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$44=function(a,c){return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages,thankYouMessage:c})},d.$45=function(a,c){return b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c,questionMessages:d.props.organicIntakeFormMessages.questionMessages,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage})},d.$46=function(a,c){var e=d.props.organicIntakeFormMessages.questionMessages.slice();e[a]=c;b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:e,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.$47()},d.$48=function(a,c){var e=d.props.organicIntakeFormMessages.questionMessages.slice(),f=a.answers?a.answers.map(function(a){return a.value}):[];e[c]={answers:f,answerType:(c=a.answerType)!=null?c:k.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"};b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:e,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.$47()},d.$49=function(){b("PagesMarketingAutomationActions").toggleQPCPromptQuestion(),d.logIntakeFormEvent("services_organic_intake_form_prompt_question_toggle")},d.$51=function(a,c){b("PagesMarketingAutomationActions").updateSavedReply({message:(a=(a=d.props.selectedSavedReply)==null?void 0:a.message)!=null?a:"",title:c})},d.$52=function(a,c){var e;b("PagesMarketingAutomationActions").updateSavedReply({message:c,title:(e=(e=d.props.selectedSavedReply)==null?void 0:e.title)!=null?e:""});d.$39(a,c)},d.$47=b("debounce")(function(){d.logIntakeFormEvent("services_organic_intake_form_setup_edit_question")},2e3,babelHelpers.assertThisInitialized(d)),d.$53=function(){b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.concat({answers:[],answerType:k.CUSTOM,forceEditMode:!0,message:""}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage}),d.logIntakeFormEvent("services_organic_intake_form_setup_add_question")},d.$54=function(a,c){c=c?c.map(function(a){return a.value}):[];b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.concat({answers:c,answerType:a,forceEditMode:!0,message:"",prefillType:"NONE",replyType:"TEXT"}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.logIntakeFormEvent("services_organic_intake_form_setup_add_question")},d.$55=function(a){b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.filter(function(b,c){return c!==a}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage}),d.logIntakeFormEvent("services_organic_intake_form_setup_remove_question")},d.$56=function(a,c){return b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages,thankYouMessage:c})},d.$62=function(a){var c,e=d.props.reengagementData.reengagementRules;return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages,reengagementRules:{mainRules:(c=a.mainRules)!=null?c:e.mainRules,andRules:(c=a.andRules)!=null?c:e.andRules,notRules:(c=a.notRules)!=null?c:e.notRules}})},d.$64=function(a,b){return d.$63(a,{message:b})},d.$65=function(a,b){return d.$63(a,{time:b})},d.$66=function(a,c){if(c===null){var e=d.props.reengagementData.reengagementMessages.slice(),f=e[a];e[a]={triggerTimeMin:f.triggerTimeMin,messageText:f.messageText,ctas:f.ctas,attachment:null,attachmentType:null};return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:e,reengagementRules:d.props.reengagementData.reengagementRules})}return d.$63(a,{media:c})},d.$67=function(a,b){return d.$63(a,{mediaType:b})},d.$68=function(a,b){return d.$63(a,{ctas:b})},d.$69=function(){return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages.concat({triggerTimeMin:0,messageText:"",ctas:[],attachment:null,attachmentType:null}),reengagementRules:d.props.reengagementData.reengagementRules})},d.$70=function(a){return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages.filter(function(b,c){return c!==a}),reengagementRules:d.props.reengagementData.reengagementRules})},d.$71=function(){b("PagesMarketingAutomationActions").updateShouldShowAdvancedOptions(!d.props.shouldShowAdvancedOptions)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("PagesManagerAction").setHeaderHeight(0),window.clearTimeout(this.$1)};d.$6=function(){__p&&__p();var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();if(b("PagesMarketingAutomationStore").getAutomationType()!=="away_message"||a==null||c==null)return!0;c=b("PagesTimeRangeEditorUtilities").getIsRequestTimeInAwayTimeRange(a,c);if(c){this.setState({showAwayTimeRangeDialog:!0});return!1}b("PageSetAwayConfigMutation").commit(a,this.props.pageID,JSON.stringify(b("PagesMarketingAutomationStore").getAwayTimeRanges()),{onSuccess:function(){b("PagesMarketingAutomationActions").updateAwayState(!1)},onFailure:function(){}});return!0};d.$8=function(){b("PagesMarketingAutomationStore").getIsCurrentMenuSetByAPI()&&this.props.icebreakers&&this.props.icebreakers.some(function(a){return a.should_show_in_menu})?this.setState({showCustomQuestionsDialog:!0}):this.$15()};d.$17=function(a){this.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1}),b("SavedResponsesUtils").fetchSavedResponse(this.props.pageID,function(a){b("PagesMarketingAutomationActions").setSavedReplyResponses(a)}),b("PagesMarketingAutomationActions").updateAutomationType("saved_reply"),b("PagesMarketingAutomationActions").updateSelectedSavedReply(a),b("PagesMarketingAutomationActions").storeState()};d.$10=function(){__p&&__p();var a=this,c,d=this.props.initialSelectedSavedReply,e=this.props.selectedSavedReply,f=this.props.media&&this.props.media.id!=null?this.props.media.id.toString():null;c=d==null?void 0:(c=d.image)==null?void 0:c.id;if(d!=null){var g;b("PagesEditSavedResponseMutation").commit(d.id,((g=e==null?void 0:e.title)!=null?g:"").trim(),(g=e==null?void 0:e.message)!=null?g:"",f,function(){a.$17(e)},this.$3)}else{b("PagesCreateSavedResponseMutation").commit(this.props.pageID,((g=e==null?void 0:e.title)!=null?g:"").trim(),(g=e==null?void 0:e.message)!=null?g:"",f,null,function(b){if(e!=null){e.id=(b=b==null?void 0:(b=b.page_saved_response_create)==null?void 0:(b=b.new_saved_response)==null?void 0:b.id)!=null?b:""}a.$17(e)},this.$3)}b("PagesMessagingInboxActionLogger").logUpdateSavedReply((g=d==null?void 0:d.message)!=null?g:"",e==null?void 0:e.message,(g=d==null?void 0:d.title)!=null?g:"",e==null?void 0:e.title,c,f,null)};d.$19=function(a,c){c=c?a?"new":"update":"fail";new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_setup_creation").setConversionType("BUYER_INFORMATION").setEventSubtype(c).setPageID(this.props.pageID).log()};d.$11=function(a,c){__p&&__p();var d=this,e={};e.text=this.props.welcomeText.trim();e.trigger_wait_time=b("PagesMarketingAutomationUtils").getTriggerWaitTime(this.props.automationType);e.trigger_type=this.props.automationType;e.page_id=this.props.pageID;this.props.automationType==="automated_checkout"?e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getAutomatedCheckoutData(!1)):this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm&&(e.is_intake_form_enabled=!0,e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getOrganicIntakeFormData(!1)));this.props.reengagementData&&(e.reengagement_notif_data=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataInput(this.props.reengagementData));this.props.media&&(e.attachment=this.props.media);this.props.ctas&&(e.ctas=this.props.ctas);var f=b("PagesMarketingAutomationStore").getServicesReferrerData(),g=f.referrer;f=f.referrerSurface;e.referrer_ui_component=g;e.referrer_ui_surface=f;b("PagesMarketingAutomationCreateMutation").commit({data:e},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_create_automation)!=null?(c=c.automation)!=null?c.id:c:c:c;d.props.automationType==="automated_checkout"&&d.$19(!!c,!0);c!=null&&c!==""&&(b("PagesMarketingAutomationActions").setDefaultAutomation(!1),b("PagesMarketingAutomationActions").updateAutomationID(c));a()},onFailure:function(){d.props.automationType==="automated_checkout"&&d.$19(!0,!1),c()}})};d.$12=function(a,c){__p&&__p();var d=this,e={};e.id=this.props.automationID;e.text=this.props.welcomeText.trim();w(this.props.enabledPlatforms,this.props.automationType)&&(e.platforms=[],this.state.isMessengerChecked===!0&&e.platforms.push("MESSENGER"),this.state.isIGChecked===!0&&e.platforms.push("INSTAGRAM_DIRECT"));this.props.automationType==="automated_checkout"?e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getAutomatedCheckoutData(!1)):this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm&&(e.is_intake_form_enabled=!0,e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getOrganicIntakeFormData(!1)));this.props.reengagementData&&(e.reengagement_notif_data=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataInput(this.props.reengagementData));this.props.media?e.attachment=this.props.media:e.remove_attachment=!0;this.props.ctas&&(e.ctas=this.props.ctas);var f=b("PagesMarketingAutomationStore").getServicesReferrerData(),g=f.referrer;f=f.referrerSurface;e.referrer_ui_component=g;e.referrer_ui_surface=f;b("PagesMarketingAutomationUpdateMutation").commit({data:e},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_update_automation)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;d.props.automationType==="automated_checkout"&&d.$19(!1,!0);w(d.props.enabledPlatforms,d.props.automationType)&&(e.platforms.length===0&&b("PagesMarketingAutomationActions").updateIsEnabled(!1),b("PagesMarketingAutomationActions").updateEnabledPlatforms(e.platforms));c&&(d.props.automationType==="automated_checkout"?b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(c):d.props.automationType==="organic_intake_form"&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(c));a()},onFailure:function(){d.props.automationType==="automated_checkout"&&d.$19(!1,!1),c()}})};d.$7=function(a,c){if(this.props.icebreakers==null)return;var d=this.props.icebreakers.map(function(a){return{custom_question:a.custom_question.trim(),saved_response:a.saved_response,response_ctas:a.response_ctas,response_media_attachment:a.response_media_attachment,should_show_in_menu:(a=a.should_show_in_menu)!=null?a:!1}}).filter(function(a){return a.custom_question!==""});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(A(d));b("PagesMarketingAutomationActions").updateIcebreakers(d);d={icebreaker_question_answer_pairs:d};b("PageUpdateCustomIcebreakersMutation").commit({data:d},{onSuccess:a,onFailure:c})};d.$9=function(a,c){var d=b("PagesMarketingAutomationStore").getFollowUpMessageData();if(d==null)return;d={page_id:this.props.pageID,message_content:d.messageContent,schedule_in_seconds:d.triggerTimeSecs};C({input:d,onCompleted:function(b,d){d?c():a()}})};d.$21=function(a,c){b("PagesManagerAction").setHeaderHeight(c)};d.$25=function(){var a=this.state.isSaving?i._("Saving..."):i._("Save"),c=this.state.showComposerErrorsForPreview&&this.props.errors?i._("You must complete all required fields before previewing your message."):null;this.state.showPreviewSendErrors&&(c=i._("Please try previewing your message again."));var d=this.state.shouldShowErrors&&this.props.errors?this.props.errors.errorText:null;this.state.saveError&&(d=i._("Please try saving your message again."));return b("React").jsx(b("PagesManagerComposerTopBar.react"),{cancelDisabled:!this.props.hasComposerBeenEdited&&this.props.automationType==="automated_checkout",deleteButtonDisabled:this.state.isDeleting,headerContent:q(this.props.automationType,this.props.automationID),hidePreviewButton:this.props.automationType==="icebreaker"||this.props.automationType==="custom_questions"||this.props.automationType==="mbs_reengagement"||this.props.automationType==="saved_reply"||this.props.automationType==="appointment_reminder"||this.props.automationType==="appointment_follow_up",onCancel:this.$20,onDeleteClick:this.$26(),onPreviewClick:this.$22,onPrimaryClick:this.props.showQPCIcebreakersDisclaimer?this.$14:this.$4,previewButtonText:this.state.isSendingPreview?i._("Preview in Messenger..."):i._("Preview in Messenger"),previewError:c,previewSuccessText:this.state.showPreviewSuccessText?i._("A preview of your message has been sent. You can see it in Messenger."):null,primaryButtonText:a,primaryError:d,sendDisabled:!this.props.hasComposerBeenEdited||this.props.isSendDisabled,showCancelButton:this.props.automationType!=="saved_reply",showDeleteButton:this.props.automationType==="saved_reply"&&this.props.initialSelectedSavedReply!==null})};d.$26=function(){switch(this.props.automationType){case"saved_reply":return this.$18;default:return null}};d.$27=function(){return this.props.automationType==="away_message"||this.props.automationType==="instant_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="organic_intake_form"};d.$28=function(){return this.props.automationType==="away_message"||this.props.automationType==="instant_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="organic_intake_form"};d.$29=function(){return this.props.automationType==="mbs_reengagement"||this.props.automationType==="appointment_follow_up"};d.$30=function(){return this.props.automationType==="saved_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="organic_intake_form"};d.$31=function(){if(this.props.automationType==="away_message")return b("React").jsx(b("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react"),{pageID:this.props.pageID});else if(this.props.automationType==="instant_reply")return null;else if(this.props.automationType==="organic_intake_form"&&b("enumUtils").coerceFromKey(this.props.qpcConsumerFlow,b("ServicesQPCFlow"))===b("ServicesQPCFlow").ICEBREAKERS){var a;return(a=b("React")).jsxs("div",{className:"_452x _89o0",children:[a.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x _3-98",size:"body1",children:y(this.props.automationType)}),a.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Frequently Asked Questions")}),a.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:i._("When questions for potential customers is turned on a frequently asked question will be added. When the question below is selected your questions for potential customers will begin in Messenger.")}),a.jsx("div",{className:"_3-8x _2pi4 _2pi9 _8ej0",children:a.jsxs("div",{className:"_2pit _8eix",children:['"',i._("I'm a new customer. How can I find out more about your business?"),'"']})})]})}return b("React").jsx("div",{className:"_452x _89o0 _3-8-",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:y(this.props.automationType)})})};d.$32=function(){var a=this,c,d=function(c){b("PagesMarketingAutomationActions").setComposerHasBeenEdited(),a.setState({isMessengerChecked:c})},e=function(c){b("PagesMarketingAutomationActions").setComposerHasBeenEdited(),a.setState({isIGChecked:c})};return(c=b("React")).jsxs("div",{className:"_8o9f",children:[c.jsx("div",{className:"_8o9e",children:c.jsx(b("FDSCheckboxInput.react"),{label:i._("Messenger"),onChange:d,value:this.state.isMessengerChecked})}),c.jsx("div",{className:"_8o9e",children:c.jsx(b("FDSCheckboxInput.react"),{label:i._("Instagram"),onChange:e,value:this.state.isIGChecked})})]})};d.$38=function(){if(this.state.showPlacementUnsetDialog)return"PLATFORMS";else if(this.state.showAwayTimeRangeDialog)return"AWAY_TIME";else if(this.state.showCustomQuestionsDialog)return"CUSTOM_QUESTIONS";return null};d.$37=function(){b("PagesMarketingAutomationStore").getIsDefaultAutomation()?this.$11(this.$2,this.$3):this.$12(this.$2,this.$3),b("PagesManagerInboxLogger").logAutomatedResponsesDisabled(this.props.automationType),this.setState({showPlacementUnsetDialog:!1,isSaving:!1})};d.$50=function(a){b("PagesMarketingAutomationActions").updateQPCPromptQuestion({promptQuestionMessage:a.promptQuestionMessage,promptQuestionStartAnswer:a.promptQuestionStartAnswer,promptQuestionStopAnswer:a.promptQuestionStopAnswer})};d.$13=function(a,c,d,e,f,g){!e&&d==="organic_intake_form"&&this.logIntakeFormEvent("services_organic_intake_form_setup_save_questionnaire"),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("save_click").setActionTag(c).addActionPayload("hasNoErrors",f).addActionPayload("errors",g).addActionPayload("automationType",d).setSessionKey(a).markEnd().log(),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("restart_funnel_after_save").setActionTag(c).setSessionKey(a).addActionPayload("automationType",d).markStart().log(),b("PagesManagerInboxLogger").logAutomatedResponsesSaveClicked(d,!f)};d.$57=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireDisqualificationMessage(c)};d.$58=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage(c)};d.$59=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage(c)};d.$60=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage(c)};d.$61=function(a){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL(a)};d.logIntakeFormEvent=function(a){var c=b("PagesMarketingAutomationStore").getServicesReferrerData(),d=c.referrer;c=c.referrerSurface;b("ServicesEventsLogger").log(this.props.pageID,a,{referrerUIComponent:d,referrerUISurface:c})};d.$63=function(a,c){var d=this.props.reengagementData.reengagementMessages.slice(),e=d[a];d[a]={triggerTimeMin:c.time!=null?c.time/60:e.triggerTimeMin,messageText:(a=c.message)!=null?a:e.messageText,ctas:(a=c.ctas)!=null?a:e.ctas,attachment:(a=c.media)!=null?a:e.attachment,attachmentType:(a=c.mediaType)!=null?a:e.attachmentType};return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d,reengagementRules:this.props.reengagementData.reengagementRules})};d.render=function(){__p&&__p();var a=this.props.automationType==="custom_questions",c=null;switch(this.props.automationType){case"organic_intake_form":c=b("React").jsx(M,{automationID:this.props.automationID,errors:this.state.shouldShowErrors?this.props.errors:null,isQPCPromptQuestionEnabled:this.props.isQPCPromptQuestionEnabled,isWelcomeTextInitialized:this.props.isWelcomeTextIntialized,oldOnAddQuestion:this.$53,oldOnQuestionMessageChange:this.$46,onAddQuestion:this.$54,onClickQPCAdvancedOptionsLink:this.$71,onIntroMessageChange:this.$45,onPromptQuestionChange:this.$50,onQuestionMessageChange:this.$48,onQuestionnairePrivacyPolicyURLChange:this.$61,onQuestionnaireReminderMessageChange:this.$60,onQuestionnaireStopQuestionsMessageChange:this.$58,onRemoveQuestion:this.$55,onThankYouMessageChange:this.$56,onToggleQPCPromptQuestion:this.$49,organicIntakeFormMessages:this.props.organicIntakeFormMessages,pageID:this.props.pageID,qpcPromptQuestion:this.props.qpcPromptQuestion,questionnairePrivacyPolicyURL:this.props.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.props.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.props.questionnaireStopQuestionsMessage,shouldHideAttachment:this.$27(),shouldHideCTA:this.$28(),shouldShowAdvancedOptions:this.props.shouldShowAdvancedOptions});break;case"automated_checkout":c=b("React").jsx(I,{automatedCheckoutMessages:this.props.automatedCheckoutMessages,automationID:this.props.automationID,errors:this.state.shouldShowErrors?this.props.errors:null,isWelcomeTextInitialized:this.props.isWelcomeTextIntialized,onAddQuestion:this.$42,onIntroMessageChange:this.$40,onQuestionMessageChange:this.$41,onQuestionnaireDisqualificationMessageChange:this.$57,onQuestionnairePrivacyPolicyURLChange:this.$61,onQuestionnaireReminderMessageChange:this.$60,onQuestionnaireStopQuestionsMessageChange:this.$58,onQuestionnaireSummaryMessageChange:this.$59,onRemoveQuestion:this.$43,onThankYouMessageChange:this.$44,pageID:this.props.pageID,questionnaireDisqualificationMessage:this.props.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.props.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.props.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.props.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.props.questionnaireSummaryMessage,shouldHideAttachment:this.$27(),shouldHideCTA:this.$28(),shouldShowAdvancedOptions:this.props.shouldShowAdvancedOptions});break;case"icebreaker":c=b("React").jsx(b("IcebreakerFreeTextEditor.react"),{icebreakers:this.props.icebreakers||[],isInboxCombinedCustomQuestionTest:!1,pageID:this.props.pageID});break;case"custom_questions":c=b("React").jsx(b("IcebreakerFreeTextEditor.react"),{icebreakers:this.props.icebreakers||[],isInboxCombinedCustomQuestionTest:!0,pageID:this.props.pageID});break;case"mbs_reengagement":c=b("React").jsx(G,{automationID:this.props.automationID,data:this.props.reengagementData,onAddMessage:this.$69,onIndexedCTAChange:this.$68,onIndexedMediaChange:this.$66,onIndexedMediaTypeChange:this.$67,onIndexedTimeChange:this.$65,onMessageChange:this.$64,onRemoveMessage:this.$70,onRulesChange:this.$62,pageID:this.props.pageID});break;case"appointment_follow_up":c=b("React").jsx(b("AppointmentFollowUpMessageEditor.react"),{followUpMessageData:this.props.followUpMessageData,pageID:this.props.pageID});break;case"saved_reply":c=b("React").jsx(O,{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.showComposerErrorsForPreview?null:this.props.errors,isWelcomeTextIntialized:this.props.isWelcomeTextIntialized,media:this.props.media,onMessageChange:this.$52,onShortcutChange:this.$51,pageID:this.props.pageID,selectedSavedReply:this.props.selectedSavedReply});break;default:c=b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.showComposerErrorsForPreview?this.props.errors:null,hideAttachmentSection:this.$27(),hideCTASection:this.$28(),isWelcomeTextIntialized:this.props.isWelcomeTextIntialized,media:this.props.media,onMessageChange:this.$39,pageID:this.props.pageID,showPersonalization:!0,showTimeSection:this.$29(),welcomeText:this.props.welcomeText}),header:i._("Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")})}var d=this.$29()||this.$30()?null:b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:this.$31(),header:i._("Timing"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as7",children:b("React").jsx(b("Image.react"),{src:g("583805")})}),subtitle:x(this.props.automationType,this.props.pageName)}),e=this.props.automationType==="automated_checkout"?b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx("div",{className:"_89o0 _3-8-",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:i._("You can edit the questions and their order.")})}),header:i._("Overview"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as7",children:b("React").jsx(b("Image.react"),{src:g("650922")})}),subtitle:i._("Send a sequence of messages to gather buyer information when customers want to make a purchase.")}):null,f=w(this.props.enabledPlatforms,this.props.automationType)?b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:this.$32(),header:i._("Platform"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9d",children:b("React").jsx(b("Image.react"),{src:g("532776")})}),subtitle:u(this.props.automationType,this.props.pageName)}):null,h=this.props.welcomeText;if(this.props.automationType==="automated_checkout")h=this.props.automatedCheckoutMessages.introMessage;else if(this.props.automationType==="appointment_follow_up"){var j=b("PagesMarketingAutomationStore").getFollowUpMessageData();h=j?j.messageContent:h}j=null;this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?j=this.props.organicIntakeFormMessages:this.props.automationType==="automated_checkout"&&(j=this.props.automatedCheckoutMessages);return b("React").jsxs("div",{className:"_6arp",children:[b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$21,children:this.$25()}),this.state.showQPCDisclaimerDialog?b("React").jsx(N,{automationType:this.props.automationType,onCancel:this.$5,onConfirm:this.$4}):null,b("React").jsxs("div",{className:"_6arq"+(a?"":" _8k88"),style:{height:this.props.height},children:[b("React").jsxs("div",{className:(a?"":"_6as1")+(a?" _8k87":""),children:[e,f,d,c]}),b("React").jsx("div",{className:(a?"":"_2f4z")+(a?" _8k86":""),children:this.props.automationType==="mbs_reengagement"?b("React").jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementData.reengagementMessages}):this.props.automationType==="custom_questions"?b("React").jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(e=this.props.demoIcebreakers)!=null?e:[],menuItems:this.props.icebreakers&&this.props.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:p(this.props.automationType,this.props.pageName),ghostTextLocation:B(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,qpcPromptQuestion:this.props.isQPCPromptQuestionEnabled?this.props.qpcPromptQuestion:null,questionnaireMessages:j,text:h})}),w(this.props.enabledPlatforms,this.props.automationType)?b("React").jsx(E,{isShown:this.state.showPlacementUnsetDialog||this.state.showAwayTimeRangeDialog||this.state.showCustomQuestionsDialog,modalPurpose:this.$38(),onCancelClick:this.$35,onConfirmClick:this.$36}):null,b("React").jsx(D,{isShown:this.state.showAwayTimeRangeDialog,onCancelClick:this.$33,onConfirmClick:this.$34}),b("React").jsx(F,{isShown:this.state.showCustomQuestionsDialog,onCancelClick:this.$16,onConfirmClick:this.$15})]})]})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("PagesMarketingAutomationEnableDisplay.react",["cx","fbt","FDSText.react","PagesMarketingAutomationContentUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesMarketingAutomationContentUtils").getPlatformStatus,j=b("PagesMarketingAutomationContentUtils").getShouldShowIGDirectAutomatedResponse;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.isEnabled===!0?h._("On"):h._("Off"),c=j(this.props.enabledPlatforms,this.props.automationType),d=!1;this.props.enabledPlatforms!=null&&(this.props.enabledPlatforms.length!==0&&(d=!0));return b("React").jsxs("div",{className:(!c||d===!1?"_452x":"")+(c&&d===!0?" _8prl":""),children:[b("React").jsx("span",{className:"_2qy-"+(this.props.isEnabled?"":" _2qy_")+(this.props.isEnabled?" _2qz0":"")}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"header2",children:a})]})};d.$2=function(){__p&&__p();if(this.props.enabledPlatforms!=null){if(this.props.enabledPlatforms.length===0)return null;var a=this.props.enabledPlatforms,c=i(a,"MESSENGER");a=i(a,"INSTAGRAM_DIRECT");var d=h._("Sent on Instagram and Messenger");a===!0&&c===!1?d=h._("Sent only on Instagram"):a===!1&&c===!0&&(d=h._("Sent only in Messenger"));return b("React").jsx("div",{children:b("React").jsx("div",{className:"_8khs",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body",children:d})})})}return null};d.render=function(){return b("React").jsxs("div",{children:[this.$1(),j(this.props.enabledPlatforms,this.props.automationType)?this.$2():null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementMessages.react",["ix","cx","fbt","Image.react","PagesManagerComposerSectionCard.react","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationReengagementRules.react","PagesMarketingAutomationUtils","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesMarketingAutomationUtils").getMaxReengagementMessagesNumber;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.data.reengagementRules,e=this.props.data.reengagementMessages;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx("div",{className:"_6_oc",children:c.jsx(b("PagesManagerComposerSectionCard.react"),{body:c.jsx(b("PagesMarketingAutomationReengagementRules.react"),{andRules:d.andRules,mainRules:d.mainRules,notRules:d.notRules,onRulesChange:this.props.onRulesChange}),header:i._("Rule"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _6as7",children:c.jsx(b("Image.react"),{src:g("585852")})}),subtitle:i._("Customize the conditions for sending your message.")},"reengagementRules")}),c.jsxs("div",{className:"_6_oc",children:[e&&e.length>0?e.map(function(c,d){return b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:c.attachmentType,automationID:a.props.automationID,ctas:c.ctas,errors:null,hideAttachmentSection:!1,hideCTASection:!1,index:d,isWelcomeTextIntialized:!1,media:c.attachment,onIndexedCTAChange:a.props.onIndexedCTAChange,onIndexedMediaChange:a.props.onIndexedMediaChange,onIndexedMediaTypeChange:a.props.onIndexedMediaTypeChange,onIndexedTimeChange:a.props.onIndexedTimeChange,onMessageChange:a.props.onMessageChange,pageID:a.props.pageID,showCTATypes:!0,showPersonalization:!0,showTimeSection:!0,time:c.triggerTimeMin*60,welcomeText:(c=c.messageText)!=null?c:""}),header:i._("Message"),index:d,isCollapsible:!1,isRemoveable:e.length>1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),onRemoveMessage:a.props.onRemoveMessage,subtitle:i._("Customize the message you send.")},"reengagementMessage"+d.toString())}):null,e.length<j()&&b("React").jsx(b("ShimButton.react"),{className:"_888j _8j0x _3-8y",onClick:this.props.onAddMessage,children:b("React").jsx("span",{children:i._("+ Add message")})})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementRuleCondition.react",["ix","cx","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FlexLayout.react","Image.react","PagesMarketingAutomationContentUtils","React","XUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesMarketingAutomationContentUtils").getContentForReengagement;function j(a){return a.options.length>0?b("React").jsx("div",{className:"_2pih",children:b("React").jsx(b("FDSDropdownSelector.react"),{buttonUse:"default",onChange:a.onChange,value:a.value,children:a.options.map(function(a,c){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:i(a)},a)})})}):null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onTypeChange&&c.props.onTypeChange(c.props.index,a)},c.$2=function(a){c.props.onConditionChange&&c.props.onConditionChange(c.props.index,a)},c.$3=function(a){a=a.target.value;c.props.onNameChange(c.props.index,(a=a)!=null?a:"")},c.$4=function(a){c.props.onRemoveRule(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8e8o",children:a.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-95",children:[a.jsx(j,{onChange:this.$1,options:this.props.typeOptions,value:this.props.rule.type}),a.jsx(j,{onChange:this.$2,options:this.props.conditionOptions,value:this.props.rule.condition}),a.jsx("div",{className:"_2pih",children:a.jsx(b("XUITextInput.react"),{onChange:this.$3,value:this.props.rule.name})}),this.props.isRemoveable?b("React").jsx(b("Image.react"),{className:"_8e8p",onClick:this.$4,src:g("478236")}):null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementRules.react",["cx","fbt","FDSText.react","Link.react","PagesMarketingAutomationReengagementRuleCondition.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a,b){var d=c.props.mainRules.slice();d[a]=b;return c.props.onRulesChange({mainRules:d})},c.$2=function(){return c.props.onRulesChange({mainRules:c.props.mainRules.concat("")})},c.$3=function(a){return c.props.onRulesChange({mainRules:c.props.mainRules.filter(function(b,c){return c!==a})})},c.$4=function(a,b){var d=c.props.notRules.slice();d[a]=b;return c.props.onRulesChange({notRules:d})},c.$5=function(){return c.props.onRulesChange({notRules:c.props.notRules.concat("")})},c.$6=function(a){return c.props.onRulesChange({notRules:c.props.notRules.filter(function(b,c){return c!==a})})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.mainRules,e=this.props.notRules;return(c=b("React")).jsxs("div",{className:"_6_oc _3-8-",children:[c.jsx("div",{className:"_6-b0 _3-94",children:c.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Flow Progress Events")})}),c.jsx("div",{className:"_6-b0 _3-95",children:c.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("Select events for each step in the flow where you want to notify users who drop off.")})}),d&&d.length>0?d.map(function(c,d){return b("React").jsx(b("PagesMarketingAutomationReengagementRuleCondition.react"),{conditionOptions:["IS"],index:d,isRemoveable:a.props.mainRules.length>1,onNameChange:a.$1,onRemoveRule:a.$3,rule:{type:"APP_EVENT",condition:"IS",name:c},typeOptions:["APP_EVENT"]},"mainRuleCondition"+d.toString())}):null,b("React").jsx(b("Link.react"),{className:"_6-aw",onClick:this.$2,children:h._("+ Add another progress event")}),b("React").jsx("div",{className:"_6-b0 _3-94 _3-8x",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Flow Complete Events")})}),b("React").jsx("div",{className:"_6-b0 _3-95",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("Select what event(s) designate the flow is finished (ex. user completes a form or is no longer eligible). We'll use this to determine when a user shouldn't be notified.")})}),e&&e.length>0?e.map(function(c,d){return b("React").jsx(b("PagesMarketingAutomationReengagementRuleCondition.react"),{conditionOptions:["IS_NOT"],index:d,isRemoveable:!0,onNameChange:a.$4,onRemoveRule:a.$6,rule:{type:"APP_EVENT",condition:"IS_NOT",name:c},typeOptions:["APP_EVENT"]},"notRuleCondition"+d.toString())}):null,e&&e.length>0?b("React").jsx(b("Link.react"),{className:"_6-aw",onClick:this.$5,children:h._("+ Add another complete event")}):b("React").jsx(b("Link.react"),{className:"_6-aw",onClick:this.$5,children:h._("+ Add complete event")})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationStartAutomatedSequenceMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationStartAutomatedSequenceMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationStartAutomatedSequenceMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a.actor_id,recipient_id:a.recipient_id,automated_checkout_data:a.automated_checkout_data}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorLandingScreenType","AsyncRequest","PageAutomationTriggerCategory","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationStartAutomatedSequenceMutation","PagesMarketingAutomationStore","RelayFBEnvironment","RelayModern","ServicesURIUtils","XPagesDirectionsController","XPagesMessengerPreviewController","emptyFunction","promiseDone","PagesMarketingAutomationUtilsAutomatedCheckoutQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationContentUtils").convertStringToButtonType,l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m=86400,n=10,o=3,p=3,q=10,r=g._("The URL is invalid");function a(a,c){var d={};d.page_id=c;d.trigger_type=a;d.text=b("PagesMarketingAutomationContentUtils").getDefaultContent(a).toString();d.trigger_wait_time=s(a);d.attachment=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(a);d.ctas=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(a,c);return d}function s(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"10";case"job_application":return"0";default:return"0"}}function c(a,c,d){var e,f=(e=b("PagesMarketingAutomationStore")).getAutomationType();e={media:e.getMedia(),ctas:e.getCTAs(),text:e.getWelcomeText().trim(),automation_type:f};e=b("XPagesMessengerPreviewController").getURIBuilder().setString("json",JSON.stringify(e)).setInt("page_id",a);f==="automated_checkout"?e.setString("automated_checkout_data",JSON.stringify(A(!0))):f==="organic_intake_form"&&e.setString("automated_checkout_data",JSON.stringify(B(!0)));new(b("AsyncRequest"))().setURI(e.getURI()).setMethod("POST").setHandler(c).setErrorHandler(d).send()}function d(a,c){b("PagesMarketingAutomationStartAutomatedSequenceMutation").commit({actor_id:a,recipient_id:c,automated_checkout_data:JSON.stringify(this.getAutomatedCheckoutData(!1))})}function f(a){__p&&__p();switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"feedback";case"job_application":return"job_application";case"away_message":case"instant_reply":case"organic_intake_form":return"greet_customers";case"become_supporter":return"supporter_only";case"smart_reply_contact":case"smart_reply_hours":case"smart_reply_location":case"icebreaker":case"custom_questions":return"frequently_asked_questions";case"automated_checkout":return"checkout_request";case"mbs_reengagement":return"reengagement";case"appointment_reminder":case"appointment_follow_up":return"appointment_messaging";default:return"common_responses"}}function t(){var a={};Object.keys(b("PageAutomationTriggerCategory")).forEach(function(b){a[b.toLowerCase()]=[]});return a}function u(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return!1;default:return!0}}function v(a){switch(a){case"icebreaker":case"custom_questions":return!b("PagesMarketingAutomationStore").getIsCurrentIcebreakersSetByAPI();default:return!0}}function w(a){var b=[];a.map(function(a){a=a.start-28800;a=a/m;a<1?b.push(g._("Thursday")):a<2?b.push(g._("Friday")):a<3?b.push(g._("Saturday")):a<4?b.push(g._("Sunday")):a<5?b.push(g._("Monday")):a<6?b.push(g._("Tuesday")):a<7&&b.push(g._("Wednesday"))});return b}function x(a,c){if(!c)return!1;switch(a){case"smart_reply_hours":return b("PagesMarketingAutomationStore").getHours().length>0||b("PagesMarketingAutomationStore").getIsAlwaysOpen()||b("PagesMarketingAutomationStore").getIsPermanentlyClosed();case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()===null&&b("PagesMarketingAutomationStore").getPhoneNumber()===null;case"smart_reply_location":c=b("PagesMarketingAutomationStore").getAddress();return c===null||c==="";default:return!1}}function y(a){a=b("XPagesDirectionsController").getURIBuilder().setInt("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){b("PagesMarketingAutomationActions").updateDirectionsURI(a.payload)}).setErrorHandler(b("emptyFunction")).send()}function z(a){__p&&__p();if(a==null)return;b("promiseDone")(l(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationUtilsAutomatedCheckoutQuery.graphql"),{automationID:a}),function(a){var c;c=(c=a)!=null?(c=c.node)!=null?c.automated_checkout_steps:c:c;if(c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""){c={introMessage:c.intro_message,questionMessages:F(c.question_messages),thankYouMessage:c.thank_you_message};b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages(c)}a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a)})}function A(a){var c,d=(c=b("PagesMarketingAutomationStore")).getAutomatedCheckoutMessages();return b("AdsMessengerPartialAutomatedCreationUtils").getPostData({text:d.introMessage.trim(),media_type:"text",media_content:null},d.questionMessages.map(function(a){var b=a.answers.filter(function(a){return!!a.trim()});return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:b.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}}),{text:d.thankYouMessage.trim(),media_type:"text",media_content:null},c.getState().questionnaireDisqualificationMessage,null,c.getState().questionnaireReminderMessage,b("AdsMessengerVisualEditorLandingScreenType").CHECKOUT_AUTOMATION,a,null,c.getState().questionnairePrivacyPolicyURL,!0,c.getState().questionnaireStopQuestionsMessage,null,c.getState().questionnaireSummaryMessage)}function B(a){var c,d=(c=b("PagesMarketingAutomationStore")).getOrganicIntakeFormMessages(),e=d.questionMessages.filter(function(a){return!!a.message.trim()});e=b("AdsMessengerPartialAutomatedCreationUtils").getPostData({text:d.introMessage.trim(),media_type:"text",media_content:null},e.map(function(a){var b=a.answers.filter(function(a){return!!a.trim()});return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:b.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}}),{text:d.thankYouMessage.trim(),media_type:"text",media_content:null},"",null,c.getState().questionnaireReminderMessage,b("AdsMessengerVisualEditorLandingScreenType").ORGANIC_INTAKE_FORM,a,null,c.getState().questionnairePrivacyPolicyURL,!0,c.getState().questionnaireStopQuestionsMessage);d=c.getState().qpcPromptQuestion;return babelHelpers["extends"]({},e,{prompt_question_enabled:c.getState().isQPCPromptQuestionEnabled,prompt_question_message:(a=d==null?void 0:d.promptQuestionMessage)!=null?a:"",prompt_question_start_answer:(e=d==null?void 0:d.promptQuestionStartAnswer)!=null?e:"",prompt_question_stop_answer:(c=d==null?void 0:d.promptQuestionStopAnswer)!=null?c:""})}function C(a){return a===""?null:b("ServicesURIUtils").isValidURI(a)?null:r}function D(a){var b=a.reengagementMessages.map(function(a){return{trigger_time_min:a.triggerTimeMin,message_text:a.messageText,ctas:a.ctas,attachment:a.attachment}});a=a.reengagementRules;return{reengagement_messages:b,reengagement_rules_values:{logical_or_rules:a.mainRules,logical_and_rules:a.andRules,logical_not_rules:a.notRules}}}function E(a){var b=a.reengagement_rules_values;a=a.reengagement_messages.map(function(a){var b=a.ctas&&a.ctas.map(function(a){return{content:a.content,url:a.url,type:k((a=a.type)!=null?a:"BUTTON")}});return{triggerTimeMin:a.trigger_time_min,messageText:a.message_text,ctas:(b=b)!=null?b:[],attachment:a.attachment,attachmentType:a.attachment?a.attachment.type:null}});return{reengagementMessages:a,reengagementRules:{mainRules:b.logical_or_rules,andRules:b.logical_and_rules,notRules:b.logical_not_rules}}}function F(a){return a.map(function(a){var b=babelHelpers["extends"]({},a);b.answers=a.answers.slice();b.prefillType!==null&&b.prefillType!=="NONE"?b.answerType=b.prefillType:b.replyType!==null&&b.replyType==="QUICK_REPLIES"?b.answerType=j.MULTIPLE_CHOICE:b.answerType=j.CUSTOM;return b})}function G(){return n}function H(){return o}function I(){return q}function J(){return p}e.exports={buildAutomatedMessagesAnswerType:F,createDefaultMarketingAutomationData:a,sendPreview:c,startAutomatedSequence:d,mapAutomationToCategory:f,createCategoriesToAutomationsMap:t,shouldShowAdminTextForSmartReply:u,convertHoursToDays:w,getTriggerWaitTime:s,shouldShowNotice:x,shouldShowEditButton:v,fetchDirectionsURI:y,fetchAndStoreAutomatedCheckoutData:z,getAutomatedCheckoutData:A,getOrganicIntakeFormData:B,getQuestionnairePrivacyPolicyURLError:C,getPagesMarketingAutomationReengagementDataInput:D,getPagesMarketingAutomationReengagementDataOutput:E,getMaxQuestionNumber:G,getMaxRecommendedQuestionNumber:H,getMaxAnswerOptionsNumber:I,getMaxReengagementMessagesNumber:J}}),null);
__d("PagesOrganicIntakeFormQuestionComposer.react",["cx","fbt","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","PagesMarketingAutomationUtils","PagesOrganicIntakeFormQuestionItem.react","React","ShimButton.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesMarketingAutomationUtils").getMaxQuestionNumber,j=b("PagesMarketingAutomationUtils").getMaxRecommendedQuestionNumber;function a(a){return b("React").jsxs("div",{className:"_6_oc",children:[a.messages.length>j()&&b("React").jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8o",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:h._("Ask for the Most Important Info")}),b("React").jsx(b("FDSGuidanceCardContent.react"),{children:b("React").jsx(b("FDSGuidanceCardContentText.react"),{children:h._("It's best to ask around 3 questions to keep your customers engaged in the conversation.")})})]}),a.messages.map(function(c,d){return b("React").jsx(b("PagesOrganicIntakeFormQuestionItem.react"),{errors:a.errors,forceEditMode:!0,index:d,isDeleteDisabled:a.messages.length<=1,message:c,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion},d)}),a.messages.length<i()&&b("React").jsx(b("ShimButton.react"),{className:"_888j _3-8y",onClick:a.onAddQuestion,children:b("React").jsx("span",{children:h._("+ Add Question")})})]})}e.exports=a}),null);
__d("PagesOrganicIntakeFormQuestionItem.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSLink.react","FDSText.react","Image.react","PagesMarketingAutomationUtils","React","ServicesGetQuoteCTASetupUtils","ShimButton.react","SUIBusinessTheme","SUITextArea.react","XUIButton.react","XUITextInput.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationUtils").getMaxAnswerOptionsNumber,l=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName,m=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditMode:!1},c.$1=function(a){var b=babelHelpers["extends"]({},c.props.message);b.message=a;c.props.onQuestionMessageChange(c.props.index,b)},c.$2=function(){c.props.onRemoveQuestion(c.props.index)},c.$3=function(){c.setState({isEditMode:!0})},c.$6=function(){var a=babelHelpers["extends"]({},c.props.message);a.answers=a.answers.concat("");c.props.onQuestionMessageChange(c.props.index,a)},c.$7=function(a){var b=babelHelpers["extends"]({},c.props.message);b.answerType=a;a===j.MULTIPLE_CHOICE&&b.answers.length===0&&(b.answers=b.answers.concat(""));c.props.onQuestionMessageChange(c.props.index,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$4=function(a,b){var c=babelHelpers["extends"]({},this.props.message);c.answers[b]=a;this.props.onQuestionMessageChange(this.props.index,c)};d.$5=function(a){var b=babelHelpers["extends"]({},this.props.message);b.answers.splice(a,1);this.props.onQuestionMessageChange(this.props.index,b)};d.render=function(){__p&&__p();var a=this;if(this.state.isEditMode||this.props.forceEditMode===!0){var c=["PHONE","EMAIL","JOB_TITLE","COMPANY_NAME","ZIP_CODE","CITY","STATE","COUNTRY"];c=c.map(function(a,c){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:l(a)},c)});var d=i._("Choose an answer type"),e=i._("User Information"),f=null;this.props.errors&&(f=this.props.errors.questionnaireErrors.find(function(b){return b&&b.questionNumber===a.props.index}));return b("React").jsxs("div",{className:"_887r _3-8y _2pi0",children:[b("React").jsxs("div",{children:[b("React").jsxs(b("FDSText.react"),{display:"inline",size:"body2",weight:"bold",children:[i._("Question #"),(this.props.index+1).toString()]}),!this.props.isDeleteDisabled&&b("React").jsx("div",{className:"_8f77",children:b("React").jsx(b("FDSLink.react"),{onClick:this.$2,children:i._("Remove")})})]}),b("React").jsx(b("SUITextArea.react"),{disabled:!1,errorMessage:(f=f)==null?void 0:f.error,margin:"_3-8n",maxLength:m,onChange:this.$1,placeholder:i._("Enter the text for your question"),shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.message.message}),b("React").jsx("div",{className:"_6-b0",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Question Type")})}),b("React").jsx("div",{className:"_3-8n",children:b("React").jsxs(b("FDSDropdownSelector.react"),{onChange:this.$7,placeholder:d,value:this.props.message.answerType,children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:j.CUSTOM,children:l(j.CUSTOM)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:j.MULTIPLE_CHOICE,children:l(j.MULTIPLE_CHOICE)}),b("React").jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:e,children:c})]})}),this.props.message.answerType===j.MULTIPLE_CHOICE&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"_3-95 _3-8z",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Answer Text")})}),this.props.message.answers.map(function(c,d){var e;return(e=b("React")).jsxs("div",{className:"_8eel _3-95",children:[e.jsx(b("XUITextInput.react"),{className:"_8een",maxLength:50,onChange:function(b){return a.$4(b.target.value,d)},placeholder:i._("Enter an option"),value:c}),e.jsx(b("XUIButton.react"),{className:"_8i4h",disabled:a.props.message.answers.length<=1,image:e.jsx(b("Image.react"),{src:g("503835")}),label:"Delete",labelIsHidden:!0,onClick:function(){return a.$5(d)},size:"medium",use:"default"})]},d)}),this.props.message.answers.length<k()&&b("React").jsx(b("ShimButton.react"),{className:"_8eeo _2pi2 _2pis",onClick:this.$6,children:b("React").jsx("span",{children:i._("+ Add Option")})})]})]})}return b("React").jsxs("div",{className:"_8fjg _2ph_ _3-8y",children:[b("React").jsxs("div",{className:"_8fk3",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body2",weight:"bold",children:this.props.message.message}),this.props.message.answerType&&b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:l(this.props.message.answerType)}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:this.props.message.answers.join(", ")})]}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("484291")}),label:i._("Edit"),onClick:this.$3})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesQPCPromptQuestionItem.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","ClickableArea.react","FDSButton.react","FDSCard.react","FDSCardHeader.react","FDSSection.react","FDSText.react","FDSTextArea.react","FDSTextInput.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react","PagesMarketingAutomationStore","React","ServicesEventsLogger","ServicesGetQuoteCTASetupUtils","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:!0},c.$1=function(){var a=c.state.isCollapsed;c.setState({isCollapsed:!a})},c.$2=function(a){if(c.props.qpcPromptQuestion==null)return;a=babelHelpers["extends"]({},c.props.qpcPromptQuestion,{promptQuestionMessage:a});c.props.onPromptQuestionChange(a);c.logIntakeFormEvent("services_organic_intake_form_prompt_question_edit_message")},c.$3=function(a){if(c.props.qpcPromptQuestion==null)return;a=babelHelpers["extends"]({},c.props.qpcPromptQuestion,{promptQuestionStartAnswer:a});c.props.onPromptQuestionChange(a);c.logIntakeFormEvent("services_organic_intake_form_prompt_question_edit_start_answer")},c.$4=function(a){if(c.props.qpcPromptQuestion==null)return;a=babelHelpers["extends"]({},c.props.qpcPromptQuestion,{promptQuestionStopAnswer:a});c.props.onPromptQuestionChange(a);c.logIntakeFormEvent("services_organic_intake_form_prompt_question_edit_stop_answer")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.logIntakeFormEvent=function(a){var c=b("PagesMarketingAutomationStore").getServicesReferrerData(),d=c.referrer;c=c.referrerSurface;b("ServicesEventsLogger").log(this.props.pageID,a,{referrerUIComponent:d,referrerUISurface:c})};d.buildPromptQuestionItem=function(a){return{questionMessage:a.promptQuestionMessage,answerType:k.MULTIPLE_CHOICE,answerValidationEnabled:!1,answers:[{fieldID:"",value:a==null?void 0:a.promptQuestionStartAnswer,nextStep:j.NEXT_QUESTION,mediaContent:null},{fieldID:"",value:a==null?void 0:a.promptQuestionStopAnswer,nextStep:j.DISQUALIFY_MESSAGE,mediaContent:null}],optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}};d.render=function(){var a=this.props.qpcPromptQuestion;if(a==null)return null;var c=b("React").jsxs("span",{className:"_8xlv",children:[b("React").jsx("span",{className:"_8xlw",children:b("React").jsx(b("Image.react"),{src:g("486350")})}),b("React").jsx(b("FDSText.react"),{margin:"_3-9a",size:"header3",children:l(k.MULTIPLE_CHOICE)})]}),d=i._("Text"),e=this.buildPromptQuestionItem(a);return b("React").jsx("div",{className:"_6_oc",children:b("React").jsx("div",{className:"_8xii _8xlx",children:b("React").jsx(b("ClickableArea.react"),{onClick:b("emptyFunction"),children:b("React").jsx("div",{children:b("React").jsx(b("FDSCard.react"),{header:b("React").jsx(b("FDSCardHeader.react"),{button:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:this.state.isCollapsed?g("478817"):g("515078")}),label:"Edit",labelIsHidden:!0,margin:"_3-92",onClick:this.$1,size:"small",use:"flat"},"edit"),title:c}),children:this.state.isCollapsed?b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react"),{questionIndex:-1,questionItem:e}):b("React").jsxs(b("FDSSection.react"),{children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body2",children:d}),b("React").jsx(b("FDSTextArea.react"),{errorMessage:b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.promptQuestionMessage,!0),label:d,labelIsHidden:!0,maxLength:b("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,onChange:this.$2,placeholder:i._("Enter the text for your question"),rows:1,shouldAutoGrow:!0,value:a.promptQuestionMessage}),b("React").jsxs("div",{className:"_3-8z",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-95",size:"body2",children:i._("Options")}),b("React").jsx("div",{className:"_3-95",children:b("React").jsx(b("FDSTextInput.react"),{errorMessage:b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.promptQuestionStartAnswer,!0),label:i._("If a customer selects this option, they'll start receiving your questions."),maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,onChange:this.$3,value:a.promptQuestionStartAnswer})}),b("React").jsx("div",{children:b("React").jsx(b("FDSTextInput.react"),{errorMessage:b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.promptQuestionStopAnswer,!0),label:i._("If a customer selects this option, they can send you a message."),maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,onChange:this.$4,value:a.promptQuestionStopAnswer})})]})]})})})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesQPCQuestionItem.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","ClickableArea.react","FDSButton.react","FDSCard.react","FDSCardFooter.react","FDSCardHeader.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSSection.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","ServicesGetQuoteCTASetupUtils","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections,m=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={autoFocus:!1,isQuestionFocused:!1,isCollapsed:c.props.isInitiallyCollapsed,showMoreOptions:!0,visibleGoToOptions:[]},c.$1=function(){var a=c.state.isCollapsed;c.setState({isCollapsed:!a})},c.$2=function(a){var b=a===k.MULTIPLE_CHOICE,d=b?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}]:null;b=b?"text":null;a={fieldID:c.props.questionItem.fieldID,questionMessage:c.props.questionItem.questionMessage,answerType:a,answerValidationEnabled:!1,answers:d,optionalQuestionEnabled:!1,optionsFormat:b};c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$9=function(a){a=babelHelpers["extends"]({},c.props.questionItem,{questionMessage:a});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$4=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[b].value=a;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$3=function(a){__p&&__p();var b=Object.assign({},c.props.questionItem);if(!b.answers)return;b.answers=b.answers.filter(function(b,c){return c!==a});c.setState(function(b){var c=[].concat(b.visibleGoToOptions);c.splice(a,1);return babelHelpers["extends"]({},b,{visibleGoToOptions:c})});c.props.onQuestionItemChange(b,c.props.questionIndex)},c.$7=function(){if(!c.props.questionItem.answers)return;var a=c.props.questionItem.answers.concat({fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""});a=babelHelpers["extends"]({},c.props.questionItem,{answers:a});c.setState(function(a){var b=[].concat(a.visibleGoToOptions);b.push(!1);return babelHelpers["extends"]({},a,{autoFocus:!0,visibleGoToOptions:b})});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$8=function(){c.props.onRemoveQuestion(c.props.questionIndex)},c.$8=function(){c.$1(),c.props.onRemoveQuestion(c.props.questionIndex)},c.$10=function(){c.setState({isQuestionFocused:!0})},c.$11=function(){c.setState({isQuestionFocused:!1})},c.$6=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[a].nextStep=b;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$5=function(a){var b=c.state.visibleGoToOptions;b=b.slice();b[a]=!b[a];c.$6(a,b[a]?j.DISQUALIFY_MESSAGE:j.NEXT_QUESTION);c.setState({visibleGoToOptions:b})},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){if(b.visibleGoToOptions.length!==0)return babelHelpers["extends"]({},b);a=a.questionItem.answers?a.questionItem.answers.map(function(a){return a.nextStep!==j.NEXT_QUESTION}):[];return babelHelpers["extends"]({},b,{visibleGoToOptions:a})};var d=c.prototype;d.getQuestionTypeSelector=function(){var a=["PHONE","EMAIL","JOB_TITLE","COMPANY_NAME","ZIP_CODE","CITY","STATE","COUNTRY"];a=a.map(function(a,c){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{icon:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:a}),value:a,children:b("React").jsx("span",{className:"_3-9a",children:m(a)})},c)});var c=i._("Choose an answer type"),d=i._("User Information"),e=this.props.questionItem.answerType||!this.props.showError?null:i._("Choose an answer type");return b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Question Type")}),b("React").jsxs(b("FDSDropdownSelector.react"),{errorMessage:e,maxHeight:380,onChange:this.$2,placeholder:c,value:this.props.questionItem.answerType,children:[b("React").jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:i._("Custom Questions"),children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{icon:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:k.CUSTOM}),value:k.CUSTOM,children:b("React").jsx("span",{className:"_3-9a",children:m(k.CUSTOM)})}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{icon:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:k.MULTIPLE_CHOICE}),value:k.MULTIPLE_CHOICE,children:b("React").jsx("span",{className:"_3-9a",children:m(k.MULTIPLE_CHOICE)})})]}),b("React").jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:d,children:a})]})]})};d.getMultipleChoices=function(){var a=this;return!this.props.questionItem.answers?null:this.props.questionItem.answers.map(function(c,d){var e=a.props.questionItem.answers!=null&&a.props.questionItem.answers.length>1;return b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react"),{answer:c,autoFocus:a.state.autoFocus,index:d,isSkipToEnabled:!1,onAnswerRemove:a.$3,onAnswersChange:a.$4,onGoToOptionClick:a.$5,onNextStepChange:a.$6,shouldShowRemoveOption:e,showError:a.props.showError,visibleGoToOptions:a.state.visibleGoToOptions},d)})};d.getMultipleChoiceAddOption=function(){return this.props.questionItem.answers&&this.props.questionItem.answers.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber()?null:b("React").jsx(b("FDSButton.react"),{label:i._("+ Add Option"),onClick:this.$7})};d.getMultipleChoiceSection=function(){if(this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;else return b("React").jsxs("div",{className:"_3-8x",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Options")}),this.getMultipleChoices(),this.getMultipleChoiceAddOption()]})};d.getRemoveLink=function(){return b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("483825")}),label:i._("Remove"),onClick:this.$8})};d.render=function(){var a=this.props.questionItem.answerType?m(this.props.questionItem.answerType):"";a=b("React").jsxs("span",{className:"_8xlv",children:[b("React").jsx("span",{className:"_8xlw",children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:this.props.questionItem.answerType})}),b("React").jsx(b("FDSText.react"),{margin:"_3-9a",size:"header3",children:a})]});var c=l.QUESTIONS+"-"+this.props.questionIndex;return b("React").jsx("div",{className:"_8xii _8xlx",id:c,children:b("React").jsx(b("ClickableArea.react"),{onClick:this.props.onClick,children:b("React").jsx("div",{children:b("React").jsx(b("FDSCard.react"),{footer:!this.state.isCollapsed&&this.props.questionCount>1?b("React").jsx(b("FDSCardFooter.react"),{primaryButton:this.getRemoveLink()}):null,header:b("React").jsx(b("FDSCardHeader.react"),{button:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:this.state.isCollapsed?g("478817"):g("515078")}),label:"Edit",labelIsHidden:!0,margin:"_3-92",onClick:this.$1,size:"small",use:"flat"},"edit"),title:a}),children:this.state.isCollapsed?b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react"),{questionIndex:this.props.questionIndex,questionItem:this.props.questionItem}):b("React").jsxs(b("FDSSection.react"),{children:[this.getQuestionTypeSelector(),b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react"),{isEmojiTest:this.props.isEmojiTest,isFocused:this.props.isFocused,isQuestionFocused:this.state.isQuestionFocused,onBlur:this.$11,onFocus:this.$10,onQuestionTextChange:this.$9,onToolItemClicked:b("emptyFunction"),pageID:this.props.pageID,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,questionItemID:c,showError:this.props.showError}),this.getMultipleChoiceSection()]})})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesQPCQuestionTypeDropdown.react",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","FDSDropdownMenu.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","ServicesGetQuoteCTASetupUtils","asset","curry"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName;function k(a,c){return{type:"item",label:j(c),icon:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:c}),onClick:function(){return a(c)}}}function l(a,b){return{type:"item",label:j(b),onClick:function(){return a(b)}}}function m(a,b){a=b.label;var c=b.icon;b=b.items;return{type:"submenu",label:a,icon:c,items:b}}function a(a){var c=b("curry")(k,a.onClick),d=b("curry")(l,a.onClick);a=b("curry")(m,a.onClick);return b("React").jsx(b("FDSDropdownMenu.react"),{buttonIcon:b("React").jsx(b("Image.react"),{src:g("483768")}),items:[{type:"group",label:h._("Custom Questions"),items:[c(i.CUSTOM),c(i.MULTIPLE_CHOICE)]},{type:"group",label:h._("User Information"),items:[c("PHONE"),c("EMAIL"),c("JOB_TITLE"),c("COMPANY_NAME"),a({icon:b("React").jsx(b("Image.react"),{src:g("481941")}),label:h._("Address"),items:[d("ZIP_CODE"),d("CITY"),d("STATE"),d("COUNTRY")]})]}],label:h._("Add Question"),maxHeight:360})}e.exports=a}),null);
__d("PagesQPCQuestionComposer.react",["cx","fbt","AdsMessengerPartialAutomatedCreationTypes","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","PagesMarketingAutomationUtils","PagesQPCQuestionItem.react","PagesQPCQuestionTypeDropdown.react","React","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationUtils").getMaxQuestionNumber,l=b("PagesMarketingAutomationUtils").getMaxRecommendedQuestionNumber;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=a===j.MULTIPLE_CHOICE;b=b?[{fieldID:"",value:"",nextStep:i.NEXT_QUESTION,mediaContent:""}]:null;c.props.onAddQuestion(a,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.messages.map(function(a){return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:a.answers.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}});return b("React").jsxs("div",{className:"_6_oc",children:[this.props.messages.length>l()&&b("React").jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8o",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:h._("Ask for the Most Important Info")}),b("React").jsx(b("FDSGuidanceCardContent.react"),{children:b("React").jsx(b("FDSGuidanceCardContentText.react"),{children:h._("It's best to ask around 3 questions to keep your customers engaged in the conversation.")})})]}),c.map(function(d,e){var f;return b("React").jsx(b("PagesQPCQuestionItem.react"),{goToOptionsEnabled:!1,isEmojiTest:!1,isFocused:!1,isInitiallyCollapsed:!((f=a.props.messages[e])==null?void 0:f.forceEditMode),onClick:b("emptyFunction"),onQuestionItemChange:a.props.onQuestionMessageChange,onRemoveQuestion:a.props.onRemoveQuestion,pageID:a.props.pageID,questionCount:c==null?0:c.length,questionIndex:e,questionItem:d,showError:a.props.errors!=null&&!((f=a.props.messages[e])==null?void 0:f.forceEditMode),showRichFormat:!1},e)}),this.props.messages.length<k()&&b("React").jsx("div",{className:"_8xii",children:b("React").jsx(b("PagesQPCQuestionTypeDropdown.react"),{onClick:this.$1})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationStore",["fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxUtils","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","FluxReduceStore","PagesMarketingAutomationDispatcher","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;var h=b("PagesManagerInboxUtils").getErrorSpecsForComposer,i=b("PagesManagerInboxUtils").getErrorSpecsForReengagement,j=b("PagesMarketingAutomationActions").types,k=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers;c={welcomeText:"",automatedCheckoutMessages:{introMessage:"",questionMessages:[{answers:[],answerType:a.CUSTOM,message:"",prefillType:"NONE",replyType:"TEXT"}],thankYouMessage:""},organicIntakeFormMessages:{introMessage:"",questionMessages:[{answers:[],answerType:a.CUSTOM,message:"",prefillType:"NONE",replyType:"TEXT"}],thankYouMessage:""},isWelcomeTextIntialized:!1,attachmentType:null,media:{id:null,url:null},ctas:[],storedState:null,automatedSequenceDialogSeeAll:!1,recentAutomationThreadFBID:null,shouldShowAutomationToast:!1,automationID:null,automationType:null,isDefaultAutomation:!1,isEditMode:!1,isSendDisabled:!1,hasComposerBeenEdited:!1,phoneNumber:null,website:null,address:null,hours:[],isAlwaysOpen:!1,isPermanentlyClosed:!1,directionsURI:null,awayTimeRanges:null,awayTimeZone:null,isAway:null,automatedCheckoutStepListID:null,organicIntakeFormStepListID:null,icebreakers:[],demoIcebreakerIndices:[],isCurrentMenuSetByAPI:!1,isCurrentIcebreakersSetByAPI:!1,reengagementData:{reengagementMessages:{triggerTimeMin:0,messageText:"",ctas:null,attachment:null,attachmentType:null},reengagementRules:{mainRules:[],andRules:[],notRules:[]}},isEligibleForIntakeForm:!1,isIntakeFormInitialSetupExperience:!1,questionnaireDisqualificationMessage:"",questionnaireStopQuestionsMessage:"",questionnaireSummaryMessage:"",questionnaireReminderMessage:"",questionnairePrivacyPolicyURL:"",followUpMessageData:null,enabledPlatforms:[],qpcConsumerFlow:null,savedReplies:[],selectedSavedReply:null,servicesReferrerData:{servicesReferrer:null,servicesReferrerSurface:"inbox"},shouldShowAdvancedOptions:!1,automationEnabledStatuses:b("immutable").Map(),isQPCPromptQuestionEnabled:!1,qpcPromptQuestion:null};var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(c));d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new l()};d.reduce=function(a,c){__p&&__p();var d;switch(c.type){case j.STORE_STATE:d=a.set("storedState",{welcomeText:a.welcomeText,automatedCheckoutMessages:a.automatedCheckoutMessages,organicIntakeFormMessages:a.organicIntakeFormMessages,reengagementData:a.reengagementData,icebreakers:a.icebreakers,attachmentType:a.attachmentType,media:a.media,ctas:a.ctas,awayTimeRanges:a.awayTimeRanges,awayTimeZone:a.awayTimeZone,selectedSavedReply:a.selectedSavedReply,followUpMessageData:a.followUpMessageData,isQPCPromptQuestionEnabled:a.isQPCPromptQuestionEnabled,qpcPromptQuestion:a.qpcPromptQuestion});return d.set("hasComposerBeenEdited",!1);case j.REVERT_STATE:var e=a.storedState;if(e){d=a.set("welcomeText",e.welcomeText);d=d.set("automatedCheckoutMessages",e.automatedCheckoutMessages);d=d.set("organicIntakeFormMessages",e.organicIntakeFormMessages);d=d.set("attachmentType",e.attachmentType);d=d.set("media",e.media);d=d.set("ctas",e.ctas);d=d.set("hasComposerBeenEdited",!1);d=d.set("isWelcomeTextIntialized",!1);d=d.set("awayTimeRanges",e.awayTimeRanges);d=d.set("awayTimeZone",e.awayTimeZone);d=d.set("demoIcebreakerIndices",k(e.icebreakers));d=d.set("icebreakers",e.icebreakers);d=d.set("reengagementData",e.reengagementData);d=d.set("selectedSavedReply",e.selectedSavedReply);d=d.set("followUpMessageData",e.followUpMessageData);d=d.set("isQPCPromptQuestionEnabled",e.isQPCPromptQuestionEnabled);d=d.set("qpcPromptQuestion",e.qpcPromptQuestion);return d}return a;case j.SET_DEFAULT_AUTOMATION:return a.set("isDefaultAutomation",c.isDefaultAutomation);case j.UPDATE_AUTOMATION_TYPE:d=a;c.automationType==="saved_reply"&&(d=a.set("isEditMode",!0));return d.set("automationType",c.automationType).set("selectedSavedReply",null);case j.UPDATE_IS_WELCOME_TEXT_INITIALIZED:return a.set("isWelcomeTextIntialized",c.isWelcomeTextIntialized);case j.UPDATE_AUTOMATION_ID:return a.set("automationID",c.automationID);case j.UPDATE_WELCOME_TEXT:d=a.set("welcomeText",c.welcomeText);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_CHECKOUT_MESSAGES:d=a.set("automatedCheckoutMessages",c.automatedCheckoutMessages);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID:return a.set("automatedCheckoutStepListID",c.automatedCheckoutStepListID);case j.UPDATE_ENABLED_PLATFORMS:return a.set("enabledPlatforms",c.enabledPlatforms);case j.UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA:d=a.set("reengagementData",c.reengagementData);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_ORGANIC_INTAKE_FORM_MESSAGES:d=a.set("organicIntakeFormMessages",c.organicIntakeFormMessages);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID:return a.set("organicIntakeFormStepListID",c.organicIntakeFormStepListID);case j.UPDATE_ATTACHMENT_TYPE:d=a.set("attachmentType",c.attachmentType);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL:return a.set("automatedSequenceDialogSeeAll",c.automatedSequenceDialogSeeAll);case j.UPDATE_RECENT_AUTOMATION_THREAD_FBID:return a.set("recentAutomationThreadFBID",c.recentAutomationThreadFBID);case j.UPDATE_SHOULD_SHOW_AUTOMATION_TOAST:return a.set("shouldShowAutomationToast",c.shouldShowAutomationToast);case j.UPDATE_MEDIA:d=a.set("media",c.media);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_STATE:d=a.set("welcomeText",c.welcomeText);d=d.set("automatedCheckoutMessages",c.automatedCheckoutMessages);d=d.set("reengagementData",c.reengagementData);d=d.set("attachmentType",c.attachmentType);d=d.set("media",c.media);d=d.set("ctas",c.ctas);d=d.set("automationType",c.automationType);d=d.set("enabledPlatforms",c.enabledPlatforms);return d;case j.UPDATE_CTAS:d=a.set("ctas",c.ctas);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_ENABLED:return a.set("automationEnabledStatuses",a.automationEnabledStatuses.set(c.automationType?c.automationType:b("nullthrows")(a.automationType),c.isEnabled));case j.UPDATE_SEND_DISABLED:return a.set("isSendDisabled",c.isSendDisabled);case j.COMPOSER_HAS_BEEN_EDITED:return a.set("hasComposerBeenEdited",!0);case j.UPDATE_CONTENT_VIEW_MODE:return a.set("isEditMode",c.isEditMode);case j.UPDATE_ICEBREAKERS:d=a.set("icebreakers",c.icebreakers);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_DEMO_ICEBREAKER_INDICES:return a.set("demoIcebreakerIndices",c.demoIcebreakerIndices);case j.UPDATE_IS_CURRENT_MENU_SET_BY_API:return a.set("isCurrentMenuSetByAPI",c.isCurrentMenuSetByAPI);case j.UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API:return a.set("isCurrentIcebreakersSetByAPI",c.isCurrentIcebreakersSetByAPI);case j.STORE_CONTACT:d=a.set("phoneNumber",c.phoneNumber);d=d.set("website",c.website);return d;case j.STORE_ADDRESS:return a.set("address",c.address);case j.STORE_HOURS:d=a.set("hours",c.hours);d=d.set("isAlwaysOpen",c.isAlwaysOpen);d=d.set("isPermanentlyClosed",c.isPermanentlyClosed);return d;case j.STORE_DIRECTIONS_URI:return a.set("directionsURI",c.directionsURI);case j.STORE_AWAY_TIME_RANGES:d=a.set("hasComposerBeenEdited",!0);return d.set("awayTimeRanges",c.awayTimeRanges);case j.STORE_AWAY_TIME_ZONE:d=a.set("hasComposerBeenEdited",!0);return d.set("awayTimeZone",c.awayTimeZone);case j.STORE_IS_AWAY:return a.set("isAway",c.isAway);case j.STORE_INTAKE_FORM_INFO:return a.set("isEligibleForIntakeForm",c.isEligibleForIntakeForm).set("isQPCPromptQuestionEnabled",c.isQPCPromptQuestionEnabled).set("qpcConsumerFlow",c.qpcConsumerFlow).set("questionnaireStopQuestionsMessage",c.questionnaireStopQuestionsMessage).set("questionnaireReminderMessage",c.questionnaireReminderMessage).set("questionnairePrivacyPolicyURL",c.questionnairePrivacyPolicyURL).set("qpcPromptQuestion",c.qpcPromptQuestion);case j.USE_SETUP_INTAKE_FORM_EXPERIENCE:return a.set("hasComposerBeenEdited",!0).set("isIntakeFormInitialSetupExperience",!0).set("isWelcomeTextIntialized",!1);case j.DISABLE_SETUP_INTAKE_FORM_EXPERIENCE:return a.set("isIntakeFormInitialSetupExperience",!1);case j.UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:return a.set("questionnaireDisqualificationMessage",c.questionnaireDisqualificationMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:return a.set("questionnaireStopQuestionsMessage",c.questionnaireStopQuestionsMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE:return a.set("questionnaireSummaryMessage",c.questionnaireSummaryMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE:return a.set("questionnaireReminderMessage",c.questionnaireReminderMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL:return a.set("questionnairePrivacyPolicyURL",c.questionnairePrivacyPolicyURL).set("hasComposerBeenEdited",!0);case j.STORE_FOLLOW_UP_MESSAGE_INFO:return a.set("followUpMessageData",{messageContent:c.messageContent,triggerTimeSecs:c.triggerTimeSecs});case j.SET_SAVED_REPLIES:return a.set("savedReplies",c.savedReplies);case j.SELECTED_SAVED_REPLY:d=c.selectedSavedReply&&c.selectedSavedReply.image?{url:(e=c.selectedSavedReply)==null?void 0:(d=e.image)==null?void 0:d.url,id:parseInt((e=(e=c.selectedSavedReply)==null?void 0:(d=e.image)==null?void 0:d.id)!=null?e:"",10),type:"image",class_name:""}:null;e=c.selectedSavedReply&&c.selectedSavedReply.image?"image":null;return a.set("selectedSavedReply",c.selectedSavedReply).set("media",d).set("attachmentType",e).set("automationID",(e=(d=c.selectedSavedReply)==null?void 0:d.id)!=null?e:"0");case j.SET_SERVICES_REFERRER_DATA:return a.set("servicesReferrerData",c.servicesReferrerData);case j.UPDATE_SAVED_REPLY:d=Object.assign({},a.selectedSavedReply,{message:c.updateSavedReply.message!=null?c.updateSavedReply.message:(d=a.selectedSavedReply)==null?void 0:d.message,title:c.updateSavedReply.title!=null?c.updateSavedReply.title:(e=a.selectedSavedReply)==null?void 0:e.title});return a.set("selectedSavedReply",d);case j.UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS:return a.set("shouldShowAdvancedOptions",c.shouldShowAdvancedOptions);case j.UPDATE_AUTOMATION_ENABLED_STATUSES:return a.set("automationEnabledStatuses",c.automationEnabledStatuses);case j.TOGGLE_QPC_PROMPT_QUESTION:return a.set("isQPCPromptQuestionEnabled",!a.isQPCPromptQuestionEnabled).set("hasComposerBeenEdited",!0);case j.UPDATE_QPC_PROMPT_QUESTION:return a.set("qpcPromptQuestion",c.qpcPromptQuestion).set("hasComposerBeenEdited",!0);default:return a}};d.getWelcomeText=function(){return this.getState().welcomeText};d.getAutomatedCheckoutMessages=function(){return this.getState().automatedCheckoutMessages};d.getAutomatedCheckoutStepListID=function(){return this.getState().automatedCheckoutStepListID};d.getAutomatedSequenceDialogSeeAll=function(){return this.getState().automatedSequenceDialogSeeAll};d.getRecentAutomationThreadFBID=function(){return this.getState().recentAutomationThreadFBID};d.getShouldShowAutomationToast=function(){return this.getState().shouldShowAutomationToast};d.getOrganicIntakeFormMessages=function(){return this.getState().organicIntakeFormMessages};d.getOrganicIntakeFormStepListID=function(){return this.getState().organicIntakeFormStepListID};d.getReengagementData=function(){return this.getState().reengagementData};d.getAddress=function(){return this.getState().address};d.getIsCurrentlyAway=function(){return!!this.getState().isAway};d.getAwayTimeZone=function(){return this.getState().awayTimeZone};d.getAwayTimeRanges=function(){return this.getState().awayTimeRanges};d.getDirectionsURI=function(){return this.getState().directionsURI||""};d.getPhoneNumber=function(){return this.getState().phoneNumber};d.getWebsite=function(){return this.getState().website};d.getHours=function(){return this.getState().hours};d.getIcebreakers=function(){return this.getState().icebreakers||[]};d.getDemoIcebreakerIndices=function(){return this.getState().demoIcebreakerIndices||[]};d.getIsCurrentMenuSetByAPI=function(){return this.getState().isCurrentMenuSetByAPI||!1};d.getIsCurrentIcebreakersSetByAPI=function(){return this.getState().isCurrentIcebreakersSetByAPI||!1};d.getIsAlwaysOpen=function(){return this.getState().isAlwaysOpen};d.getIsPermanentlyClosed=function(){return this.getState().isPermanentlyClosed};d.getIsEditMode=function(){return this.getState().isEditMode};d.getIsDefaultAutomation=function(){return this.getState().isDefaultAutomation};d.getIsCurrentAutomationEnabled=function(){return this.getIsEnabledForAutomationType(this.getState().automationType)};d.getIsEnabledForAutomationType=function(a){return a==null?!1:this.getState().automationEnabledStatuses.get(a,!1)};d.getIsSendDisabled=function(){return this.getState().isSendDisabled};d.getHasComposerBeenEdited=function(){return this.getState().hasComposerBeenEdited};d.getAutomationID=function(){return this.getState().automationID};d.getAutomationType=function(){return this.getState().automationType};d.getAttachmentType=function(){return this.getState().attachmentType};d.getMedia=function(){return this.getState().media};d.getCTAs=function(){return this.getState().ctas};d.getIsWelcomeTextIntialized=function(){return this.getState().isWelcomeTextIntialized};d.getIsEligibleForIntakeForm=function(){return this.getState().isEligibleForIntakeForm};d.isIntakeFormInitialSetupExperience=function(){return this.getState().isIntakeFormInitialSetupExperience};d.getFollowUpMessageData=function(){return this.getState().followUpMessageData};d.getEnabledPlatforms=function(){return this.getState().enabledPlatforms};d.getSavedReplyResponses=function(){return this.getState().savedReplies};d.getselectedSavedReply=function(){return this.getState().selectedSavedReply};d.getServicesReferrerData=function(){return this.getState().servicesReferrerData};d.getInitialSelectedSavedReply=function(){var a;return(a=this.getState().storedState)==null?void 0:a.selectedSavedReply};d.getShouldShowAdvancedOptions=function(){return this.getState().shouldShowAdvancedOptions};d.hasInitializedEnabledStatuses=function(){return!this.getState().automationEnabledStatuses.isEmpty()};d.showQPCIcebreakersDisclaimer=function(){var a=this.getState().automationType;return this.getState().automationEnabledStatuses.get("organic_intake_form")&&a==="custom_questions"||this.getState().automationEnabledStatuses.get("custom_questions")&&a==="organic_intake_form"};d.getErrors=function(){var a=g._("Please enter a message.");a={mediaError:g._("Add an image or remove the attachment."),ctaErrors:[{buttonNumber:0,ctaLabelError:g._("Buttons must include text."),ctaURLError:g._("Buttons must include a website URL.")},{buttonNumber:0,ctaLabelError:null,ctaURLError:g._("Buttons must include a valid website URL.")}],welcomeTextError:g._("Automated responses must include text."),errorText:g._("Complete all required fields before saving your message."),questionnaireWelcomeTextError:a,questionnaireThanksTextError:a,questionnaireStopQuestionsError:a,questionnaireReminderError:a,questionnaireErrors:[{questionNumber:0,error:g._("Please add at least one question.")},{questionNumber:0,error:g._("Please add at least 2 answer options.")}]};return this.getState().automationType==="mbs_reengagement"&&this.getState().reengagementData?i(this.getState().reengagementData,a):h(this.getState().welcomeText,this.getState().ctas,this.getState().media,this.getState().attachmentType,this.getState().automationType==="organic_intake_form"&&this.getState().isEligibleForIntakeForm?this.getState().organicIntakeFormMessages:null,this.getState().questionnaireStopQuestionsMessage,this.getState().questionnaireReminderMessage,a)};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("PagesMarketingAutomationDispatcher"))}),null);
__d("MediaManagerFBCommsDetailView.react",["cx","AYMTClientSideLogging","FlexLayout.react","FlexLayoutItem.react","Layout.react","LayoutFillColumn.react","LineClamp.react","MediaManagerInboxContext.react","PageCommItemFolder","React","SUIButton.react","SUICard.react","SUIText.react","URI","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(this.props.item!=null&&this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")){this.context.logRowPreviewImpression(this.props.item.node.id,"MEDIA_MANAGER_FB_COMMS",this.props.mediaManagerInboxRowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS);var a=this.props.item.node;a.tipName!=null&&a.channelID!=null&&a.tipName!==""&&b("AYMTClientSideLogging").logImpression(a.id,a.channelID)}};d.$1=function(a,c){var d=this;return function(){d.context.logClickMessageCta(d.props.item.node.id,"MEDIA_MANAGER_FB_COMMS","FB_COMMS_AYMT",d.props.mediaManagerInboxRowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS);var e=d.props.item.node;e.tipName!=null&&e.channelID!=null&&e.tipName!==""&&b("AYMTClientSideLogging").logClick(e.id,e.channelID);c?(h||(h=b("URI"))).go(a):(h||(h=b("URI"))).goURIOnNewWindow(a)}};d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return b("React").jsx(b("Layout.react"),{style:{height:this.props.height},children:b("React").jsx(b("LayoutFillColumn.react"),{className:"_8ax6",children:b("React").jsx(b("SUICard.react"),{margin:"_3-8u _3-8z",children:b("React").jsxs(b("FlexLayout.react"),{className:"_8v_x",direction:"vertical",children:[b("React").jsxs(b("FlexLayout.react"),{className:"_8v_y",direction:"vertical",children:[b("React").jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:2,children:b("React").jsx(b("SUIText.react"),{color:"primary",margin:"_3-95",size:"body1",weight:"bold",children:a.title})}),b("React").jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:5,children:b("React").jsx(b("SUIText.react"),{color:"primary",size:"body2",children:a.body})})]}),b("React").jsx(b("FlexLayoutItem.react"),{align:"end",children:b("React").jsx(b("SUIButton.react"),{label:a.cta.label,onClick:this.$1(a.cta.action,a.cta.shouldLoadInSameWindow),use:"confirm"})})]})})})})};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("MediaManagerFBCommsDetailViewContainer.react",["FluxContainer","MediaManagerFBCommsDetailView.react","MediaManagerFBCommsStore","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing().messages:b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return b("React").jsx(b("MediaManagerFBCommsDetailView.react"),{height:this.props.height,item:c,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PageCustomLabelsTypeaheadViewItem.react",["cx","React","XUICard.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.entry;return b("React").jsxs("li",{className:"_7znk","data-testid":"labelsSection_search",onMouseDown:function(b){return a.props.onSelect(c,b)},children:[b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),b("React").jsx("span",{style:{flex:1},children:this.props.renderHighlight(c.getTitle())})]},c.getUniqueID())};return c}(b("React").PureComponent);a.propTypes={entry:b("prop-types").object,onSelect:b("prop-types").func,renderHighlight:b("prop-types").func};e.exports=a}),null);
__d("PageManagerInboxCustomLabelSearchSource",["AbstractSearchSource","PagesManagerInboxCustomLabelSearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getInstance=function(a){!g?g=new c(a):g.setAvailableLabels(a);return g};function c(b){var c;c=a.call(this)||this;c.setAvailableLabels(b);return c}var d=c.prototype;d.setAvailableLabels=function(a){this.$PageManagerInboxCustomLabelSearchSource1=a};d.searchImpl=function(a,c,d){__p&&__p();var e=[];d||({});if(a){var f=a.toLowerCase();this.$PageManagerInboxCustomLabelSearchSource1.forEach(function(a){a.name.toLowerCase().indexOf(f)!==-1&&e.push(a)})}var g=[];e.forEach(function(a){g.push(new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a))});c(g,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesInboxAddDetailsToInteractionText.react",["fbt","CommerceInvoiceAdminActions","ErrorBoundary.react","JSResource","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesShipOrderDialog.react","emptyFunction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("OrderDetailsDialog.react").__setRef("PagesInboxAddDetailsToInteractionText.react")),i={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isAppointmentDialogShown:!1,isOrderPlacedDialogShown:!1,isOrderShippedDialogShown:!1},d.$1=function(a){d.setState({isAppointmentDialogShown:a})},d.$2=function(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("failed_to_create_order due to "+a.toString()).log()},d.$3=function(){d.setState({isOrderPlacedDialogShown:!1})},d.$4=function(){d.setState({isOrderShippedDialogShown:!1})},d.$5=function(){__p&&__p();switch(d.props.interactionType){case"PAYMENT_RECEIVED":b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment","xmat",d.props.interactionID);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"APPOINTMENT_BOOKED":d.setState({isAppointmentDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"ORDER_PLACED":d.setState({isOrderPlacedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("cta_clicked").log();break;case"ORDER_SHIPPED":d.setState({isOrderShippedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;default:break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$6=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.render=function(){if(this.props.isPageMessage===null||this.props.isPageMessage===!1)return null;switch(this.props.interactionType){case"PAYMENT_RECEIVED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$5,children:g._("Send Details")})]});case"APPOINTMENT_BOOKED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$5,children:g._("Send Details")}),this.state.isAppointmentDialogShown&&b("React").jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:b("emptyFunction"),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,interactionID:this.props.interactionID,jobSearchSurface:"messenger",onToggle:this.$1,onUpdateCompleted:this.$6,pageID:this.props.pageID,referrerData:i,showMessengerButton:!1,shown:this.state.isAppointmentDialogShown,startTime:null,userID:this.props.userID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})]});case"ORDER_PLACED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message," ",this.props.shouldShowCTA!==null&&this.props.shouldShowCTA===!0&&b("React").jsx(b("Link.react"),{onClick:this.$5,children:g._("Send Details")}),this.state.isOrderPlacedDialogShown&&b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(h,{currency:this.props.defaultCurrency==null?"USD":this.props.defaultCurrency,onError:this.$2,onHide:this.$3,pageID:this.props.pageID,userID:this.props.userID})})})]});case"ORDER_SHIPPED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message,this.state.isOrderShippedDialogShown&&b("React").jsx(b("ServicesShipOrderDialog.react"),{interactionID:this.props.interactionID,onHide:this.$4,pageID:this.props.pageID,shown:this.state.isOrderShippedDialogShown,userID:this.props.userID})]});default:return b("React").jsx(b("React").Fragment,{children:this.props.message})}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageManagerInboxMessageContextRelayResults.react",["FluxContainer","PagesManagerInboxDetailLoading.react","PagesManagerInboxMessengerContainer.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PageManagerInboxMessageContextRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};c.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};var d=c.prototype;d.render=function(){var a=this,c;c=b("nullthrows")((c=this.props.inThreadSearchResults)!=null?(c=c.messenger_messages_search)!=null?(c=c.results)!=null?(c=c.edges)!=null?(c=c[this.state.contentSearchSelectedIndex])!=null?(c=c.node)!=null?c.message_id:c:c:c:c:c:c);return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxMessageContextRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:a.props.activeCommPlatform,config:a.props.config,height:a.props.height,inThreadSearchResults:a.props.inThreadSearchResults,messageContextResults:c,threadFBID:a.props.threadFBID,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{message_identifier:{message_id:c,thread_fbid:this.props.threadFBID}}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageManagerInboxInThreadContentSearchRelayResults.react",["PageManagerInboxMessageContextRelayResults.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PageManagerInboxMessageContextRelayResults.react"),{activeCommPlatform:a.props.activeCommPlatform,threadFBID:a.props.commSourceID,config:a.props.config,height:a.props.height,inThreadSearchResults:c,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{query_params_int:{query:this.props.searchTerm,thread_fbid:this.props.commSourceID}}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxActionContainer.react",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxContext.react","MediaManagerUtils","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemReadEditMutation","PageCommItemStatus","PageCommItemStatusEditMutation","PageCommItemStatusUtil","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxActionContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a,d.state.commItemFolder);var e=d.state.pageID;b("PagesManagerInboxMercuryUtil").shouldUseMercury()?d.$2(d.props.item,a):e!=null&&b("PageCommItemStatusEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:e,isViewing:d.state.viewingItem===d.props.item.id,oldValue:d.props.item.comm_status,reminderTime:c,status:a});d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$3=function(a){var c=d.state.pageID;if(c!=null){var e=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));a===b("PageCommItemActionType").MARK_READ?(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!0),b("PageCommItemReadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c})):a===b("PageCommItemActionType").MARK_UNREAD&&(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!1),b("PageCommItemUnreadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c}));e=d.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();e&&b("CreatorStudioInboxMessengerRankedUsersAction").refreshCreatorStudioInboxMessengerRankedUsersData(c)}d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.state.commItemFolder,a,d.props.mediaManagerInboxRowIndex)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(a,c){__p&&__p();c=b("PagesManagerInboxFilterStore").getActiveType();var d=null,e=[],f=!1,g=!1,h=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(h!=null){var i;d=(i=h.pageConfig)==null?void 0:i.pageID;f=Boolean((i=h.messengerConfig)==null?void 0:i.showDeleteConversationButton);g=Boolean((i=h.messengerConfig)==null?void 0:i.isBackgroundFolderEnabled)}else{h=b("PagesManagerInboxStore").getConfig();d=h.pageID;f=h.platformConfigs.MESSENGER;g=h.platformConfigs.MESSENGER.isBackgroundFolderEnabled}f=f&&c==="MESSENGER";i=c==="MESSENGER"?b("PagesManagerInboxFilterStore").getActiveOwner().id:null;if(d!=null){h=(a==null?void 0:a.commItemFolder)===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();h?e=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserMercuryThreadPayloadListForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()}):e=b("PagesManagerInboxListStore").getItemsForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()})}return{pageID:d,viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:f,commPlatform:c,viewingThreadItem:e,backgroundFolderEnabled:g}};var d=c.prototype;d.$2=function(a,c){__p&&__p();var d=a.thread_id,e=a.thread_fbid,f=null;this.state.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform));a.thread_id===void 0&&(d=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(this.props.item.target_id)),e=b("nullthrows")(this.props.item.target_id));var g=this.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();switch(c){case b("PageCommItemStatus").DONE:this.state.backgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(b("nullthrows")(this.state.pageID),d,a.comm_status):this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToDone(this.state.pageID,d,a.comm_status,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToInbox(this.state.pageID,d,e,a.comm_status,this.state.backgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsFollowUp(this.state.pageID,d,e,!0,a.comm_status,g);break;case b("PageCommItemStatus").SPAM:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsSpam(this.state.pageID,[d],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,a.comm_status,a.folder,a.is_archived,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsDeleted(this.state.pageID,d,f,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}this.state.pageID!=null&&b("PagesManagerMessagingThreadlistAction").updateThreadlist(this.state.pageID)};d.render=function(){var a=this.props,c=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);var d=b("PageCommItemStatusUtil").getFolderQECheck();if(d){return b("React").jsx(c,babelHelpers["extends"]({},a,{actionParam:b("PageCommItemStatusUtil").getActionParam(this.state.commPlatform,this.state.commItemFolder,this.state.shouldShowDeleteButton,this.state.viewingThreadItem[0]),onReadStatusChange:this.$3,onStatusChange:this.$1,userID:(d=this)!=null?(d=d.props)!=null?(d=d.item)!=null?(d=d.page_customer)!=null?(d=d.user)!=null?d.id:d:d:d:d:d}))}return b("React").jsx(c,babelHelpers["extends"]({},a,{actionParam:b("PageCommItemStatusUtil").getActionParam(this.state.commPlatform,this.state.commItemFolder,this.state.shouldShowDeleteButton,this.props.item),onReadStatusChange:this.$3,onStatusChange:this.$1,userID:(d=this)!=null?(d=d.props)!=null?(d=d.item)!=null?(d=d.page_customer)!=null?(d=d.user)!=null?d.id:d:d:d:d:d}))};return c}(b("React").PureComponent);d.contextType=a;f=b("FluxContainer").create(d,{withProps:!0});e.exports={PagesManagerInboxActionContainerInner:f,PagesManagerInboxActionContainer:c(f,{item:g!==void 0?g:g=b("PagesManagerInboxActionContainer_item.graphql")})}}),null);
__d("PageManagerInboxPageToPageHeaderView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","PageCommItemStatus","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxCometUtil","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","PageManagerInboxPageToPageHeaderView_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainerInner;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=116,k=57,l=16;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();b("PagesManagerAction").setHeaderHeight(a?j:k)};d.render=function(){var a,c=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();a={comm_platform:"MESSENGER",comm_title:(a=(a=this.props.page)==null?void 0:a.name)!=null?a:"",comm_type:"FB_MESSAGE",id:"",page_customer:{message_thread:{thread_associated_job_applications:{nodes:[]}},is_banned_by_page:!1,name:null,user:{id:this.props.page.id}},thumbnail:{uri:(a=(a=this.props.page)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri)!=null?a:""},comm_status:b("PageCommItemStatus").TODO,target_id:this.props.page.id,$refType:""};return b("React").jsxs(b("Layout.react"),{className:(c?"_8g7a":"")+(c?"":" _iyn"),children:[b("React").jsx(b("LayoutColumn.react"),{className:(c?"_8g7b":"")+(c?"":" _iyp"),children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"MESSENGER",commType:"FB_MESSAGE",imageSize:c?b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,imageURI:a.thumbnail.uri,showPlatformBadge:!1})})}),b("React").jsx(b("LayoutFillColumn.react"),{children:c?b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx("div",{className:"_8g7g",children:b("React").jsx("div",{className:"_8g7e",children:a.comm_title})})}):b("React").jsx("div",{className:"_72od",children:b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lineHeight:l,lines:1,children:a.comm_title})})})}),b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsx(i,{ChildActionClass:c?b("PagesManagerInboxCometDetailHeaderAction.react"):b("PagesManagerInboxDetailHeaderAction.react"),item:a,itemPage:this.props.page,leftActions:c?null:b("React").jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.page,pageID:this.props.mailboxID})})})]})};return c}(b("React").PureComponent);e.exports=a(c,{page:h!==void 0?h:h=b("PageManagerInboxPageToPageHeaderView_page.graphql")})}),null);
__d("PagesManagerInboxAdminAssigner.react",["ix","cx","fbt","CurrentUser","IGMessageDataMutateAction","IGMessageServerActions","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PageCommItemAssignUniqueOwnerMutation","PageCommItemClearOwnersMutation","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","React","RelayModern","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows","PagesManagerInboxAdminAssigner_commItem.graphql","PagesManagerInboxAdminAssigner_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function l(){return b("React").jsx("div",{className:"_wy6"})}function m(a){var c;return[(c=b("React")).jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:c.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),c.jsx(l,{},"PagesManagerInboxAdminAssigner.divider"),c.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:c.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$6=function(a){__p&&__p();var d=b("nullthrows")(c.props.page.id);if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var e=c.props.mailboxID,f=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(e,f,a.getUniqueID(),a.getTitle(),a.getPhoto());e=b("IGMessageServerActions").getForFBID(e);e.updateThreadAdminStatus(f,a.getUniqueID());return}b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto(),commItemID:b("nullthrows")(c.props.commItem.id),pageID:d});e=b("nullthrows")(c.props.commItem.target_id);c.$7([e],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(d,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(d,"assign","other")};c.$8=function(){__p&&__p();if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var a=c.props.mailboxID,d=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(a,d,null,null,null);a=b("IGMessageServerActions").getForFBID(a);a.updateThreadAdminStatus(d);return}b("PageCommItemClearOwnersMutation").commit({commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();a=b("nullthrows")(c.props.commItem.target_id);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"unassign","other")};c.$9=function(){var a=b("nullthrows")(c.props.page.page_admin_users).nodes;a=a.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a;b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a),commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();var d=b("nullthrows")(c.props.commItem.target_id);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"assign","other")};c.$10=function(a){return b("React").jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$4.cacheData(a.nodes)};d.$7=function(a,c,d,e){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var f=b("nullthrows")(this.props.page.id);a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(f).updateCommItemOwner(a,c,d,e)}};d.render=function(){var a=this,c;this.$1=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name)||this.props.adminName;this.$2=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.id)||this.props.adminID;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.page.name);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?b("React").jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:b("React").jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.page.name?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign Conversation").toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null}):b("React").jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:b("React").jsx(m,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$1:"")]).toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxAdminAssigner_commItem.graphql"),page:k!==void 0?k:k=b("PagesManagerInboxAdminAssigner_page.graphql")})}),null);
__d("PagesManagerInboxAutoLabelUtils",["ix","cx","fbt","Image.react","PageUserMessageThreadAutoLabelType","React","asset","cxMargin","keyMirror"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("keyMirror")(b("PageUserMessageThreadAutoLabelType"));a={getAutoLabelIcon:function(a){switch(a){case j.CUSTOMER:return b("React").jsx(b("Image.react"),{src:g("538340")});case j.POTENTIAL_CUSTOMER:return b("React").jsx(b("Image.react"),{src:g("481917")});case j.POSITIVE_EXPERIENCE:return b("React").jsx(b("Image.react"),{src:g("509920")});case j.NEGATIVE_EXPERIENCE:default:return b("React").jsx("div",{className:"_739o",children:b("React").jsx(b("Image.react"),{src:g("509920")})})}},getAutoLabelIconInDialogSection:function(a){switch(a){case j.CUSTOMER:return b("React").jsx(b("Image.react"),{className:"_3-90",src:g("538341")});case j.NEGATIVE_EXPERIENCE:return b("React").jsx(b("Image.react"),{className:"_3-90 _73mg",src:g("509921")});case j.POSITIVE_EXPERIENCE:return b("React").jsx(b("Image.react"),{className:"_3-90",src:g("509921")});case j.POTENTIAL_CUSTOMER:return b("React").jsx(b("Image.react"),{className:"_3-90",src:g("481918")})}return null},getAutoLabelTooltip:function(a){switch(a){case j.CUSTOMER:return i._("The Customer label is applied to conversations with people who may have booked an appointment, made a purchase or payment, or received a receipt.");case j.NEGATIVE_EXPERIENCE:return i._("The Negative Experience label is applied to conversations that may contain messages about a negative experience with your business.");case j.POSITIVE_EXPERIENCE:return i._("The Positive Experience label is applied to conversations that may contain messages about a positive experience with your business.");case j.POTENTIAL_CUSTOMER:return i._("The Potential Customer label is applied to conversations that may contain messages about product or service questions, pricing, availability or delivery.")}return null},createDefaultAutoLabel:function(a){switch(a){case j.CUSTOMER:return{id:"0",color:"",name:i._("Customer").toString(),thread_count:0,auto_label_type:j.CUSTOMER,is_hidden:!0};case j.NEGATIVE_EXPERIENCE:return{id:"1",color:"",name:i._("Negative Experience").toString(),thread_count:0,auto_label_type:j.NEGATIVE_EXPERIENCE,is_hidden:!0};case j.POSITIVE_EXPERIENCE:return{id:"2",color:"",name:i._("Positive Experience").toString(),thread_count:0,auto_label_type:j.POSITIVE_EXPERIENCE,is_hidden:!0};case j.POTENTIAL_CUSTOMER:return{id:"3",color:"",name:i._("Potential Customer").toString(),thread_count:0,auto_label_type:j.POTENTIAL_CUSTOMER,is_hidden:!0}}return null}};e.exports=a}),null);
__d("PagesManagerInboxCometHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8g70",children:a.jsxs("div",{className:"_2iwq _8g71",children:[a.jsx("div",{className:"_8g72"}),a.jsx("div",{className:"_8g73"}),a.jsx("div",{className:"_8g74"}),a.jsx("div",{className:"_8g75"}),a.jsx("div",{className:"_8g76"}),a.jsx("div",{className:"_8g77"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);