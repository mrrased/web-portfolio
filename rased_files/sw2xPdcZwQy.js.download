if (self.CavalryLogger) { CavalryLogger.start_js(["fMA5P"]); }

__d("CRMConsentToTOSDialogBody.react",["cx","LeadAdsCMSBlock.react","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("ScrollableArea.react"),{height:600,onEndReached:a.onEndReached,children:c.jsx("div",{className:"_81t1",children:c.jsx("div",{className:"_7r68",children:c.jsx(b("LeadAdsCMSBlock.react"),{id:"491619365082334"})})})})}e.exports=a}),null);
__d("CRMClientListActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD_OR_REMOVE_CSV:null,CRM_BACK_TO_FILE_UPLOAD:null,CRM_LIST_BACK_TO_CLIENT_LIST:null,CRM_LIST_FORCE_ACTIVITY_REFETCH:null,CRM_LIST_FORCE_REFETCH:null,CRM_LIST_SHOW_CLIENT_DETAILS:null,CRM_LIST_UNSET_FORCE_ACTIVITY_REFETCH:null,CRM_LIST_UNSET_FORCE_REFETCH:null,CRM_LIST_ADD_CONTACT_TO_BULK_EDIT:null,CRM_LIST_REMOVE_CONTACT_TO_BULK_EDIT:null,CRM_LIST_REMOVE_CONTACT_FROM_UNSELECTED_BULK_EDIT:null,CRM_LIST_CLEAR_CONTACT_TO_BULK_EDIT:null,CRM_LIST_SET_TOTAL_CONTACT_COUNT:null,CRM_UPDATE_SEARCH_TERM:null,CRM_CONTACT_SEARCH_DONE:null,CRM_IMPORT_CONTACTS:null,CRM_LIST_MATCH_COLUMN:null,CRM_CREATE_CONTACTS_FROM_CSV:null,CRM_COMPLETE_CONTACTS_CREATION_FROM_CSV:null,CRM_DISMISS_TOAST:null,CRM_INIT_MERGE_CONTACT:null,CRM_COMPLETE_MERGE_CONTACT:null,CRM_DISMISS_MERGE_TOAST:null,CRM_MERGE_CONTACT_ERROR:null,CRM_LIST_SELECT_ALL_TO_BULK_EDIT:null,CRM_LIST_ADD_CONTACT_TO_UNSELECTED_BULK_EDIT:null,CRM_LIST_CLEAR_UNSELECTED_CONTACT_TO_BULK_EDIT:null,CRM_START_BULK_ACTION:null,CRM_COMPLETE_BULK_ACTION:null,CRM_DISMISS_BULK_ACTION_TOAST:null,CRM_SET_EXPORT_CONTACTS_URL:null,CRM_UPDATE_PROGRESS:null,CRM_UPDATE_SELECTED_DATE_RANGE:null,CRM_UPDATE_SELECTED_PLATFORMS:null,CRM_UPDATE_SELECTED_ACTIVITIES:null,CRM_UPDATE_SELECTED_OTHER_FILTERS:null,CRM_CLEAR_SELECTED_OTHER_FILTERS:null,CRM_UPDATE_SAVED_FILTERS:null,CRM_UPDATE_SELECTED_SAVED_FILTER:null,CRM_CLEAR_LIST_SELECTION:null,CRM_UPDATE_INPUT_DATA:null,CRM_UPDATE_IS_LOADING:null,CRM_CLEAR_SELECTED_DATE_RANGE:null,CRM_CLEAR_SELECTED_PLATFORM:null,CRM_SHOW_SEARCH_RESULTS:null,CRM_ADD_CUSTOM_LABEL:null,CRM_REMOVE_CUSTOM_LABEL:null,CRM_CLEAR_TYPEAHEAD_SEARCH:null});e.exports=a}),null);
__d("PagesReactDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("CRMClientListActions",["CRMClientListActionTypes","PagesReactDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("CRMClientListActionTypes")).ADD_OR_REMOVE_CSV,h=a.CRM_ADD_CUSTOM_LABEL,i=a.CRM_BACK_TO_FILE_UPLOAD,j=a.CRM_CLEAR_LIST_SELECTION,k=a.CRM_CLEAR_SELECTED_DATE_RANGE,l=a.CRM_CLEAR_SELECTED_OTHER_FILTERS,m=a.CRM_CLEAR_SELECTED_PLATFORM,n=a.CRM_CLEAR_TYPEAHEAD_SEARCH,o=a.CRM_COMPLETE_BULK_ACTION,p=a.CRM_COMPLETE_CONTACTS_CREATION_FROM_CSV,q=a.CRM_COMPLETE_MERGE_CONTACT,r=a.CRM_CONTACT_SEARCH_DONE,s=a.CRM_CREATE_CONTACTS_FROM_CSV,t=a.CRM_DISMISS_BULK_ACTION_TOAST,u=a.CRM_DISMISS_MERGE_TOAST,v=a.CRM_DISMISS_TOAST,w=a.CRM_IMPORT_CONTACTS,x=a.CRM_INIT_MERGE_CONTACT,y=a.CRM_LIST_ADD_CONTACT_TO_BULK_EDIT,z=a.CRM_LIST_ADD_CONTACT_TO_UNSELECTED_BULK_EDIT,A=a.CRM_LIST_BACK_TO_CLIENT_LIST,B=a.CRM_LIST_CLEAR_CONTACT_TO_BULK_EDIT,C=a.CRM_LIST_CLEAR_UNSELECTED_CONTACT_TO_BULK_EDIT,D=a.CRM_LIST_FORCE_ACTIVITY_REFETCH,E=a.CRM_LIST_FORCE_REFETCH,F=a.CRM_LIST_MATCH_COLUMN,G=a.CRM_LIST_REMOVE_CONTACT_FROM_UNSELECTED_BULK_EDIT,H=a.CRM_LIST_REMOVE_CONTACT_TO_BULK_EDIT,I=a.CRM_LIST_SELECT_ALL_TO_BULK_EDIT,J=a.CRM_LIST_SET_TOTAL_CONTACT_COUNT,K=a.CRM_LIST_SHOW_CLIENT_DETAILS,L=a.CRM_LIST_UNSET_FORCE_ACTIVITY_REFETCH,M=a.CRM_LIST_UNSET_FORCE_REFETCH,N=a.CRM_MERGE_CONTACT_ERROR,O=a.CRM_REMOVE_CUSTOM_LABEL,P=a.CRM_SET_EXPORT_CONTACTS_URL,Q=a.CRM_SHOW_SEARCH_RESULTS,R=a.CRM_START_BULK_ACTION,S=a.CRM_UPDATE_INPUT_DATA,T=a.CRM_UPDATE_IS_LOADING,U=a.CRM_UPDATE_PROGRESS,V=a.CRM_UPDATE_SAVED_FILTERS,W=a.CRM_UPDATE_SEARCH_TERM,X=a.CRM_UPDATE_SELECTED_DATE_RANGE,Y=a.CRM_UPDATE_SELECTED_OTHER_FILTERS,Z=a.CRM_UPDATE_SELECTED_PLATFORMS,$=a.CRM_UPDATE_SELECTED_SAVED_FILTER;c={updateSearchTerm:function(a){b("PagesReactDispatcher").dispatch({type:W,payload:{searchTerm:a}})},showSearchResults:function(a){b("PagesReactDispatcher").dispatch({type:Q,payload:{showSearchResults:a}})},forceRefetch:function(){b("PagesReactDispatcher").dispatch({type:E,payload:{}})},importContacts:function(){b("PagesReactDispatcher").dispatch({type:w,payload:{}})},unsetForceFetch:function(){b("PagesReactDispatcher").dispatch({type:M,payload:{}})},forceActivityRefetch:function(){b("PagesReactDispatcher").dispatch({type:D,payload:{}})},unsetActivityForceFetch:function(){b("PagesReactDispatcher").dispatch({type:L,payload:{}})},showClientDetails:function(a){b("PagesReactDispatcher").dispatch({type:K,payload:{contactID:a}})},addOrRemoveFile:function(a){b("PagesReactDispatcher").dispatch({type:g,payload:{sampleData:a}})},backToClientList:function(){b("PagesReactDispatcher").dispatch({type:A})},backToFileUpload:function(){b("PagesReactDispatcher").dispatch({type:i})},createContactsFromCSV:function(a){b("PagesReactDispatcher").dispatch({type:s,payload:{uploadedFileName:a}})},completeContactsCreation:function(){b("PagesReactDispatcher").dispatch({type:p})},dismissToast:function(){b("PagesReactDispatcher").dispatch({type:v})},goMatchColumn:function(){b("PagesReactDispatcher").dispatch({type:F})},addBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:y,payload:{contact:a}})},removeBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:H,payload:{contactID:a}})},clearBulkEditClient:function(){b("PagesReactDispatcher").dispatch({type:B,payload:{}})},setTotalContactCount:function(a){b("PagesReactDispatcher").dispatch({type:J,payload:{totalContactCount:a}})},initMergeContact:function(){b("PagesReactDispatcher").dispatch({type:x})},completeMergeContact:function(a){b("PagesReactDispatcher").dispatch({type:q,payload:{mergedID:a}})},dismissMergeToast:function(){b("PagesReactDispatcher").dispatch({type:u})},mergeContactError:function(){b("PagesReactDispatcher").dispatch({type:N})},selectAllBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:I,payload:{isAllSelected:a}})},addUnselectedBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:z,payload:{contact:a}})},removeUnselectedBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:G,payload:{contactID:a}})},clearUnselectedBulkEditClient:function(){b("PagesReactDispatcher").dispatch({type:C,payload:{}})},startBulkAction:function(a){b("PagesReactDispatcher").dispatch({type:R,payload:{bulkActionType:a}})},completeBulkAction:function(){b("PagesReactDispatcher").dispatch({type:o})},dismissBulkActionToast:function(){b("PagesReactDispatcher").dispatch({type:t})},exportContactsUrl:function(a){b("PagesReactDispatcher").dispatch({type:P,payload:{url:a}})},updateProgress:function(a){b("PagesReactDispatcher").dispatch({type:U,payload:{progressUpdate:a}})},updateSelectedDateRange:function(a){b("PagesReactDispatcher").dispatch({type:X,payload:{selectedDateRange:a}})},updateSelectedPlatforms:function(a){b("PagesReactDispatcher").dispatch({type:Z,payload:{selectedPlatforms:a}})},updateSelectedOtherFilters:function(a,c){b("PagesReactDispatcher").dispatch({type:Y,payload:{selectedField:a,selectedOption:c}})},clearSelectedOtherFilters:function(){b("PagesReactDispatcher").dispatch({type:l})},updateSavedFilters:function(a,c){b("PagesReactDispatcher").dispatch({type:V,payload:{savedFilter:a,savedName:c}})},updateIsLoading:function(a){b("PagesReactDispatcher").dispatch({type:T,payload:{isLoading:a}})},updateSelectedSavedFilter:function(a){b("PagesReactDispatcher").dispatch({type:$,payload:{savedFilter:a}})},clearListSelection:function(){b("PagesReactDispatcher").dispatch({type:j})},updateInputData:function(a){b("PagesReactDispatcher").dispatch({type:S,payload:{inputData:a}})},clearSelectedDateRange:function(){b("PagesReactDispatcher").dispatch({type:k})},clearSelectedPlatform:function(){b("PagesReactDispatcher").dispatch({type:m})},addCustomLabel:function(a){b("PagesReactDispatcher").dispatch({type:h,payload:{label:a}})},removeCustomLabel:function(a){b("PagesReactDispatcher").dispatch({type:O,payload:{label:a}})},clearTypeaheadSearch:function(){b("PagesReactDispatcher").dispatch({type:n})},setContactSearchLoaded:function(){b("PagesReactDispatcher").dispatch({type:r})}};e.exports=c}),null);
__d("CRMMutationUtils",["ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","CRMMutationUtilsConsentForCrmLegalMutation.graphql","CRMMutationUtilsPageDeleteUploadedFileMutation.graphql","CRMMutationUtilsPageCustomFieldCreateMutation.graphql","CRMMutationUtilsRemovePageCustomFieldMutation.graphql","CRMMutationUtilsEditContactCustomFieldMutation.graphql","CRMMutationUtilsPagebulkCreateContactsFromCSVMutation.graphql","CRMMutationUtilsPageContactDeleteMutation.graphql","CRMMutationUtilsBanUserMutation.graphql","CRMMutationUtilsPageContactUpdateMutation.graphql","CRMMutationUtilsPageContactCreateMutation.graphql","CRMMutationUtilsUpdateLegalNoticeShouldShowMutation.graphql","CRMMutationUtilsBackfillPageCRMMutation.graphql","CRMMutationUtilsMergePageContactMutation.graphql","CRMMutationUtilsExportContactsListMutation.graphql","CRMMutationUtilsSaveFilterMutation.graphql","CRMMutationUtilsEditContactsFieldMutation.graphql","CRMMutationUtilsCreateNewLabelMutation.graphql","CRMMutationUtilsApplyAddedLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=b("ClientIDs").getNewClientID,z=b("RelayModern").commitMutation;b("RelayModern").graphql;var A=g!==void 0?g:g=b("CRMMutationUtilsConsentForCrmLegalMutation.graphql"),B=h!==void 0?h:h=b("CRMMutationUtilsPageDeleteUploadedFileMutation.graphql"),C=i!==void 0?i:i=b("CRMMutationUtilsPageCustomFieldCreateMutation.graphql"),D=j!==void 0?j:j=b("CRMMutationUtilsRemovePageCustomFieldMutation.graphql"),E=k!==void 0?k:k=b("CRMMutationUtilsEditContactCustomFieldMutation.graphql"),F=l!==void 0?l:l=b("CRMMutationUtilsPagebulkCreateContactsFromCSVMutation.graphql"),G=m!==void 0?m:m=b("CRMMutationUtilsPageContactDeleteMutation.graphql"),H=n!==void 0?n:n=b("CRMMutationUtilsBanUserMutation.graphql"),I=o!==void 0?o:o=b("CRMMutationUtilsPageContactUpdateMutation.graphql"),J=p!==void 0?p:p=b("CRMMutationUtilsPageContactCreateMutation.graphql"),K=q!==void 0?q:q=b("CRMMutationUtilsUpdateLegalNoticeShouldShowMutation.graphql"),L=r!==void 0?r:r=b("CRMMutationUtilsBackfillPageCRMMutation.graphql"),M=s!==void 0?s:s=b("CRMMutationUtilsMergePageContactMutation.graphql"),N=t!==void 0?t:t=b("CRMMutationUtilsExportContactsListMutation.graphql"),O=u!==void 0?u:u=b("CRMMutationUtilsSaveFilterMutation.graphql"),P=v!==void 0?v:v=b("CRMMutationUtilsEditContactsFieldMutation.graphql"),Q=w!==void 0?w:w=b("CRMMutationUtilsCreateNewLabelMutation.graphql"),R=x!==void 0?x:x=b("CRMMutationUtilsApplyAddedLabelMutation.graphql");a={consentToCrmLegal:function(a,c){z(b("RelayFBEnvironment"),{mutation:A,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},deleteUploadedFile:function(a,c){z(b("RelayFBEnvironment"),{mutation:B,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},createCustomField:function(a,c){z(b("RelayFBEnvironment"),{mutation:C,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},deleteCustomField:function(a,c){__p&&__p();var d=function(b,c){__p&&__p();if(a.fieldID==null||a.contactID==null)return;c=b.get(a.contactID);if(c==null)return;b=c.getLinkedRecords("additional_custom_fields");if(b!=null){b=b.filter(function(b){b=b&&b.getLinkedRecord("custom_field");b=b&&b.getValue("id");return b!==a.fieldID});c.setLinkedRecords(b,"additional_custom_fields")}};return z(b("RelayFBEnvironment"),{mutation:D,updater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,field_id:a.fieldID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})},editCustomField:function(a,c){__p&&__p();var d=function(b,c){__p&&__p();var d=b.get(a.contactID);if(d==null)return;c=c?(c=c.edit_contact_custom_field)==null?void 0:c.additional_custom_fields:a.fields;c=c.map(function(a){var c,d=y(),e=b.create(d,"CRMCustomField");e.setValue((c=a.custom_field)==null?void 0:c.id,"id");e.setValue((c=a.custom_field)==null?void 0:c.display_name,"display_name");c=b.create("edge:"+d,"ContactCustomFields");c.setValue(a.value,"value");c.setLinkedRecord(e,"custom_field");return c});d.setLinkedRecords(c,"additional_custom_fields")};return z(b("RelayFBEnvironment"),{mutation:E,optimisticUpdater:d,updater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,page_id:a.pageID,additional_custom_fields:a.fields,contact_id:a.contactID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})},createCsvContacts:function(a,c){z(b("RelayFBEnvironment"),{mutation:F,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},deleteContact:function(a,c){a={actor_id:b("RelayAPIConfig").actorID,page_contact_ids:[a]};z(b("RelayFBEnvironment"),{mutation:G,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},banContact:function(a,c){a={actor_id:b("RelayAPIConfig").actorID,user_ids:a};z(b("RelayFBEnvironment"),{mutation:H,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},updateContact:function(a,c){z(b("RelayFBEnvironment"),{mutation:I,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},createContact:function(a,c){z(b("RelayFBEnvironment"),{mutation:J,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},updateLegalNoticeShouldShow:function(a,c){z(b("RelayFBEnvironment"),{mutation:K,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},runBackfillPageForCRM:function(a,c){z(b("RelayFBEnvironment"),{mutation:L,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},mergeContact:function(a,c){z(b("RelayFBEnvironment"),{mutation:M,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},exportContactsList:function(a,c){z(b("RelayFBEnvironment"),{mutation:N,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},saveFilter:function(a,c){z(b("RelayFBEnvironment"),{mutation:O,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},editContactsField:function(a,c){z(b("RelayFBEnvironment"),{mutation:P,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},createNewLabel:function(a,c){z(b("RelayFBEnvironment"),{mutation:Q,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},applyAddedLabel:function(a,c){z(b("RelayFBEnvironment"),{mutation:R,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})}};e.exports=a}),null);
__d("CRMCreateNewFieldDialog.react",["ix","cx","fbt","CRMEventsLogger","CRMMutationUtils","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FDSTextInput.react","FDSTooltip.react","Image","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="create_custom_field_dialog";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={displayName:""},d.$1=function(){__p&&__p();b("CRMEventsLogger").log(d.props.pageID,"click_create_custom_field_button","create_custom_field_button",j);var a={actor_id:d.props.pageID,custom_field:{display_name:d.state.displayName,page_id:d.props.pageID}};b("CRMMutationUtils").createCustomField(a,function(a,b){__p&&__p();d.props.onHide();d.setState({displayName:""});a=a==null?void 0:(b=a.crm_custom_field_create)==null?void 0:b.custom_field;b=d.props.selectedFields;var c=d.props.customFields;c.set(a==null?void 0:a.id,a==null?void 0:a.display_name);var e=d.props.selectedFieldsForUnmatchedTable,f=d.props.selectedFieldsForMatchedTable;d.props.isMatchedTable?f.set(d.props.rowIndex,a==null?void 0:a.id):e.set(d.props.rowIndex,a==null?void 0:a.id);d.props.onAddCustomField(b,c,f,e);b.add(a==null?void 0:a.id)});d.$2()},d.$2=function(){d.setState({displayName:""})},d.$3=function(a){d.setState({displayName:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){var a=new RegExp("^[a-zA-Z0-9 ]*$");if(this.props.existingCustomFields.has(this.state.displayName))return i._("The field name {field_name} already exists.",[i._param("field_name",this.state.displayName)]);return!a.test(this.state.displayName)?i._("Field names may only contain letters and numbers. Please enter a different name and try again."):null};d.render=function(){var a=this.$4();return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:this.state.displayName.trim()===""||a!==null,label:i._("Save"),onClick:this.$1,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{onClick:this.$2})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:i._("Create Custom Field")}),isShown:this.props.isShown,label:"Create Custom Field",onHide:this.props.onHide,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsxs("div",{className:"_7of9",children:[b("React").jsxs("div",{className:"_7qlw",children:[b("React").jsx(b("FDSText.react"),{color:"secondary",size:"header3",weight:"bold",width:96,children:i._("Field Name")}),b("React").jsx(b("FDSTooltip.react"),{display:"inline",tooltip:i._("Custom fields can be found in your contact's details."),children:b("React").jsx(b("Image"),{className:"_7ofp",source:g("479798")})})]}),b("React").jsx("div",{className:"_7qlo",children:b("React").jsx(b("FDSTextInput.react"),{errorMessage:a,label:"Field Name",labelIsHidden:!0,onChange:this.$3,value:this.state.displayName})})]})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMUnmatchedFieldConfirmImportDialog.react",["fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("FDSModal.react"),{footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{label:g._("Continue"),onClick:this.props.onConfirmImport,use:"primary"}),secondaryButton:a.jsx(b("FDSCancelButton.react"),{})}),header:a.jsx(b("FDSModalHeader.react"),{title:g._("Unmatched Fields")}),isShown:this.props.isShown,label:"Modal Title",onHide:this.props.onHide,children:a.jsx(b("FDSSection.react"),{children:a.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:g._("You have {num_of_unmatched_fields} unmatched fields. Do you want to continue importing without matching these fields? Unmatched fields will not be uploaded.",[g._param("num_of_unmatched_fields",this.props.numOfUnmatchedFields)])})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMContactImportColumnMatchRoot.react",["ix","cx","fbt","CRMCancelImportDialog.react","CRMClientListActions","CRMCreateNewFieldDialog.react","CRMCSVImportColumnMatchTable.react","CRMEventsLogger","CRMMutationUtils","CRMUnmatchedFieldConfirmImportDialog.react","FDSButton.react","FDSDropdownSelectorOption.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSText.react","FlexLayout.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="csv_import_custom_field_matching_screen",k="create_new_field",l={labels:[{label:i._("Column Label")},{label:i._("Contact Field")},{label:i._("Preview")}]};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d,e;e=a.call(this,c)||this;e.goBackToList=function(){b("CRMEventsLogger").log(e.props.pageID,"click_go_back","back_button",j),b("CRMClientListActions").backToClientList(),e.removeMatchedData()};e.$1=function(a){var c=new Map();c.set("selected_fields",a);b("CRMEventsLogger").log(e.props.pageID,"select_field_for_matched_fields","custom_field_dropdown_list",j,null,c);e.setState(function(b){if(a===k)return{showCreateNewFieldDialog:a===k};var c=b.selectedFields.add(a),d=b.selectedFieldsForMatchedTable.get(b.currentRowForMatchedTable);d!=null&&c.has(d)&&c["delete"](d);return{showCreateNewFieldDialog:a===k,selectedFields:c,showNameGuidanceCard:!c.has("first_name")&&!c.has("full_name"),selectedFieldsForMatchedTable:b.selectedFieldsForMatchedTable.set(b.currentRowForMatchedTable,a)}})};e.$2=function(a){var c=new Map();c.set("selected_fields",a);b("CRMEventsLogger").log(e.props.pageID,"select_field_for_unmatched_fields","custom_field_dropdown_list",j,null,c);e.setState(function(b){if(a===k)return{showCreateNewFieldDialog:a===k};var c=b.selectedFields.add(a),d=b.selectedFieldsForUnmatchedTable.get(b.currentRowForUnmatchedTable);d!=null&&c.has(d)&&c["delete"](d);return{showCreateNewFieldDialog:a===k,selectedFields:c,showNameGuidanceCard:!c.has("first_name")&&!c.has("full_name"),selectedFieldsForUnmatchedTable:b.selectedFieldsForUnmatchedTable.set(b.currentRowForUnmatchedTable,a)}})};e.$3=function(a){e.setState({currentRowForMatchedTable:a,isMatchedTable:!0})};e.$4=function(a){e.setState({currentRowForUnmatchedTable:a,isMatchedTable:!1})};e.$5=function(){e.setState({showCreateNewFieldDialog:!1,showConfirmCancelDialog:!1,showConfirmationDialog:!1})};e.$7=function(){b("CRMEventsLogger").log(e.props.pageID,"click_cancel_import","cancel_import_button",j),e.setState({showConfirmCancelDialog:!0})};e.$8=function(){__p&&__p();if(e.$6()!==0&&!e.state.showConfirmationDialog)e.setState({showConfirmationDialog:!0});else{var a;b("CRMEventsLogger").log(e.props.pageID,"click_confirm_import","confirm_import_button",j);var c=Array.from(e.state.selectedFieldsForMatchedTable.entries()).map(function(a){return{key:a[0],value:a[1]}}),d=Array.from(e.state.selectedFieldsForUnmatchedTable.entries()).map(function(a){return{key:a[0],value:a[1]}});a={actor_id:e.props.pageID,csv_input:{page_id:e.props.pageID,file_id:(a=e.props.sampleData)==null?void 0:a.uploaded_file_id,fields_from_matched_table:c,fields_from_unmatched_table:d,consent_legal:e.props.consentLegal}};b("CRMMutationUtils").createCsvContacts(a,function(a,c){b("CRMClientListActions").completeContactsCreation()});b("CRMClientListActions").createContactsFromCSV((c=e.props.sampleData)==null?void 0:c.file);e.removeMatchedData()}};e.$11=function(a,b,c,d){e.setState({selectedFields:a,customFields:b,selectedFieldsForMatchedTable:c,selectedFieldsForUnmatchedTable:d})};var f=0,g=new Map(),h=new Set();d=(d=c.sampleData)==null?void 0:d.matched_data;d&&Object.entries(d).map(function(a){var b;a=(b=c.sampleData)!=null?(b=b.matched_fields)!=null?b[a[0]]:b:b;a!==null&&a!==void 0&&(h.add(a),g.set(f++,a))});d=!h.has("first_name")&&!h.has("full_name");e.state={customFields:new Map(),isMatchedTable:!0,currentRowForMatchedTable:-1,currentRowForUnmatchedTable:-1,showCreateNewFieldDialog:!1,showConfirmationDialog:!1,showConfirmCancelDialog:!1,selectedFields:h,selectedFieldsForMatchedTable:g,selectedFieldsForUnmatchedTable:new Map(),showNameGuidanceCard:d};return e}var d=c.prototype;d.removeMatchedData=function(){var a=this,b,c=0,d=new Map(),e=new Set();b=(b=this.props.sampleData)==null?void 0:b.matched_data;b&&Object.entries(b).map(function(b){var f;b=(f=a.props.sampleData)!=null?(f=f.matched_fields)!=null?f[b[0]]:f:f;b!==null&&b!==void 0&&(e.add(b),d.set(c++,b))});this.setState({selectedFieldsForMatchedTable:d,selectedFieldsForUnmatchedTable:new Map()})};d.goBackToFileUpload=function(){b("CRMClientListActions").backToFileUpload()};d.$6=function(){var a,b;a=(a=this.props.sampleData)==null?void 0:a.matched_data;a=a?Object.entries(a).length:0;b=(b=this.props.sampleData)==null?void 0:b.unmatched_data;b=b?Object.entries(b).length:0;return Math.abs(this.state.selectedFieldsForUnmatchedTable.size+this.state.selectedFieldsForMatchedTable.size-a-b)};d.$9=function(){var a,c,d=this.state.selectedFields,e=[];e.push((a=b("React")).jsx(c=b("FDSDropdownSelectorOption.react"),{icon:a.jsx(b("Image.react"),{src:g("504539")}),value:k,children:i._("Create Custom Field")},k));e.push(a.jsx(c,{icon:a.jsx(b("Image.react"),{src:g("478236")}),value:"ignore",children:i._("Don't Upload This Field")},"ignore"));e.push([a.jsx(c,{isDisabled:d.has("first_name"),value:"first_name",children:i._("First Name")},"first_name"),a.jsx(c,{isDisabled:d.has("last_name"),value:"last_name",children:i._("Last Name")},"last_name"),a.jsx(c,{isDisabled:d.has("full_name"),value:"full_name",children:i._("Full Name")},"full_name"),a.jsx(c,{isDisabled:d.has("phone_number"),value:"phone_number",children:i._("Phone Number")},"phone_number"),a.jsx(c,{isDisabled:d.has("email"),value:"email",children:i._("Email")},"email"),a.jsx(c,{isDisabled:d.has("birthday"),value:"birthday",children:i._("Birthday")},"birthday"),a.jsx(c,{isDisabled:d.has("address"),value:"address",children:i._("Address")},"address"),a.jsx(c,{isDisabled:d.has("city_name"),value:"city_name",children:i._("City")},"city_name"),a.jsx(c,{isDisabled:d.has("state"),value:"state",children:i._("State")},"state"),a.jsx(c,{isDisabled:d.has("zip_code"),value:"zip_code",children:i._("ZIP\/Postal Code")},"zip_code"),a.jsx(c,{isDisabled:d.has("note"),value:"note",children:i._("Note")},"note")]);e.push(this.$10());return e};d.$10=function(){var a=new Set(Array.from(this.state.selectedFields.values())),c=[];this.props.existingCustomFields.forEach(function(d,e){c.push(b("React").jsx(b("FDSDropdownSelectorOption.react"),{isDisabled:a.has(e),value:e,children:d},e))});this.state.customFields.forEach(function(d,e){c.push(b("React").jsx(b("FDSDropdownSelectorOption.react"),{isDisabled:a.has(e),value:e,children:d},e))});return c};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_7ndn",style:{overflowY:"auto"},children:[a.jsx("div",{className:"_7inb",children:a.jsx(b("FlexLayout.react"),{align:"center",justify:"center",children:a.jsx(b("FDSText.react"),{color:"primary",size:"header1",children:i._("Match Contact Fields")})})}),a.jsx("div",{className:"_7o4h",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body1",children:i._("We've matched your contact fields based on the column labels in your spreadsheet. Scroll to review and change these suggested matches and use the dropdown menu to assign or customize unmatched fields. Unmatched fields won't be uploaded.")})}),this.state.showNameGuidanceCard?b("React").jsx(m,{}):null,b("React").jsxs("div",{className:"_7kq_",children:[b("React").jsx(b("CRMCSVImportColumnMatchTable.react"),{csvImportData:this.props.sampleData,fieldSelectorOptions:this.$9(),headerItems:l,onChangeFieldForMatchedTable:this.$1,onChangeFieldForUnmatchedTable:this.$2,onRowClickForMatchedTable:this.$3,onRowClickForUnmatchedTable:this.$4,selectedFieldsForMatchedTable:this.state.selectedFieldsForMatchedTable,selectedFieldsForUnmatchedTable:this.state.selectedFieldsForUnmatchedTable}),b("React").jsx(b("CRMCreateNewFieldDialog.react"),{customFields:this.state.customFields,existingCustomFields:new Set(Array.from(this.props.existingCustomFields.values()).concat(Array.from(this.state.customFields.values()))),isMatchedTable:this.state.isMatchedTable,isShown:this.state.showCreateNewFieldDialog,onAddCustomField:this.$11,onHide:this.$5,pageID:this.props.pageID,rowIndex:this.state.isMatchedTable?this.state.currentRowForMatchedTable:this.state.currentRowForUnmatchedTable,selectedFields:this.state.selectedFields,selectedFieldsForMatchedTable:this.state.selectedFieldsForMatchedTable,selectedFieldsForUnmatchedTable:this.state.selectedFieldsForUnmatchedTable})]}),b("React").jsx("div",{className:"_7ins",children:b("React").jsxs(b("FlexLayout.react"),{align:"center",justify:"all",children:[b("React").jsxs("div",{children:[b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("503177"),style:{marginLeft:-8,marginRight:4}}),label:i._("Back"),margin:"_3-8x _3-95 _3-9b",onClick:this.goBackToFileUpload,size:"large",use:"default"}),b("React").jsx(b("FDSButton.react"),{label:i._("Cancel"),margin:"_3-8x _3-95 _3-9b",onClick:this.$7,size:"large",use:"default"})]}),b("React").jsx(b("FDSButton.react"),{isDisabled:this.state.showNameGuidanceCard,label:i._("Import"),margin:"_3-8x _3-95 _3-91",onClick:this.$8,size:"large",use:"primary"}),b("React").jsx(b("CRMUnmatchedFieldConfirmImportDialog.react"),{isShown:this.state.showConfirmationDialog,numOfUnmatchedFields:this.$6(),onConfirmImport:this.$8,onHide:this.$5,pageID:this.props.pageID}),b("React").jsx(b("CRMCancelImportDialog.react"),{isShown:this.state.showConfirmCancelDialog,onConfirmCancel:this.goBackToList,onHide:this.$5})]})})]})};return c}(b("React").Component);var m=function(){var a;return(a=b("React")).jsx("div",{className:"_7kq_",children:a.jsxs(b("FDSGuidanceCard.react"),{category:"error",children:[a.jsx(b("FDSGuidanceCardHeader.react"),{children:i._("Required Contact Field Missing")}),a.jsx(b("FDSGuidanceCardContent.react"),{children:a.jsx(b("FDSGuidanceCardContentText.react"),{children:i._("Name is a required contact field. Please match a column to the name contact field to continue.")})})]})})};e.exports=a}),null);
__d("CRMManualContactCreationDialogActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CRM_CLEAR_CONTACT_FORM:null,CRM_CONTACT_ADD_CLIENT_SAVE_FAIL:null,CRM_CONTACT_ADD_CLIENT_SAVE_SUCCESS:null,CRM_CONTACT_ADD_CLIENT_SAVING:null,CRM_CONTACT_DIALOG_INIT_LOADED_CONTACT:null,CRM_CONTACT_FETCHED_NO_CONTACT_PAGE_INFO:null,CRM_CONTACT_INIT_COMPLETED:null,CRM_CONTACT_PHONE_CONSENT_CHECKBOX_CHANGE:null,CRM_CONTACT_PHOTO_UPLOAD_FAIL:null,CRM_CONTACT_PHOTO_UPLOAD_START:null,CRM_CONTACT_PHOTO_UPLOAD_SUCCESS:null,CRM_CONTACT_REMOVE_PHOTO:null,CRM_CONTACT_SET_INITIAL_PARAMS:null,CRM_CONTACT_UPDATE_FIELD:null,CRM_CONTACT_UPDATE_PHONE_VALIDATION:null,CRM_CREATE_DIALOG_HIDE_ERROR_DIALOG:null,CRM_CREATE_DIALOG_VALILDATE_BEFORE_SAVE:null,CRM_CONTACT_UPDATE_LEGAL_NOTICE:null,CRM_CONTACT_MARK_LEGAL_NOTICE_AS_READ:null});e.exports=a}),null);
__d("CRMPageContactsFilterOptionTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports={FACEBOOK:"FB",INSTAGRAM:"IG",OFFLINE:"OFFLINE",ALL:"ALL",ACTIVITY:"ACTIVITY",PREVIOUS_APPOINTMENTS:"PAST_APPOINTMENTS",UPCOMING_APPOINTMENTS:"UPCOMING_APPOINTMENTS",LIKES_PAGE:"LIKED_PAGE",PHONE:"PHONE",WITH_PHONE:"WITH_PHONE",WITHOUT_PHONE:"WITHOUT_PHONE",CONFIRMED_SMS:"CONFIRMED_SMS",UNCONFIRMED_SMS:"UNCONFIRMED_SMS",EMAIL:"EMAIL",WITH_EMAIL:"WITH_EMAIL",WITHOUT_EMAIL:"WITHOUT_EMAIL",UNCONFIRMED_PREFERENCE:"UNCONFIRMED_PREFERENCE",CONFIRMED_SUBSCRIBED:"CONFIRMED_SUBSCRIBED",CONFIRMED_UNSUBSCRIBED:"CONFIRMED_UNSUBSCRIBED",CONFIRMED_UNKNOWN:"CONFIRMED_UNKNOWN",ADDRESS:"ADDRESS",WITH_ADDRESS:"WITH_ADDRESS",WITHOUT_ADDRESS:"WITHOUT_ADDRESS",BIRTHDAY:"BIRTHDAY",WITH_BIRTHDAY:"WITH_BIRTHDAY",WITHOUT_BIRTHDAY:"WITHOUT_BIRTHDAY",SAVED_FILTER:"SAVED_FILTER"}}),null);
__d("CRMClientListStore",["CRMClientListActionTypes","CRMManualContactCreationDialogActionTypes","FluxReduceStore","LocalDate","LocalDateInterval","PagesReactDispatcher","Timezone","immutable","nullthrows","CRMPageContactsFilterOptionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("CRMClientListActionTypes")).ADD_OR_REMOVE_CSV,h=a.CRM_ADD_CUSTOM_LABEL,i=a.CRM_BACK_TO_FILE_UPLOAD,j=a.CRM_CLEAR_LIST_SELECTION,k=a.CRM_CLEAR_SELECTED_DATE_RANGE,l=a.CRM_CLEAR_SELECTED_OTHER_FILTERS,m=a.CRM_CLEAR_SELECTED_PLATFORM,n=a.CRM_CLEAR_TYPEAHEAD_SEARCH,o=a.CRM_COMPLETE_BULK_ACTION,p=a.CRM_COMPLETE_CONTACTS_CREATION_FROM_CSV,q=a.CRM_COMPLETE_MERGE_CONTACT,r=a.CRM_CONTACT_SEARCH_DONE,s=a.CRM_CREATE_CONTACTS_FROM_CSV,t=a.CRM_DISMISS_BULK_ACTION_TOAST,u=a.CRM_DISMISS_MERGE_TOAST,v=a.CRM_DISMISS_TOAST,w=a.CRM_IMPORT_CONTACTS,x=a.CRM_INIT_MERGE_CONTACT,y=a.CRM_LIST_ADD_CONTACT_TO_BULK_EDIT,z=a.CRM_LIST_ADD_CONTACT_TO_UNSELECTED_BULK_EDIT,A=a.CRM_LIST_BACK_TO_CLIENT_LIST,B=a.CRM_LIST_CLEAR_CONTACT_TO_BULK_EDIT,C=a.CRM_LIST_CLEAR_UNSELECTED_CONTACT_TO_BULK_EDIT,D=a.CRM_LIST_FORCE_ACTIVITY_REFETCH,E=a.CRM_LIST_FORCE_REFETCH,F=a.CRM_LIST_MATCH_COLUMN,G=a.CRM_LIST_REMOVE_CONTACT_FROM_UNSELECTED_BULK_EDIT,H=a.CRM_LIST_REMOVE_CONTACT_TO_BULK_EDIT,I=a.CRM_LIST_SELECT_ALL_TO_BULK_EDIT,J=a.CRM_LIST_SET_TOTAL_CONTACT_COUNT,K=a.CRM_LIST_SHOW_CLIENT_DETAILS,L=a.CRM_LIST_UNSET_FORCE_ACTIVITY_REFETCH,M=a.CRM_LIST_UNSET_FORCE_REFETCH,N=a.CRM_MERGE_CONTACT_ERROR,O=a.CRM_REMOVE_CUSTOM_LABEL,P=a.CRM_SET_EXPORT_CONTACTS_URL,Q=a.CRM_SHOW_SEARCH_RESULTS,R=a.CRM_START_BULK_ACTION,S=a.CRM_UPDATE_INPUT_DATA,T=a.CRM_UPDATE_IS_LOADING,U=a.CRM_UPDATE_PROGRESS,V=a.CRM_UPDATE_SAVED_FILTERS,W=a.CRM_UPDATE_SEARCH_TERM,aa=a.CRM_UPDATE_SELECTED_DATE_RANGE,ba=a.CRM_UPDATE_SELECTED_OTHER_FILTERS,ca=a.CRM_UPDATE_SELECTED_PLATFORMS,da=a.CRM_UPDATE_SELECTED_SAVED_FILTER,ea=b("CRMManualContactCreationDialogActionTypes").CRM_CONTACT_ADD_CLIENT_SAVE_SUCCESS;c=b("Timezone").getEnvironmentTimezoneID()||b("Timezone").PST8PDT;var X=b("LocalDate").today(c).addDays(1),Y=b("LocalDate").fromInstant(123084e4,c),Z=b("CRMPageContactsFilterOptionTypes").ALL,fa=b("CRMPageContactsFilterOptionTypes").ACTIVITY,$=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isUploaded:!1,searchTerm:null,showSearchResults:!1,forceActivityRefetch:!1,forceRefetch:!1,contactID:null,showImportContactsView:!1,sampleData:null,showMatchColumns:!1,isCreatingContactsFromCSV:!1,isContactCreationComplete:!1,showConfirmationDialog:!1,uploadedFileName:null,progress:5,contactsToBulkEdit:b("immutable").Map([]),unSelectedContactsToBulkEdit:b("immutable").Map([]),totalContactCount:0,isMergingContact:!1,mergedContactID:null,mergeContactError:!1,isAllSelected:!1,isDoingBulkAction:!1,isBulkActionComplete:!1,exportContactsUrl:"",selectedDateRange:new(b("LocalDateInterval"))(Y,X),selectedPlatforms:[Z],selectedOtherFilters:b("immutable").Map([]),savedFilters:b("immutable").Map([]),inputData:null,isLoading:!0,bulkActionType:null,labelFilterIDs:[],isTypeAheadActive:!1,isLoadingContactSearch:!1}));d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new $()};d.reduce=function(a,c){__p&&__p();var d=c.type,e=c.payload;switch(d){case ea:return e.addedOrUpdatedClientID!==null?a.contactID===e.addedOrUpdatedClientID?a.set("forceRefetch",!0):a.set("contactID",e.addedOrUpdatedClientID):a.set("forceRefetch",!0);case D:return a.set("forceActivityRefetch",!0);case E:return a.set("forceRefetch",!0);case L:return a.set("forceActivityRefetch",!1);case M:return a.set("forceRefetch",!1);case K:return a.set("contactID",e.contactID);case A:return a.set("contactID",null).set("isUploaded",!1).set("sampleData",null).set("showMatchColumns",!1).set("showImportContactsView",!1);case w:return a.set("showImportContactsView",!0);case g:return e.sampleData===null||e.sampleData===void 0?a.set("isUploaded",!1).set("sampleData",null):a.set("isUploaded",!0).set("sampleData",e.sampleData);case F:return a.set("showMatchColumns",!0);case i:return a.set("showMatchColumns",!1).set("isUploaded",!1);case s:return a.set("contactID",null).set("isUploaded",!1).set("sampleData",null).set("showMatchColumns",!1).set("showImportContactsView",!1).set("showConfirmationDialog",!1).set("isContactCreationComplete",!1).set("isCreatingContactsFromCSV",!0).set("uploadedFileName",e.uploadedFileName);case p:return a.set("isContactCreationComplete",!0).set("isCreatingContactsFromCSV",!1).set("progress",5);case v:return a.set("isContactCreationComplete",!1).set("isCreatingContactsFromCSV",!1).set("progress",5);case y:c=e.contact;if(c!==null&&c!==void 0){d=b("nullthrows")(c.contactID);d=this.getState().contactsToBulkEdit.set(d,c);return a.set("contactsToBulkEdit",d)}return a;case H:c=this.getState().contactsToBulkEdit["delete"](b("nullthrows")(e.contactID));return a.set("contactsToBulkEdit",c);case B:d=this.getState().contactsToBulkEdit.clear();return a.set("contactsToBulkEdit",d);case J:return a.set("totalContactCount",e.totalContactCount);case x:return a.set("isMergingContact",!0);case q:return a.set("isMergingContact",!1).set("mergedContactID",e.mergedID);case u:return a.set("mergedContactID",null).set("isMergingContact",!1).set("mergeContactError",!1);case N:return a.set("isMergingContact",!1).set("mergeContactError",!0).set("isMergingContact",!1);case I:return a.set("isAllSelected",e.isAllSelected);case z:c=e.contact;if(c!=null&&c!==void 0){d=b("nullthrows")(c.contactID);d=this.getState().unSelectedContactsToBulkEdit.set(d,c);return a.set("unSelectedContactsToBulkEdit",d)}return a;case G:c=this.getState().unSelectedContactsToBulkEdit["delete"](b("nullthrows")(e.contactID));return a.set("unSelectedContactsToBulkEdit",c);case C:d=this.getState().unSelectedContactsToBulkEdit.clear();return a.set("unSelectedContactsToBulkEdit",d);case R:return a.set("isBulkActionComplete",!1).set("isDoingBulkAction",!0).set("progress",5).set("bulkActionType",e.bulkActionType);case o:return a.set("isBulkActionComplete",!0).set("isDoingBulkAction",!1).set("progress",5);case t:return a.set("isBulkActionComplete",!1).set("isDoingBulkAction",!1).set("progress",5);case P:return a.set("exportContactsUrl",e.url);case U:c=this.getState().progress+e.progressUpdate;return a.set("progress",c);case aa:return a.set("selectedDateRange",e.selectedDateRange);case ca:return a.set("selectedPlatforms",e.selectedPlatforms);case ba:d=e.selectedField;var f=e.selectedOption;c=this.getState().selectedOtherFilters.get(d);c==null&&(c=[]);var $=[].concat(c);c.includes(f)?$=$.filter(function(a){return a!==f}):(d!==fa&&($=[]),$.push(f));c=this.getState().selectedOtherFilters.set(d,$);return a.set("selectedOtherFilters",c);case l:return a.set("selectedOtherFilters",b("immutable").Map([]));case V:d=a.savedFilters.set(e.savedName,e.savedFilter);return a.set("savedFilters",d);case da:$=b("immutable").Map(e.savedFilter);return a.set("selectedOtherFilters",$);case j:return a.set("isAllSelected",!1).set("contactsToBulkEdit",b("immutable").Map([])).set("unSelectedContactsToBulkEdit",b("immutable").Map([]));case S:return a.set("inputData",e.inputData);case T:return a.set("isLoading",e.isLoading);case k:return a.set("selectedDateRange",new(b("LocalDateInterval"))(Y,X));case m:return a.set("selectedPlatforms",[Z]);case W:return a.set("searchTerm",e.searchTerm).set("isTypeAheadActive",e.searchTerm!==""||a.labelFilterIDs.length!==0).set("isLoadingContactSearch",!0);case Q:return a.set("showSearchResults",e.showSearchResults).set("labelFilterIDs",[]);case h:c=[].concat(a.labelFilterIDs);d=c.findIndex(function(a){return a.name===e.label.name});d===-1&&c.push(e.label);return a.set("labelFilterIDs",c).set("searchTerm","");case O:$=[].concat(a.labelFilterIDs);d=$.findIndex(function(a){return a.name===e.label.name});d!==-1&&$.splice(d,1);return a.set("labelFilterIDs",$).set("isTypeAheadActive",a.searchTerm!==""||$.length!==0).set("searchTerm","");case r:return a.set("isLoadingContactSearch",!1);case n:return a.set("searchTerm","").set("labelFilterIDs",[]).set("isTypeAheadActive",!1).set("isLoadingContactSearch",!1).set("showSearchResults",!1);default:return a}};d.getShowDetailsView=function(){var a=this.getState();return a.contactID!==null};d.getShowContactImportView=function(){var a=this.getState();return a.showImportContactsView};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("PagesReactDispatcher"))}),null);
__d("CRMContactsCSVFileInput.react",["fbt","CRMClientListActions","CRMCSVFileInput.react","CRMEventsLogger","CRMMutationUtils","FileInputUploader","React","XCRMContactImportCsvUploadController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=1*1024*1024,i="csv_import_file_upload_screen";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),j=0;j<e;j++)f[j]=arguments[j];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={fileError:null,fileName:null,fileSize:null,fileID:null,uploading:!1},d.$2=null,d.onClose=function(){d.setState({fileName:null,fileSize:null,uploading:!1,fileError:null});if(d.state.fileID==null)return;var a={actor_id:d.props.pageID,file_id:d.state.fileID};b("CRMMutationUtils").deleteUploadedFile(a,b("emptyFunction"));b("CRMClientListActions").addOrRemoveFile()},d.$3=b("XCRMContactImportCsvUploadController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI().toString(),d.$4=function(a,c){__p&&__p();if(!a||!a[0]||d.$2)return;b("CRMEventsLogger").log(d.props.pageID,"upload_csv_file","csv_file_upload_area",i);d.$1=a[0];if(((a=d.$1)==null?void 0:a.size)===0){b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",i,null,new Map().set("error","file_empty"));d.setState({fileName:(a=d.$1)==null?void 0:a.name,uploading:!1,fileError:g._("The file you selected doesn't contain any information. Please choose another file and try again.")});return}if(((a=d.$1)==null?void 0:a.size)>h){b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",i,null,new Map().set("error","file_too_large"));d.setState({fileName:(a=d.$1)==null?void 0:a.name,uploading:!1,fileError:g._("The file you selected is too large. Please choose a file smaller than 1 MB.")});return}var e=new(b("FileInputUploader"))(c).setURI(d.$3).setFiles({file:d.$1});d.$2=e;d.setState({fileName:(a=d.$1)==null?void 0:a.name,fileSize:(c=d.$1)==null?void 0:c.size,uploading:!0,fileError:null},function(){e.subscribe("success",d.$5),e.subscribe("failure",d.$6),e.send()})},d.$6=function(a,c){d.$2=null;a=c.response.payload.file_validation_error;a!==null&&a!==void 0&&b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",i,null,new Map().set("error",a));d.setState({fileName:null,uploading:!1,fileError:a})},d.$5=function(a,c){var e;d.$2=null;a=c.response.payload.file_validation_error;a!==null&&a!==void 0?b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",i,null,new Map().set("error",a)):b("CRMEventsLogger").log(d.props.pageID,"upload_file","csv_file_upload_area",i);d.setState({uploading:!1,fileID:(e=c)!=null?(e=e.response)!=null?(e=e.payload)!=null?e.uploaded_file_id:e:e:e,fileError:a});b("CRMClientListActions").addOrRemoveFile((e=c)!=null?(e=e.response)!=null?e.payload:e:e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("CRMCSVFileInput.react"),{fileError:this.state.fileError,fileName:this.state.fileName,fileSize:this.state.fileSize,isUploading:this.state.uploading,onClose:this.onClose,onUpload:this.$4})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("EmailTOSDialog.react",["ix","cx","fbt","CRMConsentToTOSDialog.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Image.react","Link.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showFullTOS:!1},c.$1=function(){c.setState({showFullTOS:!0})},c.$2=function(){c.setState({showFullTOS:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c;return(a=b("React")).jsxs("span",{children:[a.jsx(b("FDSModal.react"),{footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{label:i._("Confirm"),onClick:this.props.onConfirm,use:"primary"}),secondaryButton:a.jsx(b("FDSCancelButton.react"),{})}),header:a.jsx(b("FDSModalHeader.react"),{title:i._("Page Contact Terms of Service")}),isShown:this.props.isShown,label:"Modal Title",onHide:this.props.onHide,width:560,children:a.jsx(b("FDSSection.react"),{children:a.jsxs("div",{className:"_81t1",children:[a.jsx("div",{className:"_7r67",children:a.jsx(b("Image.react"),{src:g("700836")})}),a.jsxs("div",{className:"_7r68",children:[a.jsx(c=b("FDSText.react"),{margin:"_3-8y _20nr",size:"header2",textAlign:"center",children:i._("Protecting Contact Information")}),a.jsx("div",{children:a.jsx(c,{color:"secondary",children:i._("Your contacts trust you to act responsibly with their information. By clicking Confirm, you agree to the following:")})}),a.jsx("div",{className:"_7tku",children:a.jsx(c,{color:"secondary",size:"body2",children:i._("You have permission to store and use their information to send transactional and promotional messages")})}),a.jsx("div",{className:"_7tku",children:a.jsx(c,{color:"secondary",size:"body2",children:i._("Your contacts haven't opted out of sharing with you any of this information")})}),a.jsx("div",{className:"_7tku",children:a.jsx(c,{color:"secondary",size:"body2",children:i._("If a contact opts out of sharing their information at any point, you'll remove that information immediately")})}),a.jsx(b("Link.react"),{onClick:this.$1,children:a.jsx(c,{size:"body2",children:i._("Review Page Contact Terms of Service")})})]})]})})}),a.jsx(b("CRMConsentToTOSDialog.react"),{isShown:this.state.showFullTOS,onConfirm:this.$2,onHide:this.$2})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMContactImportRoot.react",["ix","cx","fbt","BusinessCRMConfigStore","CRMClientListActions","CRMClientListStore","CRMContactImportColumnMatchRoot.react","CRMContactsCSVFileInput.react","CRMEventsLogger","CRMMutationUtils","EmailTOSDialog.react","FDSButton.react","FDSCheckboxInput.react","FDSText.react","FlexLayout.react","FluxContainer","Image.react","Link.react","PagesReactDispatcher","React","RelayFBEnvironment","RelayModern","asset","cxMargin","emptyFunction","CRMContactImportRootQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=b("BusinessCRMConfigStore").withStore;var k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l="csv_import_file_upload_screen",m=j!==void 0?j:j=b("CRMContactImportRootQuery.graphql");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isUploaded:!1,isChecked:!1,sampleData:null,showMatchColumns:!1,showTOSDialog:!1},d.goBackToList=function(){var a;b("CRMEventsLogger").log(d.props.pageID,"click_go_back","back_button",l);a=(a=d.state.sampleData)==null?void 0:a.uploaded_file_id;if(a!==null&&a!==void 0){a={client_mutation_id:"0",actor_id:d.props.pageID,file_id:a};b("CRMMutationUtils").deleteUploadedFile(a,b("emptyFunction"))}b("CRMClientListActions").backToClientList()},d.goMatchColumn=function(){b("CRMEventsLogger").log(d.props.pageID,"click_continue_to_match_fields","continue_match_fields_button",l),b("CRMClientListActions").goMatchColumn()},d.$1=function(){b("CRMEventsLogger").log(d.props.pageID,"crm_tos_impression","crm_tos_dialog",l),d.setState({showTOSDialog:!0})},d.$2=function(){b("CRMEventsLogger").log(d.props.pageID,"click_cancel_tos","crm_tos_dialog",l),d.setState({showTOSDialog:!1})},d.$3=function(){b("CRMEventsLogger").log(d.props.pageID,"click_accept_tos","crm_tos_dialog",l);var a={actor_id:d.props.pageID};b("CRMMutationUtils").consentToCrmLegal(a,b("emptyFunction"));b("CRMClientListActions").goMatchColumn();d.setState({showTOSDialog:!1})},d.$4=function(a){__p&&__p();var c=a.error;a=a.props;if(c)return b("React").jsx("div",{});else if(a){var e=new Map();a.node.page_custom_fields.map(function(a){e.set(a.id,a.display_name)});return b("React").jsx(b("CRMContactImportColumnMatchRoot.react"),{consentLegal:d.state.isChecked,existingCustomFields:e,pageID:d.props.pageID,sampleData:d.state.sampleData})}return b("React").jsx("div",{})},d.$5=function(){var a=d.state.isChecked;b("CRMEventsLogger").log(d.props.pageID,a?"uncheck_sms_agreement":"check_sms_agreement","sms_agreement",l);d.setState({isChecked:!a})},d.$6=function(){b("CRMEventsLogger").log(d.props.pageID,"click_download_template","download_csv_template_link",l)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return{isUploaded:c.isUploaded,isChecked:a==null?!1:a.isChecked,sampleData:c.sampleData,showMatchColumns:c.showMatchColumns,showTOSDialog:a==null?!1:a.showTOSDialog}};var d=c.prototype;d.componentDidMount=function(){b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores())};d.render=function(){var a;return this.state.showMatchColumns&&!this.state.showTOSDialog?b("React").jsx(k,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:m,render:this.$4,variables:{page_id:this.props.pageID}}):b("React").jsxs("div",{className:"_7ndn",style:{height:this.props.height!==null&&this.props.height!==void 0?this.props.height+"px":void 0,overflowY:"scroll"},children:[b("React").jsxs("div",{className:"_7t17",children:[b("React").jsxs("div",{className:"_7t18",children:[b("React").jsxs("div",{className:"_7ndc",children:[b("React").jsx("div",{className:"_7inb",children:b("React").jsx(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Upload Contacts")})}),b("React").jsx("div",{className:"_7inr",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i._("You can choose to upload your contacts and info about them from a spreadsheet. You'll have an opportunity to review all the details before the upload is done to make sure everything is correct. Facebook won't share the info you upload with anyone, but we will store it on your behalf so that you can manage your contacts in one place.")})}),b("React").jsx(b("CRMContactsCSVFileInput.react"),{pageID:this.props.pageID}),this.props.isEligibleForSMS&&this.state.isUploaded&&((a=this.state)==null?void 0:(a=a.sampleData)==null?void 0:a.file_validation_error)==null?b("React").jsxs("div",{className:"_7r2x",children:[b("React").jsx(b("FDSCheckboxInput.react"),{label:"",onChange:this.$5,value:this.state.isChecked})," ",b("React").jsx(b("FDSText.react"),{color:"primary",size:"body2",children:i._("You confirm that you have permission to communicate with these contacts via text message (SMS) on behalf of {page_name}. Messages may include appointment confirmations, reminders and more.",[i._param("page_name",this.props.pageName)])})]}):null]}),b("React").jsx("div",{className:"_7t19",children:b("React").jsxs(b("FlexLayout.react"),{align:"center",justify:"all",children:[b("React").jsx(b("FDSButton.react"),{label:i._("Cancel"),margin:"_3-8x _3-95 _3-9b",onClick:this.goBackToList,size:"large",use:"default"}),b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.isUploaded||((a=this.state)==null?void 0:(a=a.sampleData)==null?void 0:a.file_validation_error)!=null,label:i._("Continue"),margin:"_3-8x _3-95 _3-91",onClick:this.props.hasConsent?this.goMatchColumn:this.$1,size:"large",use:"primary"})]})})]}),b("React").jsxs("div",{className:"_7t1a",children:[b("React").jsxs("div",{className:"_7t1b",children:[b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-8z _3-9c",size:"header3",weight:"bold",children:i._("Spreadsheet formatting tips:")}),b("React").jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8z _3-95 _3-9c",size:"body2",children:i._("Here are some formatting tips to keep in mind before you begin:")}),b("React").jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w",size:"body2",children:[b("React").jsx(b("Image.react"),{src:g("505499")}),i._("The first row should be column labels")]}),b("React").jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w",size:"body2",children:[b("React").jsx(b("Image.react"),{src:g("505499")}),i._("Each column you're uploading must have a label")]}),b("React").jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w",size:"body2",children:[b("React").jsx(b("Image.react"),{src:g("505499")}),i._("Name is the only required column label")]}),b("React").jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w _3-97",size:"body2",children:[b("React").jsx(b("Image.react"),{src:g("505499")}),i._("Any contact without a name won't be uploaded")]})]}),b("React").jsx(n,{onClickDownload:this.$6,uri:(a=this.props.store.get("config"))==null?void 0:a.templateURI})]})]}),b("React").jsx(b("EmailTOSDialog.react"),{isShown:this.state.showTOSDialog,onConfirm:this.$3,onHide:this.$2})]})};return c}(b("React").PureComponent);function n(a){var c,d=a.uri;a=a.onClickDownload;return(c=b("React")).jsxs("div",{className:"_7j7y",children:[c.jsx(b("FDSText.react"),{color:"primary",margin:"_3-9c _3-97",size:"header3",weight:"bold",children:i._("Contact List Template")}),c.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-9c",size:"body2",children:i._("Save time by organizing your list of contacts in the suggested format before uploading.")}),c.jsxs(b("Link.react"),{className:"_8p_2 _3-9c _3-8z",href:d,onClick:a,children:[c.jsx(b("Image.react"),{className:"_3-90",src:g("406900")}),c.jsx(b("FDSText.react"),{color:"blueLink",size:"body2",children:i._("Download Template")})]})]})}e.exports=a(b("FluxContainer").create(c))}),null);
__d("CRMEditAdditionalFieldsBody.react",["ix","cx","FDSText.react","FDSTextInput.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChangeValue(a,c.props.index)},c.$2=function(){c.props.onDeleteField(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_7r3w",children:[a.jsx("div",{className:"_7r2l",children:a.jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:this.props.name})}),a.jsx(b("FDSTextInput.react"),{label:this.props.name,labelIsHidden:!0,onChange:this.$1,placeholder:"-",value:this.props.value}),a.jsx("div",{className:"_7r2m",children:a.jsx(b("Image.react"),{onClick:this.$2,src:g("478812")})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMEditAdditionalFieldsDialog.react",["cx","fbt","CRMAddAdditionalFieldDialog.react","CRMEditAdditionalFieldsBody.react","CRMMutationUtils","FDSButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=600,j=560;function k(a){var c=a.isLoadingDelete?h._("Deleting Contact Field..."):h._("Delete Contact Field");return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:a.isLoadingDelete,label:c,margin:"_3-9a",onClick:a.onConfirmDeleteField,use:"primary"}),secondaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:a.isLoadingDelete,label:h._("Cancel"),onClick:a.onCancelDeleteField})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:h._("Delete Contact Field?")}),isShown:a.fieldCurrentlyDeleting!=null,onHide:a.onCancelDeleteField,width:j,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{children:h._("Deleting this contact field will permanently remove all associated information from all of your contacts. Do you want to delete this contact field?")})})})}function l(a){var c=a.additionalFieldList.map(function(c,d){var e;e=(e=c.custom_field)==null?void 0:e.display_name;c=c.value;return e!=null&&c!=null?b("React").jsx(b("CRMEditAdditionalFieldsBody.react"),{index:d,name:e,onChangeValue:a.onChangeValue,onDeleteField:a.onDeleteField,value:c},d):null});return b("React").jsxs("div",{className:"_7r2k",children:[c,c.length<20?b("React").jsx("div",{className:"_7q3f",children:b("React").jsx(b("FDSLink.react"),{onClick:a.onAddCustomField,children:h._("+ Add Contact Field")})}):null]})}function m(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:h._("Confirm"),margin:"_3-9a",onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:h._("Go Back"),onClick:a.onCancel})}),header:c.jsx(b("FDSModalHeader.react"),{title:h._("Continue Without Saving?")}),isShown:a.showDialog,onHide:a.onCancel,width:j,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:h._("If you cancel now, your new contact field won't be saved. Do you want to continue without saving?")})})})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={additionalFieldList:d.props.additionalFieldList,fieldCurrentlyDeletingIndex:null,isLoadingDelete:!1,showCreateCustomFieldDialog:!1,showConfirmationDialog:!1,hasAddedCustomField:!1,haveFieldsBeenModified:!1},d.$1=function(){d.props.onSave(d.state.additionalFieldList)},d.$2=function(a,b){d.setState(function(c){c=c.additionalFieldList.slice();c[b].value=a;return{additionalFieldList:c,haveFieldsBeenModified:!0}})},d.$3=function(a){d.setState(function(b){return{fieldCurrentlyDeletingIndex:a}})},d.$4=function(){d.state.isLoadingDelete||d.setState({fieldCurrentlyDeletingIndex:null})},d.$5=function(){__p&&__p();var a=d.state.fieldCurrentlyDeletingIndex;if(a==null)return;a=d.state.additionalFieldList[a];a=a==null?void 0:(a=a.custom_field)==null?void 0:a.id;if(a==null||a===""){d.setState(function(a){var b=a.additionalFieldList.slice();a.fieldCurrentlyDeletingIndex!=null&&b.splice(a.fieldCurrentlyDeletingIndex,1);return{fieldCurrentlyDeletingIndex:null,additionalFieldList:b}});return}d.setState({isLoadingDelete:!0});b("CRMMutationUtils").deleteCustomField({fieldID:a,contactID:d.props.pageContactID},{onSuccess:function(){d.setState(function(a){var b=a.additionalFieldList.slice();a.fieldCurrentlyDeletingIndex!=null&&b.splice(a.fieldCurrentlyDeletingIndex,1);return{fieldCurrentlyDeletingIndex:null,additionalFieldList:b,isLoadingDelete:!1}})},onFailure:function(){d.setState({fieldCurrentlyDeletingIndex:null,isLoadingDelete:!1})}})},d.$6=function(){d.setState({showCreateCustomFieldDialog:!0})},d.$7=function(){d.setState({showCreateCustomFieldDialog:!1})},d.$8=function(a){d.setState(function(b){b=b.additionalFieldList.slice();b.push({custom_field:{id:null,display_name:a},value:""});return{showCreateCustomFieldDialog:!1,additionalFieldList:b,hasAddedCustomField:!0,haveFieldsBeenModified:!0}})},d.$9=function(){if(d.state.hasAddedCustomField){d.setState({showConfirmationDialog:!0});return}d.props.onHide()},d.$10=function(){d.setState({showConfirmationDialog:!1}),d.props.onHide()},d.$11=function(){d.setState({showConfirmationDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.state.fieldCurrentlyDeletingIndex!=null?this.state.additionalFieldList[this.state.fieldCurrentlyDeletingIndex]:null;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.haveFieldsBeenModified,label:h._("Save"),margin:"_3-9a",onClick:this.$1,use:"primary"}),secondaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$9})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:h._("Additional Information")}),isShown:!0,onHide:this.$9,width:i,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(l,{additionalFieldList:this.state.additionalFieldList,onAddCustomField:this.$6,onChangeValue:this.$2,onDeleteField:this.$3})})}),b("React").jsx(k,{fieldCurrentlyDeleting:a,isLoadingDelete:this.state.isLoadingDelete,onCancelDeleteField:this.$4,onConfirmDeleteField:this.$5}),this.state.showCreateCustomFieldDialog?b("React").jsx(b("CRMAddAdditionalFieldDialog.react"),{onCancel:this.$7,onConfirm:this.$8}):null,b("React").jsx(m,{onCancel:this.$11,onConfirm:this.$10,showDialog:this.state.showConfirmationDialog})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMPageContactsBulkActionType",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({EXPORT:"export",EDIT:"edit",ADD_LABEL:"addLabel"})}),null);
__d("CRMPageContactsDateRangeFilter.react",["fbt","BUIDateRangePicker.react","BUIDateRangePresets","CRMClientListActions","CRMEventsLogger","LocalDate","LocalDateInterval","React","Timezone","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("Timezone").getEnvironmentTimezoneID()||b("Timezone").PST8PDT;var h=b("LocalDate").today(a).addDays(1),i=b("LocalDate").fromInstant(123084e4,a),j=g._("Date Added");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(a.interval){a=new(b("LocalDateInterval"))(a.interval.start,a.interval.end);b("CRMClientListActions").clearListSelection();b("CRMClientListActions").updateSelectedDateRange(a);var c=new Map();c.set("platformsSelected",a.toString());b("CRMEventsLogger").log(d.props.pageID,"click","creation_time_option","creation_time_filter_dropdown",null,c)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("span",{className:"_3-9a",children:b("React").jsx(b("BUIDateRangePicker.react"),{datePresetsLabel:j,dateRestraints:[function(a){return a.isAfterOrEqual(i)&&a.isBeforeOrEqual(h)}],defaultIncludeToday:!0,height:this.props.useLargeButton?"tall":"short",hideIcon:!1,limitPagerToRestraints:!0,onChange:this.$1,options:k(),timezoneID:b("Timezone").getEnvironmentTimezoneID(),value:{interval:this.props.selectedDateRange},verbose:"custom"})})};return c}(b("React").PureComponent);function k(){var a;return[{calculateInterval:function(){return new(b("LocalDateInterval"))(i,h)},text:g._("Lifetime"),value:"Lifetime",disableComparison:!0},(a=b("BUIDateRangePresets")).TODAY,a.YESTERDAY,a.LAST_7D,a.LAST_14D,a.THIS_MONTH,{calculateInterval:function(){return new(b("LocalDateInterval"))(h.subtractMonths(3),h)},text:g._("Last 3 months"),value:"last_3_months"},{calculateInterval:function(){return new(b("LocalDateInterval"))(h.subtractMonths(6),h)},text:g._("Last 6 months"),value:"last_6_months"}]}e.exports=c}),null);
__d("CRMPageContactsFilterMappingFunction",["CRMPageContactsFilterOptionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("CRMPageContactsFilterOptionTypes")).ACTIVITY,h=a.ADDRESS,i=a.BIRTHDAY,j=a.CONFIRMED_SMS,k=a.CONFIRMED_SUBSCRIBED,l=a.CONFIRMED_UNKNOWN,m=a.CONFIRMED_UNSUBSCRIBED,n=a.EMAIL,o=a.LIKES_PAGE,p=a.PHONE,q=a.PREVIOUS_APPOINTMENTS,r=a.SAVED_FILTER,s=a.UNCONFIRMED_PREFERENCE,t=a.UNCONFIRMED_SMS,u=a.UPCOMING_APPOINTMENTS,v=a.WITH_ADDRESS,w=a.WITH_BIRTHDAY,x=a.WITH_EMAIL,y=a.WITH_PHONE,z=a.WITHOUT_ADDRESS,A=a.WITHOUT_BIRTHDAY,B=a.WITHOUT_EMAIL,C=a.WITHOUT_PHONE;e.exports={getOptionType:function(a){switch(a){case q:case u:case o:return g;case y:case C:case j:case t:return p;case x:case B:case s:case k:case m:case l:return n;case v:case z:return h;case w:case A:return i;default:return r}}}}),null);
__d("CRMPageContactsOtherFilterFbt",["fbt","CRMPageContactsFilterOptionTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("CRMPageContactsFilterOptionTypes")).ACTIVITY,i=a.ADDRESS,j=a.BIRTHDAY,k=a.CONFIRMED_SMS,l=a.CONFIRMED_SUBSCRIBED,m=a.CONFIRMED_UNKNOWN,n=a.CONFIRMED_UNSUBSCRIBED,o=a.EMAIL,p=a.LIKES_PAGE,q=a.PHONE,r=a.PREVIOUS_APPOINTMENTS,s=a.SAVED_FILTER,t=a.UNCONFIRMED_PREFERENCE,u=a.UNCONFIRMED_SMS,v=a.UPCOMING_APPOINTMENTS,w=a.WITH_ADDRESS,x=a.WITH_BIRTHDAY,y=a.WITH_EMAIL,z=a.WITH_PHONE,A=a.WITHOUT_ADDRESS,B=a.WITHOUT_BIRTHDAY,C=a.WITHOUT_EMAIL,D=a.WITHOUT_PHONE;e.exports={getFbt:function(a){__p&&__p();switch(a){case h:return g._("Activity");case r:return g._("Appointment completed");case v:return g._("Appointment scheduled");case p:return g._("LIKES_PAGE");case q:return g._("Phone");case k:return g._("Text message (SMS) confirmed");case u:return g._("Text message (SMS) not confirmed");case z:return g._("Known");case D:return g._("Unknown");case o:return g._("Email");case t:return g._("Preference not confirmed");case l:return g._("Subscribed");case n:return g._("Unsubscribed");case m:return g._("Preference unknown");case y:return g._("Known");case C:return g._("Unknown");case i:return g._("Street Address");case w:return g._("Known");case A:return g._("Unknown");case j:return g._("Birthday");case x:return g._("Known");case B:return g._("Unknown");case s:return g._("Saved Filters");default:return""}}}}),null);
__d("CRMPageContactsFilterTokenizer.react",["cx","fbt","CRMClientListActions","CRMEventsLogger","CRMMutationUtils","CRMPageContactsOtherFilterFbt","FDSButton.react","JSResource","React","ServicesUISpinner.react","XUICloseButton.react","lazyLoadComponent","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CRMPageContactsOtherFilterFbt").getFbt,j=b("lazyLoadComponent")(b("JSResource")("CRMSaveFilterSetDialog.react").__setRef("CRMPageContactsFilterTokenizer.react")),k=b("lazyLoadComponent")(b("JSResource")("CRMSaveFilterFailDialog.react").__setRef("CRMPageContactsFilterTokenizer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showSaveFilterSetDialog:!1,showSaveFilterFailedDialog:!1},d.$5=function(){d.setState({showSaveFilterSetDialog:!0})},d.$6=function(){d.setState({showSaveFilterSetDialog:!1})},d.$7=function(){d.setState({showSaveFilterSetDialog:!0})},d.$8=function(){d.setState({showSaveFilterFailedDialog:!1})},d.$9=function(a){__p&&__p();b("CRMClientListActions").updateSavedFilters(d.props.filters,a);var c=[];for(var e=d.props.filters.values(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;c.push.apply(c,h)}h={actor_id:d.props.pageID,saved_filter:{saved_filter:c,customized_name:a}};b("CRMEventsLogger").log(d.props.pageID,"click","saved_customized_filter_button","customized_tokenizer_bar");b("CRMMutationUtils").saveFilter(h,function(a,b){b&&d.setState({showSaveFilterFailedDialog:!0})})},d.$11=function(){b("CRMEventsLogger").log(d.props.pageID,"click","clear_tokenizers_button","customized_tokenizer_bar"),b("CRMClientListActions").clearSelectedOtherFilters()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return b("React").jsx("span",{className:"_8bv0",children:h._("Filters:")})};d.$2=function(a,c){b("CRMEventsLogger").log(this.props.pageID,"click","remove_filter_from_tokenizer_button","customized_tokenizer_bar"),b("CRMClientListActions").updateSelectedOtherFilters(a,c),b("CRMClientListActions").clearListSelection()};d.$3=function(a,c){var d=this,e=i(a),f=i(c);e=h._("{Filter Type}: {Filter Option}",[h._param("Filter Type",e),h._param("Filter Option",f)]);return(f=b("React")).jsxs("span",{className:"_8bv1",style:{backgroundColor:"#c4d2e7"},children:[f.jsx("span",{className:"_8bv2 _2pi8",children:e}),f.jsx("span",{className:"_3-8r",children:f.jsx(b("XUICloseButton.react"),{onClick:function(){return d.$2(a,c)}})})]},e)};d.$4=function(){var a=this,b=[];this.props.filters.forEach(function(c,d){c.map(function(c){b.push(a.$3(d,c))})});return b};d.$10=function(){return b("React").jsx("div",{className:"_8bv3",children:b("React").jsx(b("FDSButton.react"),{label:h._("Save Filter"),onClick:this.$5})})};d.$12=function(){return b("React").jsx("div",{className:"_8bv3",children:b("React").jsx(b("FDSButton.react"),{label:h._("Clear"),onClick:this.$11})})};d.render=function(){return b("React").jsxs("div",{className:"_8buh",children:[this.$1(),this.$4(),b("React").jsxs("div",{className:"_8bui _2pic",children:[this.$10(),this.$12()]}),this.state.showSaveFilterSetDialog&&b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:b("React").jsx(j,{onHide:this.$6,onSave:this.$9,shown:this.state.showSaveFilterSetDialog})}),this.state.showSaveFilterFailedDialog&&b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:b("React").jsx(k,{onClick:this.$7,onHide:this.$8,shown:this.state.showSaveFilterFailedDialog})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMPageContactsOtherFilter.react",["ix","fbt","CRMClientListActions","CRMEventsLogger","CRMPageContactsFilterMappingFunction","CRMPageContactsFilterOptionTypes","CRMPageContactsOtherFilterFbt","FDSDropdownMultiSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSDropdownSelectorSeparator.react","FlexLayout.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CRMPageContactsFilterMappingFunction").getOptionType,j=(a=b("CRMPageContactsFilterOptionTypes")).ACTIVITY,k=a.ADDRESS,l=a.BIRTHDAY,m=a.CONFIRMED_SMS,n=a.CONFIRMED_SUBSCRIBED,o=a.CONFIRMED_UNKNOWN,p=a.CONFIRMED_UNSUBSCRIBED,q=a.EMAIL,r=a.LIKES_PAGE,s=a.PHONE,t=a.PREVIOUS_APPOINTMENTS,u=a.SAVED_FILTER,v=a.UNCONFIRMED_PREFERENCE,w=a.UNCONFIRMED_SMS,x=a.UPCOMING_APPOINTMENTS,y=a.WITH_ADDRESS,z=a.WITH_BIRTHDAY,A=a.WITH_EMAIL,B=a.WITH_PHONE,C=a.WITHOUT_ADDRESS,D=a.WITHOUT_BIRTHDAY,E=a.WITHOUT_EMAIL,F=a.WITHOUT_PHONE,G=b("CRMPageContactsOtherFilterFbt").getFbt;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=d.props.appliedFilters,e;a.length===c.length+1?e=a.filter(function(a){return!c.includes(a)})[0]:e=c.filter(function(b){return!a.includes(b)})[0];var f=i(e);if(f!==u){b("CRMClientListActions").updateSelectedOtherFilters(f,e);f=new Map();f.set("otherFiltersSelected",a.join(", "));b("CRMEventsLogger").log(d.props.pageID,"click","other_filter_option","other_filter_dropdown",null,f)}else{b("CRMEventsLogger").log(d.props.pageID,"click","aved_customized_filter","other_filter_dropdown");b("CRMClientListActions").updateSelectedSavedFilter((f=d.props.savedFilters.get(e))!=null?f:new Map())}b("CRMClientListActions").clearListSelection()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=Array.from(this.props.savedFilters.keys());a=a.map(function(a){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:a},a)});var c=this.props.shouldShowEmailSubscription?[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:v,children:G(v)},v),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:n,children:G(n)},n),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:p,children:G(p)},p),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:o,children:G(o)},o)]:[],d=this.props.shouldShowLikesPageFilter?b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:r,children:G(r)}):[],e=this.props.isServiceBusiness?[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:m,children:G(m)},m),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:w,children:G(w)},w)]:[];d=this.props.isServiceBusiness?[b("React").jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(j),children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:t,children:G(t)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:x,children:G(x)}),d]},j),b("React").jsx(b("FDSDropdownSelectorSeparator.react"),{},"appointments_separator")]:[];return b("React").jsx("span",{className:"_3-9a",children:b("React").jsx(b("FlexLayout.react"),{justify:"all",children:b("React").jsxs(b("FDSDropdownMultiSelector.react"),{buttonIcon:b("React").jsx(b("Image.react"),{src:g("537875")}),buttonSize:this.props.useLargeButton?"large":"medium",dropdownWidth:270,label:h._("Filter"),maxHeight:500,onChange:this.$1,placeholder:"Label",value:this.props.appliedFilters,children:[d,b("React").jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(s),children:[e,b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:B,children:G(B)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:F,children:G(F)})]}),b("React").jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(q),children:[c,b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:A,children:G(A)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:E,children:G(E)})]}),b("React").jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(k),children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:y,children:G(y)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:C,children:G(C)})]}),b("React").jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(l),children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:z,children:G(z)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:D,children:G(D)})]}),a.length>0?b("React").jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(u),children:a}):[]]})})})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("CRMPageContactsPlatformFilter.react",["ix","fbt","CRMClientListActions","CRMEventsLogger","CRMPageContactsFilterOptionTypes","FDSDropdownMultiSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorSeparator.react","FlexLayout.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=(a=b("CRMPageContactsFilterOptionTypes")).ALL,j=a.FACEBOOK,k=a.INSTAGRAM,l=a.OFFLINE,m=h._("Source"),n=h._("All"),o=h._("Facebook"),p=h._("Instagram"),q=h._("Added");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=[],e=!0;a.length!==0?d.props.selectedPlatforms.includes(i)&&a.length>1?c=a.filter(function(a){return a!==i}):!d.props.selectedPlatforms.includes(i)&&a.includes(i)?c.push(i):c=[].concat(a):!d.props.selectedPlatforms.includes(i)?c.push(i):e=!1;if(e){b("CRMClientListActions").clearListSelection();b("CRMClientListActions").updateSelectedPlatforms(c);a=new Map();a.set("platformsSelected",c.join(", "));b("CRMEventsLogger").log(d.props.pageID,"click","platform_option","platform_filter_dropdown",null,a)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a="";this.props.selectedPlatforms.includes(i)||this.props.selectedPlatforms.includes(j)&&this.props.selectedPlatforms.includes(k)&&this.props.selectedPlatforms.includes(l)?a=h._("{Source}: {All}",[h._param("Source",m),h._param("All",n)]):this.props.selectedPlatforms.includes(j)&&this.props.selectedPlatforms.includes(k)?a=h._("{Facebook}, {Instagram}",[h._param("Facebook",o),h._param("Instagram",p)]):this.props.selectedPlatforms.includes(k)&&this.props.selectedPlatforms.includes(l)?a=h._("{Instagram}, {Added}",[h._param("Instagram",p),h._param("Added",q)]):this.props.selectedPlatforms.includes(j)&&this.props.selectedPlatforms.includes(l)?a=h._("{Facebook}, {Added}",[h._param("Facebook",o),h._param("Added",q)]):this.props.selectedPlatforms.includes(j)?a=o:this.props.selectedPlatforms.includes(k)?a=p:a=q;return b("React").jsx("span",{className:"_3-9a",children:b("React").jsx(b("FlexLayout.react"),{justify:"all",children:b("React").jsxs(b("FDSDropdownMultiSelector.react"),{buttonIcon:b("React").jsx(b("Image.react"),{src:g("566622")}),buttonSize:this.props.useLargeButton?"large":"medium",buttonUse:"default",label:a,onChange:this.$1,placeholder:m,value:this.props.selectedPlatforms,children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:i,children:n}),b("React").jsx(b("FDSDropdownSelectorSeparator.react"),{}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:j,children:o}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:k,children:p}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:l,children:q})]})})})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("CRMClientListItemActionsEnum",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOK_APPOINTMENT:null,DELETE:null,VIEW_PROFILE:null,BLOCK:null});e.exports=a}),null);
__d("CRMClientDetailsDeleteLabelMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","RelayRuntime","CRMClientDetailsDeleteLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("CRMClientDetailsDeleteLabelMutation.graphql");function a(a,c){__p&&__p();var d=function(b){if(a.pageID==null||a.connectionName==null)return;var c=a.connectionName;b=b.get(a.pageID);if(!b)return;b=h.getConnection(b,c);b&&h.deleteNode(b,a.id)};return i(b("RelayFBEnvironment"),{mutation:j,updater:d,optimisticUpdater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,business_presence_custom_label_id:a.id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CRMClientDetailsUnsetLabelMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","RelayRuntime","CRMClientDetailsUnsetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("CRMClientDetailsUnsetLabelMutation.graphql");function a(a,c){__p&&__p();var d=function(b,c){__p&&__p();var d=a.connectionName;if(d==null)return;c=a.pageContactID!==null?a.pageContactID:c.page_contact_unset_label.page_contact.id;if(c==null)return;b=b.get(c);if(!b)return;c=h.getConnection(b,d);c&&h.deleteNode(c,a.id)};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,page_contact_id:a.pageContactID,label_name:a.labelName}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CRMClientDetailsUpdateLabelColorMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","nullthrows","CRMClientDetailsUpdateLabelColorMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("CRMClientDetailsUpdateLabelColorMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,business_presence_custom_label_id:a.id,color:a.color}},onCompleted:function(a){if(c){var d;d={color:b("nullthrows")((d=a.update_color_business_presence_custom_label)==null?void 0:(d=d.business_presence_custom_label)==null?void 0:d.label_color),id:b("nullthrows")((d=a.update_color_business_presence_custom_label)==null?void 0:(d=d.business_presence_custom_label)==null?void 0:d.id),name:b("nullthrows")((d=a.update_color_business_presence_custom_label)==null?void 0:(a=d.business_presence_custom_label)==null?void 0:a.name)};c.onSuccess(d)}},onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CustomLabelUtils",["CRMClientDetailsCreateLabelMutation","CRMClientDetailsDeleteLabelMutation","CRMClientDetailsSetLabelMutation","CRMClientDetailsUnsetLabelMutation","CRMClientDetailsUpdateLabelColorMutation","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").ConnectionHandler;d=25;f=200;function a(a,b){return b.length===0?a:a.filter(function(a){return!b.some(function(b){return b?a.name===b.name:!0})})}var h=function(a,c,d,e,f){a={name:a,pageID:d,color:c,connectionName:e};b("CRMClientDetailsCreateLabelMutation").commit(a,f)},i=function(a,c,d,e){a={id:a,pageID:c,connectionName:d};b("CRMClientDetailsDeleteLabelMutation").commit(a,e)},j=function(a,c,d){a={id:a,color:c};b("CRMClientDetailsUpdateLabelColorMutation").commit(a,d)},k=function(a,c,d,e,f,g,h,i){a={id:a,labelName:c,pageContactID:d,pageID:e,contactLabelsConnection:f,pageLabelsConnection:g,color:h};b("CRMClientDetailsSetLabelMutation").commit(a,i)},l=function(a,c,d,e,f){a={id:a,labelName:c,pageContactID:d,connectionName:e};b("CRMClientDetailsUnsetLabelMutation").commit(a,f)},m=function(a,b,c,d){__p&&__p();if(d==null||b==null)return;b=a.get(b);if(!b)return;b=g.getConnection(b,d);if(!b)return;d=g.createEdge(a,b,c,"CustomLabelsEdge");b&&d&&g.insertEdgeBefore(b,d)};function c(a,b){__p&&__p();var c={},d=[];for(var e=0;e<a.length;e++){var f;f=(f=a[e].node)==null?void 0:f.name;f!=null&&c[f]!==!0&&(c[f]=!0,d[d.length]=a[e])}for(var f=0;f<b.length;f++){e=(a=b[f].node)==null?void 0:a.name;e!=null&&c[e]!==!0&&(c[e]=!0,d[d.length]=b[f])}return d}e.exports={TAG_LIMIT:f,MAX_LABEL_NAME_LENGTH:d,getTypeaheadLabels:a,onAddLabel:k,onRemoveLabel:l,onCreateLabel:h,onDeleteLabel:i,onUpdateLabel:j,createLabelUpdater:m,mergeContactAndCustomerLabels:c}}),null);
__d("CRMClientDetailsCreateLabelMutation",["ClientIDs","CustomLabelUtils","RelayAPIConfig","RelayFBEnvironment","RelayModern","nullthrows","CRMClientDetailsCreateLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ClientIDs").getNewClientID,i=b("CustomLabelUtils").createLabelUpdater,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CRMClientDetailsCreateLabelMutation.graphql");function a(a,c){__p&&__p();var d=function(b){if(!a.pageID)return;var c=h(),d=b.create(c,"BusinessPresenceCustomLabel");d.setValue(c,"id");d.setValue(a.name,"name");d.setValue(a.color,"label_color");i(b,a.pageID,d,a.connectionName)},e=function(b,c){if(!a.pageID)return;c=c==null?void 0:(c=c.create_business_presence_custom_label)==null?void 0:c.id;if(c==null)return;c=b.get(c);if(!c)return;c&&i(b,a.pageID,c,a.connectionName)};return j(b("RelayFBEnvironment"),{mutation:k,optimisticUpdater:d,updater:e,variables:{input:{actor_id:b("RelayAPIConfig").actorID,page_id:a.pageID,name:a.name,color:a.color,is_hidden:a.is_hidden,platform:a.platform}},onCompleted:function(a){if(c){var d;a={color:b("nullthrows")((d=a.create_business_presence_custom_label)==null?void 0:d.label_color),id:b("nullthrows")((d=a.create_business_presence_custom_label)==null?void 0:d.id),name:b("nullthrows")((d=a.create_business_presence_custom_label)==null?void 0:d.name)};c.onSuccess(a)}},onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CRMClientDetailsSetLabelMutation",["CustomLabelUtils","RelayAPIConfig","RelayFBEnvironment","RelayModern","RelayRuntime","nullthrows","CRMClientDetailsSetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CustomLabelUtils").createLabelUpdater,i=b("RelayRuntime").ConnectionHandler,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CRMClientDetailsSetLabelMutation.graphql");function a(a,c){__p&&__p();var d=function(b,c){__p&&__p();if(a.pageContactID==null)return;var d=b.get(a.pageContactID);if(!d)return;d=i.getConnection(d,a.contactLabelsConnection);c=a.id!==null?a.id:c==null?void 0:(c=c.page_contact_set_label)==null?void 0:(c=c.label)==null?void 0:c.id;if(!d||c==null)return;c=b.get(c);if(!c)return;var e=i.createEdge(b,d,c,"PageContactLabelsEdge");d&&e&&i.insertEdgeAfter(d,e);h(b,a.pageID,c,a.pageLabelsConnection)};return j(b("RelayFBEnvironment"),{mutation:k,optimisticUpdater:d,updater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_id:a.pageContactID,label_color:a.color}},onCompleted:function(a){if(c){var d;d={color:b("nullthrows")((d=a.page_contact_set_label)==null?void 0:(d=d.label)==null?void 0:d.label_color),id:b("nullthrows")((d=a.page_contact_set_label)==null?void 0:(d=d.label)==null?void 0:d.id),name:b("nullthrows")((d=a.page_contact_set_label)==null?void 0:(a=d.label)==null?void 0:a.name)};c.onSuccess(d)}},onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerCustomLabelsActions",["PagesManagerDispatcher","immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CLEAR_DATA:null,SET_LABEL:null,INIT_STORE:null,DELETE_LABEL:null});a={clearData:function(){b("PagesManagerDispatcher").dispatch({type:g.CLEAR_DATA})},initStore:function(a){b("PagesManagerDispatcher").dispatch({type:g.INIT_STORE,labels:a})},setLabel:function(a){b("PagesManagerDispatcher").dispatch({type:g.SET_LABEL,label:a})},deleteLabel:function(a){b("PagesManagerDispatcher").dispatch({type:g.DELETE_LABEL,name:a})}};e.exports={PagesManagerCustomLabelsActions:a,ActionTypes:g}}),null);
__d("PagesManagerCustomLabelsStore",["FluxReduceStore","PagesManagerCustomLabelsActions","PagesManagerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerCustomLabelsActions").ActionTypes,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({labels:b("immutable").Map([]),isInitialized:!1}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new h()};c.reduce=function(a,b){var c;switch(b.type){case g.CLEAR_DATA:return this.getInitialState();case g.INIT_STORE:return this.getInitialState().set("labels",b.labels).set("isInitialized",!0);case g.SET_LABEL:c=this.getState().labels.set(b.label.name,b.label);return a.set("labels",c);case g.DELETE_LABEL:c=this.getState().labels["delete"](b.name);return a.set("labels",c);default:return a}};c.getLabels=function(){return this.getState().labels};c.isInitialized=function(){return this.getState().isInitialized};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("CRMBanReportUserDialog.react",["fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=g._("Ban {name}?",[g._param("name",a.userName)]),d=g._("Are you sure you want to ban {name} from this Page? People who are banned can't post, comment, send messages or take other actions on your Page. They won't be notified.",[g._param("name",a.userName)]);a.isBanned&&(c=g._("Remove Ban from Page?"),d=g._("Removing {name}'s ban will allow them to post, comment, send messages and take other actions on your Page.",[g._param("name",a.userName)]));return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{label:a.isBanned?g._("Remove Ban"):g._("Ban"),onClick:a.onConfirm,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:c}),isShown:a.shown,label:"Create New Group",onHide:a.onHide,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{children:d})})})}e.exports=a}),null);
__d("CRMBlockIGUserConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("FDSModal.react"),{footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{label:g._("Block"),onClick:this.props.onConfirm,use:"primary"}),secondaryButton:a.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:this.props.onCancel})}),header:a.jsx(b("FDSModalHeader.react"),{title:g._("Block {username}?",[g._param("username",this.props.username)])}),isShown:this.props.shown,label:"Block Modal",onHide:this.props.onCancel,children:a.jsxs(b("FDSSection.react"),{children:[g._("They won't be able to find your profile, posts or story or send you messages on Instagram, and your conversation history will be removed. They won't be notified you blocked them."),a.jsx("br",{})," ",a.jsx("br",{}),this.props.isInbox?g._("If you unblock them on the Instagram app, your conversation will return to Inbox."):null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMClientContactsSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{title:b.title,subtitle:b.subtitle,uniqueID:b.uniqueID,uri:b.uri})||this;c.$CRMClientContactsSearchableEntry1=b.platform;return c}var c=b.prototype;c.getPlatform=function(){return this.$CRMClientContactsSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("CRMClientContactsRelaySearchSource.react",["AbstractRelaySearchSource","CRMClientContactsSearchableEntry","CRMClientListActions","RelayFBEnvironment","RelayModern","nullthrows","CRMClientContactsRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;function h(a,c,d){var e=g!==void 0?g:g=b("CRMClientContactsRelaySearchSourceQuery.graphql");return{query:e,variables:{search_term:c,count:d,pageID:a,cursor:null}}}function i(a){__p&&__p();a=(a=a)!=null?(a=a.page)!=null?(a=a.page_contacts)!=null?a.edges:a:a:a;if(!a)return[];b("CRMClientListActions").setContactSearchLoaded();return a.map(function(a){var c,d,e;a=b("nullthrows")(a.node);var f=b("nullthrows")(a.id);e=(e=(e=a)!=null?e.name:e)!=null?e:"";d=(d=(d=a)!=null?(d=d.ig_profile_info)!=null?d.username:d:d)!=null?d:"";c=(c=a)!=null?(c=c.profile_photo_uris)!=null?(c=c[0])!=null?c.uri:c:c:c;var g="FACEBOOK";a.ig_profile_info!==null&&(g="INSTAGRAM");return new(b("CRMClientContactsSearchableEntry"))({title:e,subtitle:d,uniqueID:f,uri:c,platform:g})}).filter(function(a){return a!==null})}function j(a,b){return b(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){return a.call(this,b("RelayFBEnvironment"),{bootstrapRequests:[],queryRequests:[{gen:function(a){return h(c,a,d)}}],packageFn:i,getAllForEmptyQuery:!0},j)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("CRMClientDetailsAddNoteMutation",["ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","RelayRuntime","CRMClientDetailsAddNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ClientIDs").getNewClientID,i=b("RelayRuntime").ConnectionHandler,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CRMClientDetailsAddNoteMutation.graphql");function l(a,b,c){b=a.get(b);if(!b)return;b=i.getConnection(b,"CRMClientDetailsNotesSection_contact_notes");if(!b)return;a=i.createEdge(a,b,c,"PageContactNotesEdge");b&&a&&i.insertEdgeBefore(b,a)}function a(a,c){__p&&__p();var d=function(b){__p&&__p();if(!a.pageContactID)return;var c=h();c=b.create(c,"TextWithEntities");c.setValue(a.body,"text");var d=h(),e=b.create(d,"PageAdminNote");e.setValue(d,"id");e.setLinkedRecord(c,"body");e.setValue(Date.now()/1e3,"timestamp");l(b,a.pageContactID,e)},e=function(b){if(!a.pageContactID)return;var c=b.getRootField("page_admin_note_create");if(!c)return;c=c.getLinkedRecord("note");c&&l(b,a.pageContactID,c)};return j(b("RelayFBEnvironment"),{mutation:k,optimisticUpdater:d,updater:e,variables:{input:{actor_id:b("RelayAPIConfig").actorID,body:{text:a.body},page_contact_id:a.pageContactID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CRMClientDetailsUpdateNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","CRMClientDetailsUpdateNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("CRMClientDetailsUpdateNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteId,body:{text:a.body}}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("PagesInboxThreadActionSystemDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("SavedResponsesConstants",[],(function(a,b,c,d,e,f){"use strict";a={editPanelViewMode:{LIST:"LIST",CREATE:"CREATE",EDIT:"EDIT",PERSONALIZE:"PERSONALIZE"},sortingKey:{LAST_USED:"LAST_USED",MOST_USED:"MOST_USED"},automatedSequenceDialogWidth:480,dialogMaxScrollableHeight:500,browsePanelAttachModeWidth:300,editPanelDialogWidth:600,flyoutDialogWidth:405,listItemImageHeight:60,listItemImageWidth:60,managementDialogWidth:600,automatedSequenceDialogRef:"automatedSequenceDialog",automatedSequenceItemRef:"automatedSequenceItem",flyoutDialogRef:"flyoutDialog",managementDialogRef:"managementDialog",replyItemRef:"replyItem",privacyPolicyURL:"https://www.pagename.com/privacy-policy"};e.exports=a}),null);
__d("PagesCreateSavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesCreateSavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesCreateSavedResponseMutation.graphql");function a(a,c,d,e,f,g,j){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{page_id:a,title:c,message:d,image_id:e,corresponding_question:f}},onCompleted:g,onError:j})}e.exports={commit:a}}),null);
__d("PagesDeleteSavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesDeleteSavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesDeleteSavedResponseMutation.graphql");function a(a,c,d){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{saved_response_id:a}},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("PagesEditSavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesEditSavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesEditSavedResponseMutation.graphql");function a(a,c,d,e,f,g){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{saved_response_id:a,title:c,message:d,new_image_id:e}},onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PagesApplySavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesApplySavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesApplySavedResponseMutation.graphql");function a(a){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{saved_response_id:a}}})}e.exports={commit:a}}),null);
__d("PagesManagerActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({LIST:{FETCH:"",FETCHED:"",UPDATED:"",LOAD_MORE:"",LOADING:"",PREVENT_SCROLL:"",SELECT:"",DESELECT_ALL:"",VIEW:"",INITIAL_VIEW:"",CLEAR_INITIAL_VIEW:"",SET_RESPONSE_DATA:"",CONTENT_SEARCH_SELECTED_INDEX:"",ITEM_FOLDER_CHANGE:"",TOGGLE_FOLDER_SELECTOR:"",TOGGLE_FILTER_SELECTOR:"",REMOVE_ITEM_FOLDER_CHANGE:"",BAN_STATUS_CHANGE:"",REMOVE_BAN_NOTICE:"",SET_THREAD_LABELS:"",SELECT_THREAD:"",BULK_SELECTION_TOGGLE:"",CLEAR_BULK_SELECTION:"",BULK_ACTION_RESULT:"",REMOVE_BULK_ACTION_RESULT:"",SET_INSTAGRAM_INBOX:"",LOADING_INSTAGRAM_INBOX:"",SET_INSTAGRAM_LOADING_ERROR:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:""},NAVIGATION_UNIT:{CHANGE:"",CHANGE_PLATFORM:"",CHANGE_UTL_FOLDER:"",NOTIFICATION_COUNT_CHANGE:""},FILTER_PANEL:{TOGGLE_PANEL:""},LAYOUT:{HEIGHT_CHANGE:"",LIST_HEIGHT_CHANGE:"",FOOTER_HEIGHT_CHANGE:"",HEADER_HEIGHT_CHANGE:"",LIST_HEADER_HEIGHT_CHANGE:""},SEARCH:{TOGGLE:"",CHANGE_TYPE:"",CHANGE_SEARCH_TERM:"",IS_SEARCHING_CHANGED:"",ADD_SEARCH_CUSTOM_TAG:"",REMOVE_SEARCH_CUSTOM_TAG:"",FETCH_CUSTOM_TAG_THREAD_COUNTS:"",UPDATE_CUSTOM_TAG_THREAD_COUNTS:"",SELECT_CUSTOMER:"",CLEAR:"",CUSTOMER_SEARCH_DONE:"",LABEL:""},CTA:{CTA_ID_FETCH_SUCCESS:"",CTA_ID_FETCH_ERROR:""},COMMENTS:{CHANGE_TAB:"",MARK_ALL_ITEMS_AS_READ:""}}));e.exports=a}),null);
__d("PagesManagerAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={viewListItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.VIEW,listItem:a})},clearViewListItem:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.VIEW,listItem:null})},setInitialViewItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.INITIAL_VIEW,item:a})},clearInitialViewItem:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW})},setLayoutHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE,layoutHeight:a})},setListNavigationHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE,height:a})},setFooterHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE,height:a})},setHeaderHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE,height:a})},setListHeaderHeight:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LAYOUT.LIST_HEADER_HEIGHT_CHANGE,height:a})},handleSelectionChange:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SELECT,rowsAdded:a,rowsRemoved:c,selectedRows:d})},handleSelectionMapChange:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SELECT,selectedRowsMap:a})},deselectAll:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.DESELECT_ALL})},toggleBulkSelectionMode:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.BULK_SELECTION_TOGGLE})},setThreadLabels:function(a,c){b("PagesManagerDispatcher").dispatch({selectedThreadLabels:a,currentThreadID:c,type:b("PagesManagerActionType").LIST.SET_THREAD_LABELS})},handleThreadSelectionChange:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SELECT_THREAD,threadID:a,toggle:c})},clearBulkSelection:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.CLEAR_BULK_SELECTION})},setBulkActionResult:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.BULK_ACTION_RESULT,result:a})},removeLastBulkActionResult:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_BULK_ACTION_RESULT})}};e.exports=a}),null);
__d("PagesManagerInboxActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({COMMENT:"",CONFIG_SET:"",FACEBOOK_POST:{LOADED:""},LIST:{MORE_LOADED:""},NUX:{DISMISS:"",HIDE:"",VIEW:""},IG_COMMENT:{DELETE_REPLY:"",REPLY:""},SWITCH_INTERFACE:{SWITCH_TO_OLD:""},CHANGE_NAV_MODE:"",IS_BIZ_KIT:""}));e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setInstagramInbox:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_INSTAGRAM_INBOX,instagramInbox:a})},setIsLoadingInbox:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.LOADING_INSTAGRAM_INBOX,isLoadingInbox:a})},setInstagramLoadingError:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_INSTAGRAM_LOADING_ERROR,hasError:a})}};e.exports=a}),null);
__d("PageCommItemActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DONE:null,FOLLOW_UP:null,UN_FOLLOW_UP:null,INBOX:null,MARK_READ:null,MARK_UNREAD:null,SPAM:null,DELETE:null,MORE:null});e.exports=a}),null);
__d("PagesManagerStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerStore6=null;c.$PagesManagerStore1=0;c.$PagesManagerStore2=0;c.$PagesManagerStore3=0;c.$PagesManagerStore4=[];c.$PagesManagerStore5=new Map();c.$PagesManagerStore8=0;c.$PagesManagerStore9=0;c.$PagesManagerStore10=0;c.$PagesManagerStore11=null;c.$PagesManagerStore12=b("immutable").Set();c.$PagesManagerStore13=!1;c.$PagesManagerStore14=null;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.VIEW:this.$PagesManagerStore6=a.listItem;this.__emitChange();break;case b("PagesManagerActionType").LIST.SELECT:this.$PagesManagerStore15(a);this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore2=a.layoutHeight;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE:this.$PagesManagerStore3=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE:this.$PagesManagerStore8=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE:this.$PagesManagerStore9=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.LIST_HEADER_HEIGHT_CHANGE:this.$PagesManagerStore10=a.height;this.__emitChange();break;case b("PagesManagerActionType").LIST.DESELECT_ALL:this.$PagesManagerStore15({selectedRowsMap:new Map()});this.__emitChange();break;case b("PagesManagerActionType").LIST.INITIAL_VIEW:this.$PagesManagerStore16(a.item);break;case b("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore7=null;break;case b("PagesManagerActionType").LIST.SET_THREAD_LABELS:var c=a.currentThreadID?a.currentThreadID:this.$PagesManagerStore6;if(c!==null&&c!==void 0)if(this.$PagesManagerStore11)this.$PagesManagerStore11=this.$PagesManagerStore11.set(c,a.selectedThreadLabels);else{var d={};d[c]=a.selectedThreadLabels;this.$PagesManagerStore11=b("immutable").Map(d)}this.__emitChange();break;case b("PagesManagerActionType").LIST.SELECT_THREAD:this.$PagesManagerStore17(a.threadID,a.toggle)&&this.__emitChange();break;case b("PagesManagerActionType").LIST.BULK_SELECTION_TOGGLE:this.$PagesManagerStore18();this.__emitChange();break;case b("PagesManagerActionType").LIST.CLEAR_BULK_SELECTION:this.$PagesManagerStore19()&&this.__emitChange();break;case b("PagesManagerActionType").LIST.BULK_ACTION_RESULT:this.$PagesManagerStore20(a.result);this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_BULK_ACTION_RESULT:this.$PagesManagerStore21()&&this.__emitChange();break;default:return}};d.$PagesManagerStore16=function(a){this.$PagesManagerStore7=a,this.$PagesManagerStore6=a};d.$PagesManagerStore15=function(a){__p&&__p();var b=this;if(Object.prototype.hasOwnProperty.call(a,"selectedRowsMap")){this.$PagesManagerStore5=a.selectedRowsMap;this.$PagesManagerStore4=Array.from(this.$PagesManagerStore5.keys());return}this.$PagesManagerStore4=a.selectedRows;a.rowsAdded.forEach(function(a){b.$PagesManagerStore5.set(a,!0)});a.rowsRemoved.forEach(function(a){b.$PagesManagerStore5.set(a,!1)})};d.$PagesManagerStore17=function(a,b){if(this.$PagesManagerStore12.has(a)!==b){this.$PagesManagerStore12=b?this.$PagesManagerStore12.add(a):this.$PagesManagerStore12.remove(a);return!0}return!1};d.$PagesManagerStore19=function(){if(!this.$PagesManagerStore12.isEmpty()){this.$PagesManagerStore12=this.$PagesManagerStore12.clear();return!0}return!1};d.$PagesManagerStore18=function(){this.$PagesManagerStore13=!this.$PagesManagerStore13,this.$PagesManagerStore13||(this.$PagesManagerStore12=b("immutable").Set())};d.$PagesManagerStore20=function(a){this.$PagesManagerStore14=a};d.$PagesManagerStore21=function(){this.$PagesManagerStore14=null};d.getLastBulkActionResult=function(){return this.$PagesManagerStore14};d.isBulkSelectionMode=function(){return this.$PagesManagerStore13};d.isThreadSelected=function(a){return this.$PagesManagerStore12.has(a)};d.getSelectedThreads=function(){return!b("PagesManagerInboxStore").shouldShowBulkActions()?b("immutable").Set():this.$PagesManagerStore12};d.getThreadLabelMap=function(){return this.$PagesManagerStore11};d.getViewingListItem=function(){return this.$PagesManagerStore6};d.getInitialViewingItem=function(){return this.$PagesManagerStore7};d.getLayoutHeight=function(){return this.$PagesManagerStore2};d.getListNavigationHeight=function(){return this.$PagesManagerStore3};d.getFooterHeight=function(){return this.$PagesManagerStore8};d.getHeaderHeight=function(){return this.$PagesManagerStore9};d.getListHeaderHeight=function(){return this.$PagesManagerStore10};d.getIsRowSelected=function(a){return this.$PagesManagerStore5.has(a)?this.$PagesManagerStore5.get(a):!1};d.getSelectedRows=function(){return this.$PagesManagerStore4};d.isSelectionMode=function(){return this.$PagesManagerStore4.length!==0};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("PagesManagerInboxFilterStore",["invariant","FluxStore","MediaManagerInboxUtils","MediaManagerUtils","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerMessagingLogger","PagesManagerMessagingNavigationUnitKey","QE2Logger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MediaManagerInboxUtils").MediaManagerInboxSpecificFolders,i="unified_inbox_instagram_comments_revamp",j="CUSTOM_TAG_",k="OWNER_";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxFilterStore1=b("PageCommItemFolder").TODO;c.$PagesManagerInboxFilterStore2="ALL";c.$PagesManagerInboxFilterStore3={id:null,photoURL:null,name:null};c.$PagesManagerInboxFilterStore4="MESSENGER";c.$PagesManagerInboxFilterStore5=!1;c.$PagesManagerInboxFilterStore6=!1;c.$PagesManagerInboxFilterStore7=!1;c.$PagesManagerInboxFilterStore8="";c.$PagesManagerInboxFilterStore9="CUSTOMER";c.$PagesManagerInboxFilterStore10=null;c.$PagesManagerInboxFilterStore11=[];c.$PagesManagerInboxFilterStore12=new Map();c.$PagesManagerInboxFilterStore13=!1;c.$PagesManagerInboxFilterStore14="all";c.$PagesManagerInboxFilterStore15=!1;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:var c=!1,d=!1;this.$PagesManagerInboxFilterStore4!==a.activeTypeFilter&&a.activeTypeFilter&&(c=!0);this.$PagesManagerInboxFilterStore4==="MESSENGER"&&a.activeFolderFilter&&this.$PagesManagerInboxFilterStore1!==a.activeFolderFilter&&(d=!0);c&&(b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(a.pageID,null,a.activeTypeFilter),a.activeTypeFilter==="INSTAGRAM"&&b("QE2Logger").logExposureForPage(i,a.pageID));d&&a.activeFolderFilter!==b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(a.pageID,a.activeFolderFilter,"new_message_tab");a.activeFolderFilter||a.activeTypeFilter||a.activeOwnerFilter||g(0,6210);a.activeFolderFilter&&(this.$PagesManagerInboxFilterStore1=a.activeFolderFilter,this.$PagesManagerInboxFilterStore4==="WEC"&&this.$PagesManagerInboxFilterStore1!==b("PageCommItemFolder").TODO&&(this.$PagesManagerInboxFilterStore4="MESSENGER"));a.activeTypeFilter&&(this.$PagesManagerInboxFilterStore4=a.activeTypeFilter);a.activeOwnerFilter&&(this.$PagesManagerInboxFilterStore3=a.activeOwnerFilter);this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_PLATFORM:c=a.activeTypeFilter;c!=null&&a.activeFolderFilter!==this.$PagesManagerInboxFilterStore4&&(this.$PagesManagerInboxFilterStore4=c,b("MediaManagerUtils").isMediaManagerApp()&&this.$PagesManagerInboxFilterStore1===b("PageCommItemFolder").PRIORITY&&!h(c).includes(b("PageCommItemFolder").PRIORITY)&&(this.$PagesManagerInboxFilterStore1=b("PageCommItemFolder").TODO));this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_UTL_FOLDER:this.$PagesManagerInboxFilterStore2=a.activeUTLFolder;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerInboxFilterStore8=a.searchTerm;this.$PagesManagerInboxFilterStore15=!0;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CUSTOMER_SEARCH_DONE:this.$PagesManagerInboxFilterStore15=!1;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER:this.$PagesManagerInboxFilterStore10=a.pageCustomerID;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CLEAR:this.$PagesManagerInboxFilterStore8="";this.$PagesManagerInboxFilterStore10=null;this.$PagesManagerInboxFilterStore9="CUSTOMER";this.$PagesManagerInboxFilterStore3={id:null,photoURL:null,name:null};this.$PagesManagerInboxFilterStore11=[];this.__emitChange();break;case b("PagesManagerActionType").SEARCH.TOGGLE:this.$PagesManagerInboxFilterStore5=a.targetStatus;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_TYPE:a.searchType!=="ADMIN"&&(this.$PagesManagerInboxFilterStore3={id:null,photoURL:null,name:null});this.$PagesManagerInboxFilterStore9=a.searchType;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:this.$PagesManagerInboxFilterStore8="";d=this.$PagesManagerInboxFilterStore11.findIndex(function(b){return b.name===a.label.name});d===-1&&this.$PagesManagerInboxFilterStore11.push(a.label);this.__emitChange();break;case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:c=this.$PagesManagerInboxFilterStore11.findIndex(function(b){return b.name===a.label.name});c!==-1&&(this.$PagesManagerInboxFilterStore11.splice(c,1),this.__emitChange());break;case b("PagesManagerActionType").LIST.TOGGLE_FOLDER_SELECTOR:this.$PagesManagerInboxFilterStore6=a.isFolderChangeActive;this.__emitChange();break;case b("PagesManagerActionType").LIST.TOGGLE_FILTER_SELECTOR:this.$PagesManagerInboxFilterStore7=a.isFilterChangeActive;this.__emitChange();break;case b("PagesManagerActionType").COMMENTS.CHANGE_TAB:this.$PagesManagerInboxFilterStore14=a.tab;this.__emitChange();break;case b("PagesManagerActionType").COMMENTS.MARK_ALL_ITEMS_AS_READ:this.$PagesManagerInboxFilterStore12.set(this.$PagesManagerInboxFilterStore4,a.commentsLastMarkAsReadTimeStamp);this.__emitChange();break}};d.setIsNewFolder=function(a){this.$PagesManagerInboxFilterStore13=a};d.getCurrentSearchCustomLabels=function(){return this.$PagesManagerInboxFilterStore11.map(function(a){return new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a)})};d.getIsFolderChangeActive=function(){return this.$PagesManagerInboxFilterStore6};d.getIsFilterChangeActive=function(){return this.$PagesManagerInboxFilterStore7};d.getActiveType=function(){return this.$PagesManagerInboxFilterStore4};d.getActiveFolder=function(){return this.$PagesManagerInboxFilterStore1};d.getActiveUTLFolder=function(){return this.$PagesManagerInboxFilterStore2};d.getActiveOwner=function(){return this.$PagesManagerInboxFilterStore3};d.getIsPeopleSearchLoading=function(){return this.$PagesManagerInboxFilterStore15};d.getActiveMessageFolder=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.INBOX;case b("PageCommItemFolder").SPAM:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.SPAM;case b("PageCommItemFolder").DONE:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED;default:g(0,6211)}};d.getActiveMessageFilter=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").SPAM:case b("PageCommItemFolder").DONE:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.ALL;case b("PageCommItemFolder").UNREAD:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.UNREAD;default:g(0,6211)}};d.$PagesManagerInboxFilterStore16=function(){return this.$PagesManagerInboxFilterStore11.length===0?null:j+JSON.stringify(this.$PagesManagerInboxFilterStore11.map(function(a){return a.name}).sort())};d.$PagesManagerInboxFilterStore17=function(){return this.$PagesManagerInboxFilterStore3.id===null?null:k+String(this.$PagesManagerInboxFilterStore3.id)};d.getActiveFilter=function(){return this.$PagesManagerInboxFilterStore17()||this.$PagesManagerInboxFilterStore16()||this.getActiveMessageFilter()};d.getSearchTerm=function(){return this.$PagesManagerInboxFilterStore8};d.getPageCustomerID=function(){return this.$PagesManagerInboxFilterStore10};d.getIsSearchActive=function(){return this.$PagesManagerInboxFilterStore5};d.getSearchType=function(){return this.$PagesManagerInboxFilterStore9};d.getIsNewFolder=function(){return this.$PagesManagerInboxFilterStore13};d.getCommentsTab=function(){return this.$PagesManagerInboxFilterStore14};d.getLastMarkedAsReadTimestamp=function(){var a;return(a=this.$PagesManagerInboxFilterStore12.get(this.$PagesManagerInboxFilterStore4))!=null?a:0};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxStore",["invariant","FluxStore","HistoryManager","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterStore","PagesManagerInboxNUX","PagesManagerStore","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="selected_item_id",j="mailbox_id",k="platform",l="page_inbox_instagram_direct_upsell";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxStore4={};c.$PagesManagerInboxStore5=0;c.$PagesManagerInboxStore6=!1;c.$PagesManagerInboxStore7="messages";c.$PagesManagerInboxStore8=!1;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerInboxActionType").CONFIG_SET:this.$PagesManagerInboxStore1=a.config;this.$PagesManagerInboxStore2=a.businessInboxConfig;this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.VIEW:a.nuxID!==b("PagesManagerInboxNUX")[l]&&(this.$PagesManagerInboxStore3=a.nuxID);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.DISMISS:this.$PagesManagerInboxStore4[a.nuxID]=!0;this.$PagesManagerInboxStore3===a.nuxID&&(this.$PagesManagerInboxStore5++,this.$PagesManagerInboxStore3=null);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.HIDE:this.$PagesManagerInboxStore3=null;this.$PagesManagerInboxStore5++;this.__emitChange();break;case b("PagesManagerActionType").LIST.VIEW:b("PagesManagerDispatcher").waitFor([b("PagesManagerStore").getDispatchToken()]);this.$PagesManagerInboxStore9(a.listItem);break;case b("PagesManagerInboxActionType").COMMENT:this.$PagesManagerInboxStore6=!0;this.__emitChange();break;case b("PagesManagerInboxActionType").CHANGE_NAV_MODE:this.$PagesManagerInboxStore7=a.navMode;this.__emitChange();break;case b("PagesManagerInboxActionType").IS_BIZ_KIT:this.$PagesManagerInboxStore8=a.isInBizKit;this.__emitChange();break}};d.getCurrentNavMode=function(){return this.$PagesManagerInboxStore7};d.hasCommented=function(){return this.$PagesManagerInboxStore6};d.getIsMultiAdminEnabled=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().platformConfigs.MESSENGER.admins.length>1;a=(a=this.getBusinessInboxAppConfig())==null?void 0:a.pageConfig;return a==null?!1:a.admins.length>1};d.getPageID=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().pageID;else{return(a=a.pageConfig)==null?void 0:a.pageID}};d.getMailboxID=function(a){__p&&__p();a===void 0&&(a="MESSENGER");var b=this.getBusinessInboxAppConfig();if(b!=null){var c=null;switch(a){case"INSTAGRAM":c=b.instagramConfig;break;case"INSTAGRAM_DIRECT":c=b.instagramDirectConfig;break;case"MESSENGER":case"FACEBOOK":c=b.messengerConfig;break;case"WEC":c=b.wecConfig;break}c!=null||g(0,19861,a);return c.mailboxID}else return this.getConfig().platformConfigs[a].mailboxID};d.getConfig=function(){this.$PagesManagerInboxStore1||g(0,5991);return this.$PagesManagerInboxStore1};d.getBusinessInboxAppConfig=function(){return this.$PagesManagerInboxStore2};d.getBusinessInboxAppConfigNonNull=function(){this.$PagesManagerInboxStore2!=null||g(0,5991);return this.$PagesManagerInboxStore2};d.isInBizKit=function(){return Boolean(this.$PagesManagerInboxStore8)};d.shouldShowBulkActions=function(){var a=this.getBusinessInboxAppConfig();if(a!=null){return Boolean((a=a.messengerConfig)==null?void 0:(a=a.commerceConfig)==null?void 0:a.shouldShowBulkSelection)}else{a=(a=this.$PagesManagerInboxStore1)==null?void 0:a.platformConfigs.MESSENGER;return Boolean(a==null?void 0:a.showBulkSelection)}};d.shouldAllowBulkDelete=function(){var a;a=(a=this.$PagesManagerInboxStore1)==null?void 0:a.platformConfigs.MESSENGER;return Boolean(a==null?void 0:a.shouldAllowBulkDelete)};d.shouldShowNUX=function(a){var c=b("PagesManagerInboxNUX")[a];c||g(0,5992,a);var d=this.getBusinessInboxAppConfig();return d!=null?d.nuxConfig==null?!1:d.nuxConfig[a]&&!this.$PagesManagerInboxStore4[c]&&(!this.$PagesManagerInboxStore3||this.$PagesManagerInboxStore3===c):this.getConfig().nuxConfig[a]&&!this.$PagesManagerInboxStore4[c]&&(!this.$PagesManagerInboxStore3||this.$PagesManagerInboxStore3===c)};d.getBadgeCounts=function(){__p&&__p();var a=this.getBusinessInboxAppConfig();if(a!=null){var b=a.validPlatformTypes,c={};b.forEach(function(b){__p&&__p();switch(b){case"MESSENGER":c.MESSENGER=(b=(b=a.messengerConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"FACEBOOK":c.FACEBOOK=(b=(b=a.facebookConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"INSTAGRAM":c.INSTAGRAM=(b=(b=a.instagramConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"INSTAGRAM_DIRECT":c.INSTAGRAM_DIRECT=(b=(b=a.instagramDirectConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"WEC":c.WEC=(b=(b=a.wecConfig)==null?void 0:b.badgeCount)!=null?b:0;break}});return c}else return this.getConfig().badgeCounts};d.$PagesManagerInboxStore9=function(a){var c=new(h||(h=b("URI")))(window.location.href);if(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);var d=b("PagesManagerInboxFilterStore").getActiveType();d=this.getMailboxID(d);c.addQueryData(j,d).addQueryData(i,a).removeQueryData(k)}else c.removeQueryData(i);b("HistoryManager").go(c.toString(),!1,!0)};d.getPageAdmins=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().platformConfigs.MESSENGER.admins;else{a=a.pageConfig;return a==null?void 0:a.admins}};d.getPageName=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().pageName;else{return(a=a.pageConfig)==null?void 0:a.pageName}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerLogger",["FBLogger","PagesAdminToolUIActionType","PagesEventObserver","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Map;var g=a(b("PagesAdminToolUIActionType")).toArray();c=function(){__p&&__p();function a(){}var c=a.prototype;c.$1=function(a){if(g.indexOf(a)<0){b("FBLogger")("pages").mustfix("Invalid PagesAdminToolUIActionType: %s",a);return!1}return!0};c.$2=function(a,c,d,e){if(!this.$1(c))return;e=e||{};e.action_type=c;b("PagesEventObserver").notify(a,d,e)};c.logContextCardUIAction=function(a,b,c){this.$2("pages_admin_tool_context_card_ui_action",a,b,c)};c.logManageTagUIAction=function(a,b,c){this.$2("pages_admin_tool_manage_tag_ui_action",a,b,c)};c.logMessageInboxUIAction=function(a,b,c){this.$2("pages_admin_tool_message_inbox_ui_action",a,b,c)};c.logHovercardUIAction=function(a,b,c){this.$2("pages_admin_tool_hovercard_ui_action",a,b,c)};return a}();e.exports=new c()}),null);
__d("PagesManagerInboxFilterAction",["IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerActionType","PagesManagerDispatcher","PagesManagerMessagingThreadlistAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={changeFolder:function(a,c,d){c!==b("PageCommItemFolder").INSTAGRAM_THREADS&&c!==b("PageCommItemFolder").MESSENGER_THREADS&&d==="INSTAGRAM_DIRECT"&&b("PageCommItemStatusUtil").getFolderQECheck()&&b("IGMessageDataMutateAction").forceFetchInbox(a,20,b("PageCommItemStatusUtil").getIGDirectFolder(c),!1,!1,null),b("PagesManagerDispatcher").dispatch({activeFolderFilter:c,pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeOwner:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({activeOwnerFilter:{id:c,photoURL:d,name:e},pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeType:function(a,c){b("PagesManagerDispatcher").dispatch({activeTypeFilter:c,pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeSearchTerm:function(a){b("PagesManagerDispatcher").dispatch({searchTerm:a,type:b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM})},selectCustomer:function(a){b("PagesManagerDispatcher").dispatch({pageCustomerID:a,type:b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER})},changePlatform:function(a,c){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&a==="INSTAGRAM_DIRECT"&&b("PageCommItemStatusUtil").getFolderQECheck()&&c!=null&&b("IGMessageDataMutateAction").forceFetchInbox(c,20,b("PageCommItemFolder").TODO,!1,!1,null),b("PagesManagerDispatcher").dispatch({activeTypeFilter:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_PLATFORM})},changeActiveUTLFolder:function(a){b("PagesManagerDispatcher").dispatch({activeUTLFolder:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_UTL_FOLDER})},clearSearch:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").SEARCH.CLEAR})},toggleSearch:function(a){b("PagesManagerDispatcher").dispatch({targetStatus:a,type:b("PagesManagerActionType").SEARCH.TOGGLE})},changeSearchType:function(a){b("PagesManagerDispatcher").dispatch({searchType:a,type:b("PagesManagerActionType").SEARCH.CHANGE_TYPE})},addCustomLabel:function(a,c){b("PagesManagerDispatcher").dispatch({label:a,pageID:c,type:b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG})},removeCustomLabel:function(a,c){b("PagesManagerDispatcher").dispatch({label:a,pageID:c,type:b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG})},toggleFolderSelector:function(a){b("PagesManagerDispatcher").dispatch({isFolderChangeActive:a,type:b("PagesManagerActionType").LIST.TOGGLE_FOLDER_SELECTOR})},toggleFilterSelector:function(a){b("PagesManagerDispatcher").dispatch({isFilterChangeActive:a,type:b("PagesManagerActionType").LIST.TOGGLE_FILTER_SELECTOR})},updateCommentsTab:function(a){b("PagesManagerDispatcher").dispatch({tab:a,type:b("PagesManagerActionType").COMMENTS.CHANGE_TAB})},setMarkAllCommentsAsReadTimestamp:function(a){b("PagesManagerDispatcher").dispatch({commentsLastMarkAsReadTimeStamp:a,type:b("PagesManagerActionType").COMMENTS.MARK_ALL_ITEMS_AS_READ})},setPeopleSearchLoaded:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").SEARCH.CUSTOMER_SEARCH_DONE})}};e.exports=a}),null);
__d("PagesManagerInboxAction",["PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerStore","MediaManagerInboxQEUtils","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("PagesManagerInboxFilterStore");b("PagesManagerInboxStore");b("PagesManagerStore");a={initialConfig:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({config:c,businessInboxConfig:d,type:b("PagesManagerInboxActionType").CONFIG_SET}),b("MediaManagerUtils").isMediaManagerApp()?b("MediaManagerInboxQEUtils").shouldShowMessengerRanking()&&c.priorityBadgeCounts!=null&&c.priorityBadgeCounts.MESSENGER>0?b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").PRIORITY):b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").TODO):e?(b("PagesManagerInboxFilterAction").changeType(a,e.platform),b("PagesManagerInboxFilterAction").changeFolder(a,e.folder),b("PagesManagerAction").viewListItem(e.id)):c.platformConfigs[c.defaultPlatform].defaultFolder===b("PageCommItemFolder").UNREAD&&b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").UNREAD)},initialBusinessInboxConfig:function(a,c){b("PagesManagerDispatcher").dispatch({businessInboxConfig:a,type:b("PagesManagerInboxActionType").CONFIG_SET});a=(a=a.pageConfig)==null?void 0:a.pageID;c&&a!=null&&(b("PagesManagerInboxFilterAction").changeType(a,c.platform),b("PagesManagerInboxFilterAction").changeFolder(a,c.folder),b("PagesManagerAction").viewListItem(c.id))},comment:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").COMMENT})},setNavMode:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").CHANGE_NAV_MODE,navMode:a})},setIsInBizKit:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IS_BIZ_KIT,isInBizKit:a})}};e.exports=a}),null);
__d("SavedResponsesUtils",["invariant","PageAutomationTrigger","PagesApplySavedResponseMutation","PagesManagerInboxAction","PagesMarketingAutomationActions","RelayFBEnvironment","RelayModern","SavedResponsesConstants","promiseDone","SavedResponsesUtilsTokenQuery.graphql","SavedResponsesUtilsSavedResponseQuery.graphql","SavedResponsesUtilsAutomatedCheckoutQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;a={generateImageMetadata:function(a){return{id:a,filename:"Photo.jpg",image_id:a,filetype:"image/jpeg"}},fetchSavedResponseTokens:function(a,c,d,e,f){b("promiseDone")(k(b("RelayFBEnvironment"),h!==void 0?h:h=b("SavedResponsesUtilsTokenQuery.graphql"),{pageID:a,userID:c,threadID:d,platform:e}),function(a){a=((a=a)!=null?(a=a.page)!=null?(a=a.admin_info)!=null?(a=a.saved_response_macros)!=null?a.edges:a:a:a:a)||[];a=a.reduce(function(a,b){b=b.node;a[b.title]={description:b.description,example:b.example,key:b.key,instagramDescription:b.instagram_description,name:b.title,value:b.value};return a},{});f(a)})},fetchSavedResponse:function(a,c){__p&&__p();var d=this;b("promiseDone")(k(b("RelayFBEnvironment"),i!==void 0?i:i=b("SavedResponsesUtilsSavedResponseQuery.graphql"),{pageID:a}),function(a){__p&&__p();a=((a=a)!=null?(a=a.page)!=null?(a=a.admin_info)!=null?(a=a.saved_responses)!=null?a.edges:a:a:a:a)||[];a=a.map(function(a){a=a.node;var b=null;if(a.response_image){var c=a.response_image.filename.slice(6);b={id:c,filename:"",image_id:c,filetype:a.response_image.image.mime_type,url:a.response_image.url}}return{id:a.id,title:a.response_title,message:a.response_message,image:b,usageCount:a.usage_count,lastTimeUsed:a.last_time_used}});a=d.sortSavedResponses(a,b("SavedResponsesConstants").sortingKey.MOST_USED);c(a)})},fetchCheckoutForSavedResponse:function(a,c){b("promiseDone")(k(b("RelayFBEnvironment"),j!==void 0?j:j=b("SavedResponsesUtilsAutomatedCheckoutQuery.graphql"),{pageID:a}),function(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.automated_responses_settings)!=null?a.eligible_automations:a:a:a;if(!a||a.length===0)return;a.forEach(function(a){var d=b("PageAutomationTrigger")[a.trigger];!!d&&d==="automated_checkout"&&c(a.id)})})},sortSavedResponses:function(a,c){switch(c){case b("SavedResponsesConstants").sortingKey.LAST_USED:return a.slice().sort(function(a,b){return b.lastTimeUsed-a.lastTimeUsed});case b("SavedResponsesConstants").sortingKey.MOST_USED:return a.slice().sort(function(a,b){return b.usageCount-a.usageCount});default:g(0,5738)}},notifySavedResponseApplied:function(a){b("PagesApplySavedResponseMutation").commit(a.id)},extraMacrosFromSavedResponse:function(a){var b=/\{{(.*?)\}}/g;b=(a=a.match(b))!=null?a:[];return b.map(function(a){return a.substr(2,a.length-4)})},isValidShortcut:function(a){return a.trim().length>=3},checkHasMatchingShortcut:function(a,b){var c=a.toLowerCase();return b&&b.some(function(a){return((a=a.title)!=null?a:"").toLowerCase().indexOf(c)===0})},editAutomatedCheckout:function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0),b("PagesMarketingAutomationActions").updateAutomationType("automated_checkout"),b("PagesManagerInboxAction").setNavMode("automated_responses")}};e.exports=a}),null);
__d("SavedResponsesAllPersonalizationView.react",["cx","fbt","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return a.shouldShowSavedReplyInIG&&a.macro.instagramDescription!==null&&a.selectedMacroKey===a.macro.name?b("React").jsx("div",{className:"_8vni",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.macro.instagramDescription})}):b("React").jsx("div",{})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this;return b("React").jsx("div",{className:"_7t8c",children:b("React").jsx(b("FDSRadioList.react"),{onChange:this.props.onMacroSelected,value:this.props.selectedMacroKey,children:Object.keys(this.props.macros).map(function(c){var d,e=a.props.macros[c],f=(d=b("React")).jsx(b("FDSText.react"),{size:"body1",children:e.key});return d.jsxs("div",{className:"_7t8f",children:[d.jsx("div",{className:"_8jl-",children:d.jsx(b("FDSRadioListItem.react"),{label:f,value:c},c)}),d.jsx(i,{macro:e,selectedMacroKey:a.props.selectedMacroKey,shouldShowSavedReplyInIG:a.props.shouldShowSavedReplyInIG})]},c)})})})};d.render=function(){var a;return(a=b("React")).jsx("div",{className:this.props.className,children:a.jsxs("div",{className:"_84mv",children:[a.jsx("div",{className:"_7t7g",children:h._("Personalize your saved reply each time with information about your Page or the person you're talking to.")}),a.jsx(b("ScrollableArea.react"),{fade:!0,maxHeight:265,shadow:!0,children:a.jsx("div",{className:"_7t8c",children:this.$1()})})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesActionButton.react",["cx","Image.react","React","ShimButton.react","XUIGrayText.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_uvx",this.props.className);return b("React").jsxs(b("ShimButton.react"),{className:a,onClick:this.props.onClick,children:[b("React").jsx(b("Image.react"),{src:this.props.image,className:"_uvy"}),b("React").jsx(b("XUIGrayText.react"),{shade:"medium",className:"_uvz",children:this.props.label})]})};return c}(b("React").Component);a.propTypes={image:b("prop-types").object.isRequired,label:b("prop-types").string.isRequired,onClick:b("prop-types").func.isRequired};e.exports=a}),null);
__d("SavedResponsesImage.react",["cx","ActorURI","AsyncRequest","Image.react","LoadingIndicator.react","React","XPagesSavedResponseImagePreviewController","XUICloseButton.react","isEmpty","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={imageUrl:null,isFetchingThumbnail:!1};b.$1=null;return b}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.imageID!==this.props.imageID&&this.$2(a.imageID)};d.componentDidMount=function(){this.props.imageID&&this.$2(this.props.imageID)};d.componentWillUnmount=function(){this.$1&&this.$1.abort&&(this.$1.abort(),this.$1=null)};d.render=function(){if(!this.$3()&&!this.state.imageUrl)return null;var a="_3mgf";this.$3()?a=b("joinClasses")(a,this.props.loadingClassName):a=b("joinClasses")(a,this.props.displayClassName);return b("React").jsx("div",{className:this.props.className,children:b("React").jsx("div",{className:a,children:this.$4()})})};d.$2=function(a){__p&&__p();var c=this;if((h||(h=b("isEmpty")))(a)){this.setState({imageUrl:null});return}this.setState({isFetchingThumbnail:!0});var d=b("XPagesSavedResponseImagePreviewController").getURIBuilder().getURI();d=b("ActorURI").create(d,this.props.pageID);this.$1=new(b("AsyncRequest"))();this.$1.setURI(d).setHandler(function(a){return c.$5(a)}).setMethod("POST").setData({image_id:a,target_width:this.props.width,target_height:this.props.height}).send()};d.$3=function(){return this.state.isFetchingThumbnail||!!this.props.isUploading};d.$4=function(){if(this.props.isUploading||this.state.isFetchingThumbnail)return b("React").jsx(b("LoadingIndicator.react"),{className:"_3mgg",color:"white",size:"medium"});else if(this.state.imageUrl)return b("React").jsxs("div",{children:[b("React").jsx(b("XUICloseButton.react"),{className:"_3mgn"+(this.props.shouldShowCloseButton?"":" hidden_elem"),onClick:this.props.onClose,size:"medium"}),b("React").jsx(b("Image.react"),{src:this.state.imageUrl})]});else return null};d.$5=function(a){this.setState({imageUrl:a.payload.url,isFetchingThumbnail:!1})};return c}(b("React").PureComponent);a.propTypes={displayClassName:(c=b("prop-types")).string.isRequired,height:c.number.isRequired,imageID:c.string,isUploading:c.bool,loadingClassName:c.string.isRequired,onClose:c.func,pageID:c.string.isRequired,shouldShowCloseButton:c.bool.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("SavedResponsesImageUploader.react",["cx","ChatFileUploaderMixin","Image.react","MercuryConfig","MercuryFileUploader","React","ReactDOM","SavedResponsesUtils","URI","XUIGrayText.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("createReactClass_DEPRECATED")({displayName:"SavedResponsesImageUploader",mixins:[b("ChatFileUploaderMixin")],propTypes:{image:(a=b("prop-types")).object.isRequired,label:a.string.isRequired,pageID:a.string,imagesOnly:a.bool},componentDidMount:function(){this._fileUploader=new(b("MercuryFileUploader"))(this.props.attachmentsShelf,b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID)),this.props.imageID&&this._fileUploader.addCachedAttachments([b("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]),this.setUpSubscriptionsHandler(this._fileUploader)},getActionURI:function(){return this.props.pageID?new(h||(h=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",this.props.pageID).toString():b("MercuryConfig").upload_url},getDefaultProps:function(){return{pageID:null}},componentDidUpdate:function(a,c){this.props.imageID&&(this._fileUploader.removeAttachments(),this._fileUploader.addCachedAttachments([b("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]))},render:function(){var a,c=b("joinClasses")("_uvx",this.props.className);return(a=b("React")).jsxs("form",{action:this.getActionURI(),className:c,method:"post",ref:"form",children:[a.jsx("input",{name:"attach_id",ref:"attachID",type:"hidden"}),a.jsxs("div",{className:"_4q60",children:[a.jsxs("div",{className:"_4q61 _2d_p",children:[a.jsx(b("Image.react"),{className:"_uvy",src:this.props.image}),a.jsx(b("XUIGrayText.react"),{className:"_uvz",shade:"medium",children:this.props.label})]}),a.jsx("input",{accept:this.props.imagesOnly?"image/jpg, image/png":"*",className:"_2d_q",name:"attachment[]",ref:"input",type:"file"})]})]})}});e.exports=c}),null);
__d("SavedResponsesEditResponseContentView.react",["ix","cx","fbt","AbstractTextArea.react","FDSText.react","MacroInput.react","React","SavedResponsesActionButton.react","SavedResponsesImage.react","SavedResponsesImageUploader.react","ScrollableArea.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=320,k=170;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.uploadHandler.onUploadStarted()},c.$2=function(){c.props.uploadHandler.onUploadFinished()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){var a=this,c=this.props.responseImageID!==""?i._("Change Photo"):i._("Add Photo"),d=this.props.editorState.getCurrentContent().getPlainText().length;return b("React").jsxs("div",{className:"_57ho",children:[b("React").jsxs("div",{children:[b("React").jsx("span",{className:"_7t8g",children:b("React").jsx(b("SavedResponsesImageUploader.react"),{className:"_3-8v",image:g("583685"),imagesOnly:!0,label:c,onFileUploaderMounted:function(b){return a.props.uploadHandler.onUploaderMounted(b)},onSubmit:this.$1,onUploadFinished:this.$2,pageID:this.props.pageID})}),b("React").jsx("span",{className:"_7t8g",children:b("React").jsx(b("SavedResponsesActionButton.react"),{className:"_3-8v",image:g("541612"),label:i._("Add Personalization"),onClick:this.props.onPersonalize})})]}),b("React").jsxs("span",{className:"_8e33"+(d>1e3?" _8e34":""),children:[d," / ",this.props.characterLimit]})]})};d.render=function(){var a=this,c="macroInput",d=this.props.isSavedReplyNewUI?i._("Shortcut (Required)"):i._("Enter reply title"),e=i._("Write a message...");return b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx("div",{className:"_1vw8",children:b("React").jsx(b("ScrollableArea.react"),{maxHeight:25,children:b("React").jsx(b("AbstractTextArea.react"),{className:"_4451",onChange:function(b){return a.props.onTitleChange(b.target.value)},placeholder:d,value:this.props.responseTitle})})}),this.props.isSavedReplyNewUI?b("React").jsx("div",{className:"_1vw8",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i._("Use a shortcut to find this saved reply later and easily insert it into a conversation. Shortcuts must be at least 3 characters.")})}):null,b("React").jsx("div",{children:b("React").jsxs(b("ScrollableArea.react"),{fade:!0,maxHeight:this.props.isSavedReplyNewUI?k:j,children:[b("React").jsx(b("MacroInput.react"),{className:"_3jv6",editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:e,readOnly:!1,ref:c}),b("React").jsx(b("SavedResponsesImage.react"),{className:"_57hh",displayClassName:"_57hn",height:250,imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",onClose:this.props.onDeleteImage,pageID:this.props.pageID,shouldShowCloseButton:!0,width:250})]})}),this.$3()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesFooterButton.react",["cx","Image.react","React","XUIButton.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:"_3-8i"+(this.props.isHidden?" hidden_elem":""),size:"large",label:this.props.label,onClick:this.props.onClick,use:this.props.use,image:this.props.image?b("React").jsx(b("Image.react"),{src:this.props.image}):null}))};return c}(b("React").Component);a.propTypes={image:(c=b("prop-types")).object,isHidden:c.bool,label:c.string.isRequired,onClick:c.func.isRequired,use:c.oneOf(["default","special","confirm"])};a.defaultProps={use:"default",isHidden:!1};e.exports=a}),null);
__d("SavedResponsesImageUploadHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.onUploaderMounted=function(a){this.$3=a};b.onUploadFinished=function(){if(!this.$3)return;var a=this.$3.getImageFiles();a=a.pop().toString();this.$2(a)};b.onUploadStarted=function(){this.$1()};return a}();e.exports=a}),null);
__d("SavedResponsesMacroDetailView.react",["cx","fbt","React","ScrollableArea.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.macro;return!a?null:b("React").jsx(b("ScrollableArea.react"),{fade:!0,shadow:!0,children:b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_tpd",children:a.key}),b("React").jsx("div",{className:"_tpe",children:a.description}),b("React").jsx("div",{className:"_tpf",children:h._("Example")}),b("React").jsx("div",{className:"_tpg",children:a.example})]})})};return c}(b("React").Component);a.propTypes={macro:(c=b("prop-types")).shape({description:c.string.isRequired,example:c.string.isRequired,key:c.string.isRequired,name:c.string.isRequired,value:c.string.isRequired})};e.exports=a}),null);
__d("SavedResponsesMacroListItem.react",["cx","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={isHover:!1};return b}var d=c.prototype;d.render=function(){var a=this;return b("React").jsxs("div",{className:"_5y_z","data-id":this.props.macro.key,onClick:function(){return a.$1()},onMouseOut:function(){return a.$2()},onMouseOver:function(){return a.$3()},role:"presentation",children:[b("React").jsx("div",{className:"_5y__",children:this.props.macro.key}),b("React").jsx("div",{className:"_5z00"+(this.state.isHover?"":" hidden_elem"),children:b("React").jsx(b("Image.react"),{src:h("94789")})})]})};d.$3=function(){this.props.onHover(this.props.macro),this.setState({isHover:!0})};d.$2=function(){this.setState({isHover:!1})};d.$1=function(){this.props.onSelect(this.props.macro)};return c}(b("React").Component);a.propTypes={macro:(c=b("prop-types")).shape({key:c.string.isRequired,value:c.string.isRequired}).isRequired,onHover:c.func.isRequired,onSelect:c.func.isRequired};e.exports=a}),null);
__d("SavedResponsesMacroListView.react",["React","SavedResponsesMacroListItem.react","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("ul",{children:this.$1()})};d.$1=function(){var a=[];for(var c in this.props.macros){var d=this.props.macros[c];a.push(b("React").jsx(b("SavedResponsesMacroListItem.react"),{macro:d,onHover:this.props.onMacroHover,onSelect:this.props.onMacroSelected},c))}return a};return c}(b("React").Component);a.propTypes={macros:b("prop-types").object.isRequired,onMacroHover:b("prop-types").func.isRequired,onMacroSelected:b("prop-types").func.isRequired};e.exports=a}),null);
__d("SavedResponsesMacroBrowseView.react",["cx","fbt","Grid.react","React","prop-types","SavedResponsesFooterButton.react","SavedResponsesMacroDetailView.react","SavedResponsesMacroListView.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("Grid.react").GridItem;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={activeMacro:null};return b}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[this.renderBodyPart(),b("React").jsx("div",{className:"_3ohz",children:this.renderFooterPart()})]})};d.renderBodyPart=function(){var a=this,c,d=b("joinClasses")("_552a",this.props.className);return(c=b("React")).jsx("div",{className:d,children:c.jsxs(b("Grid.react"),{cols:2,spacing:"none",className:"_552b",children:[c.jsxs(i,{className:"_552c",children:[c.jsx("div",{className:"_552d"}),c.jsx(b("ScrollableArea.react"),{fade:!0,shadow:!0,children:c.jsx("div",{className:"_2t-k",children:c.jsx(b("SavedResponsesMacroListView.react"),{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:function(b){return a.$1(b)}})})})]}),c.jsx(i,{className:"_552e",children:c.jsx(b("SavedResponsesMacroDetailView.react"),{macro:this.state.activeMacro})})]})})};d.renderFooterPart=function(){var a=h._("Cancel");return b("React").jsx("div",{children:b("React").jsx("div",{className:"_552g",children:b("React").jsx(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.props.onCancel})})})};d.$1=function(a){this.setState({activeMacro:a})};return c}(b("React").Component);a.propTypes={macros:b("prop-types").object.isRequired,onCancel:b("prop-types").func.isRequired,onMacroSelected:b("prop-types").func.isRequired};e.exports=a}),null);
__d("SavedResponsesPanel.react",["cx","fbt","ix","Image.react","React","ShimButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogTitle.react","XUIGrayText.react","asset","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=h._("Close");return b("React").jsx(b("XUICloseButton.react"),{className:"_2rpe",label:a,onClick:this.props.onClose,shade:"dark",size:"medium",title:a,type:"button"})};d.render=function(){return b("React").jsxs("div",{className:this.props.className,children:[b("React").jsxs(b("XUIDialogTitle.react"),{className:"_3alh"+(this.props.isSavedReplyNewUI?" _7r7a":""),showCloseButton:!1,children:[b("React").jsxs("div",{className:"_2rp7",children:[b("React").jsx(b("ShimButton.react"),{className:"_2rp8"+(this.props.shouldShowBackButton?"":" hidden_elem"),onClick:this.props.onBackButtonClicked,children:this.props.isSavedReplyNewUI?b("React").jsx(b("Image.react"),{className:"_81wx",src:i("952225")}):b("React").jsxs("div",{children:[b("React").jsx(b("Image.react"),{className:"_2rp9",src:i("76048")}),b("React").jsx(b("XUIGrayText.react"),{className:"_2rpa",shade:"light",children:this.props.backButtonLabel}),b("React").jsx("div",{className:"_2rpb"})]})}),b("React").jsx("span",{className:"_5hp9",children:this.props.title})]}),this.props.isSavedReplyNewUI?null:this.$1()]}),b("React").jsx(b("XUIDialogBody.react"),{className:"_2rpc",children:this.props.children})]})};return c}(b("React").Component);a.propTypes={backButtonLabel:(c=b("prop-types")).string,onBackButtonClicked:c.func,onClose:c.func.isRequired,shouldShowBackButton:c.bool,title:c.string.isRequired};a.defaultProps={backButtonLabel:null,onBackButtonClicked:b("emptyFunction"),shouldShowBackButton:!1};e.exports=a}),null);
__d("MacroSpan.react",["cx","React","XUICloseButton.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMouseOver:!1},c.$2=function(){c.setState({isMouseOver:!0})},c.$3=function(){c.setState({isMouseOver:!1})},c.$5=function(){c.props.onRemoveToken(c.props.offsetKey)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.$1();return a===null?null:b("React").jsx("span",{className:"_vxd",onMouseEnter:this.$2,onMouseLeave:this.$3,children:b("React").jsxs("span",{className:"_vxe",contentEditable:!1,"data-offset-key":this.props.offsetKey,spellCheck:!1,children:[this.$4(a),b("React").jsx(b("XUICloseButton.react"),{className:"_vxf",onClick:this.$5,size:"small"})]})})};d.$4=function(a){a=a.data.key;a=a in this.props.tokens?this.props.tokens[a].key:a;return a};d.$1=function(){return this.props.entityKey==null?null:this.props.contentState.getEntity(this.props.entityKey)};return c}(b("React").Component);a.propTypes={contentState:(c=b("prop-types")).object.isRequired,entityKey:c.string,offsetKey:c.string.isRequired,onRemoveToken:c.func.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("getMacrosInputDecorator",["CompositeDraftDecorator","MacroSpan.react","getEntityMatcher"],(function(a,b,c,d,e,f){function a(a,c){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="TOKEN"}),component:b("MacroSpan.react"),props:{onRemoveToken:c,tokens:a}}])}e.exports=a}),null);
__d("SavedResponsesTokensUtils",["createEditorStateWithRanges","getMacrosInputDecorator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("{{(.*?)}}","ig"),h={_parseTemplateFieldTokens:function(a){__p&&__p();a=a;var b=[],c;while(c=g.exec(a)){var d={text:c[0],offset:c.index,length:c[0].length,entity:{token:c[0],key:c[1]}};b.push(d);a=a.replace(c[0],d.text);g.lastIndex=d.offset+d.length}if(b.length>0){b[0].offset===0&&(a=" "+a,b.forEach(function(a){a.offset++}));c=b[b.length-1];c.length+c.offset===a.length&&(a+=" ")}return{ranges:b,text:a}},createTemplateFieldsEditorStateWithText:function(a,c,d){a=h._parseTemplateFieldTokens(a);var e=a.ranges;a=a.text;return b("createEditorStateWithRanges")({text:a,ranges:e,decorator:b("getMacrosInputDecorator")(d,c),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("TOKEN","IMMUTABLE",a)}})},prepareforSend:function(a,b){var c=a.match(/\{{(.*?)\}}/g);c&&c.forEach(function(c){var d=c.replace("{{","").replace("}}","");d=d in b?b[d].value:d;a=a.replace(c,d)});return a}};e.exports=h}),null);
__d("SavedResponsesEditResponseView.react",["cx","fbt","invariant","DraftModifier","DraftOffsetKey","EditorState","PagesCreateSavedResponseMutation","PagesDeleteSavedResponseMutation","PagesEditSavedResponseMutation","PagesEventObserver","PagesMessagingInboxActionLogger","React","SavedResponsesAllPersonalizationView.react","SavedResponsesEditResponseContentView.react","SavedResponsesFooterButton.react","SavedResponsesImageUploadHelper","SavedResponsesMacroBrowseView.react","SavedResponsesPanel.react","SavedResponsesTokensUtils","SavedResponsesUtils","SelectionState","XUISpinner.react","curry","getMacrosInputDecorator"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.$7=function(a){e.setState({selectedMacroKey:a})};e.$14=function(){var a=e.props.supportedMacros[e.state.selectedMacroKey];e.$10(a);e.setState({selectedMacroKey:""})};e.$12=function(){e.setState({imageID:""})};e.$33=function(){e.state.isPersonalizing?e.setState({isPersonalizing:!1}):e.state.isModified?e.setState({shouldShowDiscardWarning:!0}):e.props.onEditDone(!1)};e.$9=function(){e.setState({isPersonalizing:!1})};e.$13=function(){e.setState({isPersonalizing:!0}),e.props.onEnterPersonalizeView()};e.$25=function(){e.setState({shouldShowDeleteWarning:!0})};e.$26=function(){e.setState({isProcessing:!0}),e.state.isEditing?e.$30():e.$31()};e.$23=function(){e.setState({shouldShowDeleteWarning:!1})};e.$22=function(){var a;b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_delete_reply",page_id:e.props.pageID},null);e.setState({shouldShowDeleteWarning:!1,isProcessing:!0});var c=e.props.initialResponse;!c&&i(0,6166);b("PagesDeleteSavedResponseMutation").commit(c.id,function(){return e.props.onEditDone(!0)},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)};e.$19=function(){e.props.onEditDone(!1)};e.$20=function(){e.setState({shouldShowDiscardWarning:!1})};c=!!e.props.initialResponse||!1;d=!!e.props.initialResponse&&!!e.props.initialResponse.image?e.props.initialResponse.image.id:"";var f=e.$1(c);e.state={anyContent:f.getCurrentContent().hasText(),editorState:f,imageID:d,isEditing:c,isModified:!1,isPersonalizing:!1,isProcessing:!1,isUploadingImage:!1,selectedMacroKey:"",shouldShowDeleteWarning:!1,shouldShowDiscardWarning:!1,title:e.props.initialResponse?(f=e.props.initialResponse.title)!=null?f:"":"",uploadHandler:new(b("SavedResponsesImageUploadHelper"))(function(){return e.$2()},function(a){return e.$3(a)})};!!e.props.upsellSpecificData&&!!e.props.upsellSpecificData.icebreaker_message&&(e.state.title=h._("FAQ"));return e}var d=c.prototype;d.$4=function(){return h._("Cancel")};d.$5=function(){return h._("Delete")};d.$6=function(){return h._("Save")};d.$8=function(){var a=this;if(this.state.isPersonalizing)return this.props.isSavedReplyNewUI?b("React").jsx(b("SavedResponsesAllPersonalizationView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:this.$9,onMacroSelected:this.$7,selectedMacroKey:this.state.selectedMacroKey,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG}):b("React").jsx(b("SavedResponsesMacroBrowseView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:this.$9,onMacroSelected:function(b){return a.$10(b)}});else return b("React").jsx(b("SavedResponsesEditResponseContentView.react"),{characterLimit:j,className:"_1wxh",editorState:this.state.editorState,isSavedReplyNewUI:this.props.isSavedReplyNewUI,isUploadingImage:this.state.isUploadingImage,onContentChange:function(b){return a.$11(b)},onDeleteImage:this.$12,onPersonalize:this.$13,onTitleChange:function(b){a.setState({title:b,isModified:!0})},pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler})};d.$15=function(){var a=h._("Cancel"),c=h._("Add");return b("React").jsxs("div",{className:"_4pnp",children:[b("React").jsx(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.$9}),b("React").jsx(b("SavedResponsesFooterButton.react"),{disabled:this.state.selectedMacroKey==="",label:c,onClick:this.$14,use:"confirm"})]})};d.$16=function(){if(this.state.isPersonalizing)return this.props.isSavedReplyNewUI?this.$15():b("React").jsx(b("SavedResponsesFooterButton.react"),{label:this.$4(),onClick:this.$9});else return this.$17()};d.$18=function(){var a=h._("Continue Editing"),c=this.props.isSavedReplyNewUI?h._("Don't Save"):h._("Discard");return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_2ln1",children:this.props.isSavedReplyNewUI?h._("Do you want to save your changes?"):h._("Are you sure you want to discard your edit?")}),b("React").jsxs("div",{className:"_4pnp",children:[b("React").jsx(b("SavedResponsesFooterButton.react"),{label:c,onClick:this.$19}),b("React").jsx(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.$20,use:"confirm"})]})]})};d.$21=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsx("div",{className:"_2ln1",children:h._("Are you sure you want to delete this saved reply?")}),a.jsxs("div",{className:"_4pnp",children:[a.jsx(b("SavedResponsesFooterButton.react"),{label:this.$5(),onClick:this.$22}),a.jsx(b("SavedResponsesFooterButton.react"),{label:this.$4(),onClick:this.$23,use:"confirm"})]})]})};d.$24=function(){var a=this.state.editorState.getCurrentContent().getPlainText().length>=j,c=a?b("React").jsx("div",{className:"_2ln1",children:h._("Your saved reply must be {character limit} characters or less.",[h._param("character limit",j)])}):null;return b("React").jsxs("div",{children:[this.props.isSavedReplyNewUI?null:b("React").jsx(b("SavedResponsesFooterButton.react"),{isHidden:!this.state.isEditing,label:this.$5(),onClick:this.$25}),c,b("React").jsxs("div",{className:"_4pnp",children:[b("React").jsx(b("SavedResponsesFooterButton.react"),{label:this.$4(),onClick:b("curry")(this.props.onEditDone,!1)}),b("React").jsx(b("SavedResponsesFooterButton.react"),{disabled:!this.state.anyContent&&!this.state.imageID||a||this.props.isSavedReplyNewUI&&!b("SavedResponsesUtils").isValidShortcut(this.state.title),label:this.$6(),onClick:this.$26,use:"confirm"}),b("React").jsx(b("XUISpinner.react"),{className:(this.state.isProcessing?"":"hidden_elem")+" _3-91 _3-99",size:"small"})]})]})};d.$17=function(){if(this.state.shouldShowDeleteWarning)return this.$21();else if(this.state.shouldShowDiscardWarning)return this.$18();else return this.$24()};d.$27=function(){if(!this.state.isPersonalizing)return h._("List");else return h._("Edit")};d.$28=function(){if(this.state.isPersonalizing)return h._("Add Personalization");else if(this.state.isEditing)return h._("Edit Reply");else return h._("Create Saved Reply")};d.$29=function(a){__p&&__p();a={text:"{{"+a.name+"}}",key:a.name};var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartKey(),g=d.getStartOffset();f=e.getBlockForKey(f);if(f.getText().substr(g-1,1).trim().length>0){f=b("DraftModifier").replaceText(e,d," ");d=f.getSelectionAfter();g=b("DraftModifier").insertText(f,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey())}else g=b("DraftModifier").replaceText(e,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey());g=b("DraftModifier").insertText(g,g.getSelectionAfter()," ");c=b("EditorState").push(c,g,"insert-fragment");c=b("EditorState").forceSelection(c,c.getSelection());this.$11(c)};d.$30=function(){var a=this,c,d=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_edit_reply",page_id:this.props.pageID,response_content:d},null);var e=this.props.initialResponse;!e&&i(0,6165);var f=this.state.imageID?this.state.imageID.toString():null;c=(c=e)!=null?(c=c.image)!=null?c.id:c:c;b("PagesEditSavedResponseMutation").commit(e.id,this.state.title.trim(),d,f,function(){return a.props.onEditDone(!0)},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(e.message,d,e.title,this.state.title,c,f,null)};d.$31=function(){var a=this,c,d=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_create_reply",page_id:this.props.pageID,response_content:d},null);var e=null;!!this.props.upsellSpecificData&&!!this.props.upsellSpecificData.icebreaker_message&&(e=this.props.upsellSpecificData.icebreaker_message);var f=this.state.imageID?this.state.imageID.toString():null;b("PagesCreateSavedResponseMutation").commit(this.props.pageID,(c=this.state.title.trim())!=null?c:"",d,f,e,function(){return a.props.onEditDone(!0)},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(null,d,null,this.state.title,null,f,e)};d.$1=function(a){__p&&__p();var c=this;if(a&&this.props.initialResponse||!!this.props.upsellSpecificData){var d="";if(a&&this.props.initialResponse){d=(a=this.props.initialResponse.message)!=null?a:""}else if(this.props.upsellSpecificData){d=(a=this.props.upsellSpecificData.page_reply)!=null?a:""}return b("SavedResponsesTokensUtils").createTemplateFieldsEditorStateWithText(d,function(a){return c.$32(a)},this.props.supportedMacros)}else return b("EditorState").createEmpty(b("getMacrosInputDecorator")(this.props.supportedMacros||{},function(a){return c.$32(a)}))};d.$10=function(a){b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_personalize",page_id:this.props.pageID},null),this.setState({isPersonalizing:!1}),this.$29(a)};d.$11=function(a){this.setState({anyContent:a.getCurrentContent().hasText(),editorState:a,isModified:!0})};d.$2=function(){b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_add_image",page_id:this.props.pageID},null),this.setState({imageID:"",isUploadingImage:!0})};d.$3=function(a){this.setState({imageID:a,isUploadingImage:!1})};d.$32=function(a){var c=this.state.editorState;a=b("DraftOffsetKey").decode(a);var d=a.blockKey;a=a.decoratorKey;a=c.getBlockTree(d).getIn([a]);d=new(b("SelectionState"))({anchorKey:d,anchorOffset:a.get("start"),focusKey:d,focusOffset:a.get("end"),isBackward:!1,hasFocus:!0});a=b("DraftModifier").removeRange(c.getCurrentContent(),d,"forward");d=b("EditorState").push(c,a,"remove-range");this.$11(d)};d.render=function(){return b("React").jsxs(b("SavedResponsesPanel.react"),{backButtonLabel:this.$27(),className:"_15ht"+(this.props.isSavedReplyNewUI?" _7r87":""),isSavedReplyNewUI:this.props.isSavedReplyNewUI,onBackButtonClicked:this.$33,onClose:this.props.onClose,shouldShowBackButton:!0,title:this.$28(),children:[this.$8(),b("React").jsx("div",{className:"_3ohz",children:this.$16()})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesListItem.react",["cx","fbt","ClientIDs","Link.react","React","ReactDOM","SavedResponsesConstants","SavedResponsesImage.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSeeMoreLink:!1,shouldLimitHeight:!0},d.$4=function(a){__p&&__p();var c=0,e=0,f=/\{{(.*?)\}}/g,g=f.exec(a),h=[];while(g!=null){e=g.index;h.push(b("React").jsx("span",{children:a.substring(c,e)},b("ClientIDs").getNewClientID()));c=e+g[0].length;var i=g[1]in d.props.tokens?d.props.tokens[g[1]].value:g[1];h.push(b("React").jsx("span",{className:"_-8",children:i},b("ClientIDs").getNewClientID()));g=f.exec(a)}h.push(b("React").jsx("span",{children:a.substring(c,a.length)},b("ClientIDs").getNewClientID()));return h},d.$2=function(){d.props.onResponseSelected(d.props.response,d.props.tokens)},d.$3=function(){d.props.onResponseHover&&d.props.onResponseHover(d.props.response,d.props.tokens)},d.$5=function(a){d.setState({shouldShowSeeMoreLink:!1,shouldLimitHeight:!1}),a.stopPropagation()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.render=function(){var a=this.props.response.image&&!0;return b("React").jsxs("div",{className:"_33w3"+(a?" _33w4":""),"data-id":this.props.response.id,onClick:this.$2,onMouseEnter:this.$3,onMouseLeave:this.props.onResponseUnhover,role:"presentation",children:[b("React").jsx("div",{className:"_33w5"+(a?" _33w6":"")+" fwb",children:this.props.response.title}),b("React").jsxs("div",{className:"_33w7"+(this.state.shouldLimitHeight?" _4en5":"")+(!this.props.response.title&&this.props.response.image?" _2pid":""),ref:"message",children:[this.props.response.image?b("React").jsx(b("SavedResponsesImage.react"),{className:"_33w8",displayClassName:"_33w9",height:b("SavedResponsesConstants").listItemImageHeight,imageID:this.props.response.image.id,loadingClassName:"_33w9",pageID:this.props.pageID,shouldShowCloseButton:!1,width:b("SavedResponsesConstants").listItemImageWidth}):null,this.$4(this.props.response.message)]}),b("React").jsx(b("Link.react"),{className:"_4en6"+(this.state.shouldShowSeeMoreLink?"":" hidden_elem"),onClick:this.$5,children:h._("See more")})]})};d.$1=function(){if(this.state.shouldLimitHeight===!1||this.state.shouldShowSeeMoreLink)return;var a=b("ReactDOM").findDOMNode(this.refs.message);a.scrollHeight>a.clientHeight&&this.setState({shouldShowSeeMoreLink:!0})};return c}(b("React").Component);a.propTypes={onResponseHover:(c=b("prop-types")).func,onResponseSelected:c.func.isRequired,onResponseUnhover:c.func,pageID:c.string.isRequired,response:c.shape({id:c.string.isRequired,title:c.string,message:c.string.isRequired,image:c.object}),tokens:c.object.isRequired};e.exports=a}),null);
__d("SavedResponsesListView.react",["cx","React","SavedResponsesListItem.react","SavedResponsesUtils","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;if(this.props.isLoadingResponses)return b("React").jsx("div",{className:"_e19",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})});var c=this.props.searchQuery.trim().toLowerCase(),d=function(a){return a.message.toLowerCase().indexOf(c)!==-1||(a.title||"").toLowerCase().indexOf(c)!==-1},e=b("SavedResponsesUtils").sortSavedResponses(this.props.responses,this.props.sortingKey);return b("React").jsx("ul",{className:this.props.shouldAdjustRightMargin?"_e1a":"",children:e.filter(d).map(function(c){return b("React").jsx(b("SavedResponsesListItem.react"),{onResponseHover:a.props.onResponseHover,onResponseSelected:a.props.onResponseSelected,onResponseUnhover:a.props.onResponseUnhover,pageID:a.props.pageID,response:c,tokens:a.props.supportedMacros},c.id)})})};return c}(b("React").Component);a.propTypes={isLoadingResponses:(c=b("prop-types")).bool.isRequired,onResponseHover:c.func,onResponseSelected:c.func.isRequired,onResponseUnhover:c.func,pageID:c.string.isRequired,responses:c.array.isRequired,searchQuery:c.string.isRequired,shouldAdjustRightMargin:c.bool};e.exports=a}),null);
__d("SavedResponsesOrderingMenu.react",["cx","fbt","ContextualDialogArrow","PopoverMenu.react","React","ReactXUIMenu","SavedResponsesConstants","XUIPopoverButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactXUIMenu").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=[{key:b("SavedResponsesConstants").sortingKey.MOST_USED,title:h._("Frequently used")},{key:b("SavedResponsesConstants").sortingKey.LAST_USED,title:h._("Recently used")}];c.$1=d;return c}var d=c.prototype;d.$2=function(){var a=this,b;return(b=this.$1.find(function(b){return b.key===a.props.activeSortingOptionKey}))!=null?b:this.$1[0]};d.$3=function(a){var c=this;return b("React").jsx(i,{onclick:function(){return c.props.onSortingKeyChanged(a.key)},children:a.title},a.key)};d.render=function(){var a=this,c,d=(c=b("React")).jsx(b("ReactXUIMenu"),{children:this.$1.map(function(b){return a.$3(b)})});return c.jsxs("div",{className:this.props.className,children:[c.jsx("span",{className:"_4mjo",children:h._("Sort by")}),c.jsx(b("PopoverMenu.react"),{alignv:"baseline",layerBehaviors:[b("ContextualDialogArrow")],menu:d,children:c.jsx(b("XUIPopoverButton.react"),{label:this.$2().title})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesListViewContainer.react",["cx","fbt","Layout.react","LeftFillRightFitLayout.react","React","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a,c="inputField";return(a=b("React")).jsxs(b("Layout.react"),{className:"_4b4n",children:[a.jsx(i,{children:a.jsx("div",{className:"_1x3i"})}),a.jsx(j,{children:a.jsx(b("XUITextInput.react"),{onChange:this.props.onSearchQueryChanged,placeholder:h._("Search replies"),ref:c,value:this.props.searchQuery})}),a.jsx(i,{children:a.jsx(b("XUICloseButton.react"),{className:this.props.searchQuery.length===0?"hidden_elem":"",onClick:this.props.onSearchQueryCleared,size:"small"})})]})};d.render=function(){var a=b("joinClasses")("_3ohy",this.props.className);return b("React").jsxs("div",{className:a,children:[b("React").jsxs(b("LeftFillRightFitLayout.react"),{className:"_1x3h",children:[this.$1(),this.props.isSavedReplyNewUI?null:b("React").jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.props.activeSortingOptionKey,className:"_4b4m",onSortingKeyChanged:this.props.onSortingKeyChanged})]}),this.props.children,this.props.isSavedReplyNewUI?null:b("React").jsx("div",{className:"_3ohz",children:this.props.footerPart})]})};return c}(b("React").Component);e.exports=a}),null);
__d("SavedResponsesManageListView.react",["cx","fbt","ix","PagesMessagingInboxActionLogger","React","SavedResponsesConstants","SavedResponsesFooterButton.react","SavedResponsesListView.react","SavedResponsesListViewContainer.react","SavedResponsesPanel.react","ScrollableArea.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)};e.state={searchQuery:"",activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.LAST_USED};return e}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("SavedResponsesPanel.react"),{className:"_15ht",shouldShowBackButton:!1,onClose:this.props.onClose,title:h._("Saved Replies"),children:b("React").jsx(b("SavedResponsesListViewContainer.react"),{footerPart:this.$2(),onSearchQueryChanged:function(b){return a.$3(b)},onSearchQueryCleared:function(){return a.$4()},searchQuery:this.state.searchQuery,activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$1,children:this.$5()})})};d.$5=function(){return b("React").jsx("div",{className:"_4pno",children:b("React").jsxs(b("ScrollableArea.react"),{fade:!0,shadow:!0,children:[b("React").jsx(b("SavedResponsesListView.react"),{isLoadingResponses:!1,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros,sortingKey:this.state.activeSortingOptionKey}),this.$6()]})})};d.$2=function(){var a=h._("Create Reply"),c=h._("Done");return b("React").jsxs("div",{className:"_4pnp",children:[b("React").jsx(b("SavedResponsesFooterButton.react"),{image:i("88945"),label:a,onClick:this.props.onCreateNewReplyClicked}),b("React").jsx(b("SavedResponsesFooterButton.react"),{label:c,onClick:this.props.onDoneClicked})]})};d.$6=function(){return b("React").jsx("div",{className:"_4pnq",children:b("React").jsx("div",{className:"_50f8 _4pnr",children:h._("End of saved replies")})})};d.$3=function(a){this.setState({searchQuery:a.target.value})};d.$4=function(){this.setState({searchQuery:""})};return c}(b("React").Component);a.propTypes={onClose:(c=b("prop-types")).func.isRequired,onCreateNewReplyClicked:c.func.isRequired,onDoneClicked:c.func.isRequired,onResponseSelected:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired,responses:c.array.isRequired,supportedMacros:c.object.isRequired};e.exports=a}),null);
__d("SavedResponsesManagePanel.react",["cx","React","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesManageListView.react","SavedResponsesUtils","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={isLoadingResponses:!0,isLoadingTokens:!0,responseToEdit:null,responses:[],supportedMacros:null,viewType:b.props.initialViewType};return b}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.render=function(){__p&&__p();var a=this;if(this.state.isLoadingResponses||this.state.isLoadingTokens)return b("React").jsx("div",{className:"_15ht",children:b("React").jsx("div",{className:"_15hu",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})});switch(this.state.viewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return b("React").jsx(b("SavedResponsesManageListView.react"),{onClose:this.props.onClose,onCreateNewReplyClicked:function(){return a.$2()},onDoneClicked:function(){return a.$3()},onResponseSelected:function(b,c){return a.$4(b,c)},otherUserID:this.props.otherUserID,pageID:this.props.pageID,responses:this.state.responses,supportedMacros:this.state.supportedMacros});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return b("React").jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:!1,onClose:this.props.onClose,onEditDone:function(b){return a.$5(b)},onEnterPersonalizeView:function(){return a.$6()},pageID:this.props.pageID,shouldShowSavedReplyInIG:!1,supportedMacros:this.state.supportedMacros,upsellSpecificData:null})}};d.$1=function(){var a=this;this.setState({isLoadingResponses:!0,isLoadingTokens:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.pageID,function(b){return a.setState({responses:b,isLoadingResponses:!1})});b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.pageID,this.props.otherUserID,null,"MESSENGER",function(b){return a.setState({supportedMacros:b,isLoadingTokens:!1})})};d.$5=function(a){if(this.props.initialViewType===b("SavedResponsesConstants").editPanelViewMode.CREATE){this.props.onClose();return}a&&this.$1();this.setState({responseToEdit:null,viewType:b("SavedResponsesConstants").editPanelViewMode.LIST})};d.$2=function(){this.setState({responseToEdit:null,viewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})};d.$3=function(){this.props.onClose()};d.$6=function(){this.setState({viewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})};d.$4=function(a){this.setState({responseToEdit:a,viewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})};return c}(b("React").Component);a.propTypes={initialViewType:(c=b("prop-types")).string,onClose:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired};a.defaultProps={initialViewType:b("SavedResponsesConstants").editPanelViewMode.LIST};e.exports=a}),null);
__d("PagesContentEditorAttachment.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FDSText.react","FileInput.react","Image.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","XUICard.react","XUIError.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;if(this.props.attachmentType===null)return b("React").jsx(b("Link.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrj":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-aw"),onClick:this.props.onAddAttachmentLinkPressed,children:this.props.videoDisabled===!0?i._("+ Add Photo"):i._("+ Add an attachment")});var c=this.props.errors&&this.props.errors.mediaError;return b("React").jsxs(b("XUICard.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-b2"),children:[b("React").jsx(b("Image.react"),{onClick:this.props.onClosePressed,src:this.props.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:this.props.isInboxCombinedCustomQuestionTest===!0?{position:"absolute",top:12,right:17,cursor:"pointer"}:{position:"absolute",top:12,right:12}}),b("React").jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:this.props.attachmentType==="image"?i._("Image"):i._("Video")}),b("React").jsx(k,{attachmentType:this.props.attachmentType,disabled:this.props.disabled===!0,isLoading:this.props.isLoading,onSelectAttachmentType:this.props.onSelectAttachmentType,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1}),b("React").jsxs("div",{className:"_6-b3",children:[b("React").jsx(b("XUIError.react"),{xuiError:c,children:this.props.media&&this.props.media.type===this.props.attachmentType?b("React").jsx(b("Image.react"),{className:"_6-b4",src:this.props.media&&this.props.media.url}):b("React").jsx("div",{className:"_6-b4",children:b("React").jsx(b("Image.react"),{className:"_6-b5",src:this.props.attachmentType==="image"?g("481807"):g("493176")})})}),b("React").jsx(l,{attachmentType:this.props.attachmentType,currentMedia:this.props.media,disabled:this.props.disabled===!0,hasSizeError:this.props.hasSizeError,isLoading:this.props.isLoading,onImageUpload:this.props.onImageUpload,onVideoUpload:this.props.onVideoUpload})]}),this.props.onImageTitleChange&&this.props.attachmentType==="image"?b("React").jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Title")}),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:b("React").jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:this.props.errors&&this.props.errors.imageTitleError,maxLength:j,onChange:this.props.onImageTitleChange,placeholder:i._("Enter a title"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.title})})]}):null,this.props.onImageSubtitleChange&&this.props.attachmentType==="image"?b("React").jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Subtitle (Optional)")}),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:b("React").jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:null,maxLength:j,onChange:this.props.onImageSubtitleChange,placeholder:i._("Enter a subtitle to provide more information"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.subtitle})})]}):null]})};return c}(b("React").PureComponent);function k(a){return b("React").jsxs("div",{className:"_6-b6",children:[b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:a.attachmentType==="image"?g("504181"):g("481807")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Image"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("image")},size:"large",use:a.attachmentType==="image"?"primary":"default"}),a.videoDisabled?null:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:a.attachmentType==="video"?g("495229"):g("493176")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Video"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("video")},size:"large",use:a.attachmentType==="video"?"primary":"default"})]})}function l(a){var c,d,e,f,g;a.attachmentType==="image"?(c=".png,.jpg,.jpeg",g=a.onImageUpload,d=a.currentMedia&&a.currentMedia.type==="image"?i._("Change Image"):i._("Choose Image"),e=i._("Images must be no more than 25 MB."),f=a.hasSizeError?i._("Choose an image smaller than 25 MB."):null):(c="video/*",g=a.onVideoUpload,d=a.currentMedia&&a.currentMedia.type==="video"&&a.currentMedia.url!=null?i._("Change Video"):i._("Choose Video"),e=i._("Videos must be no more than 25 MB."),f=a.hasSizeError?i._("Choose a video smaller than 25 MB."):null);return b("React").jsx(m,{disabled:a.disabled,accept:c,description:e,errorText:f,isLoading:a.isLoading,label:d,onUpload:g})}function m(a){var c=a.disabled||a.isLoading,d=b("React").jsx(b("FDSButton.react"),{isDisabled:c,href:{url:"#"},label:a.label,margin:"_3-95",use:"default"});return b("React").jsxs("div",{className:"_6-b7",children:[b("React").jsxs("span",{children:[b("React").jsx(b("XUIError.react"),{xuiError:a.errorText,children:b("React").jsx("div",{className:"_6-b8",children:c?d:b("React").jsx(b("FileInput.react"),{accept:a.accept,name:"file",onChange:a.onUpload,children:d})})}),a.isLoading?b("React").jsx(b("FDSSpinner.react"),{margin:"_3-99"}):null]}),b("React").jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:a.description})]})}e.exports=a}),null);
__d("PagesContentEditorCTASection.react",["ix","cx","fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","LeftRight.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80,k=3,l=function(a){__p&&__p();var c=i._("Button Label"),d=i._("Add an action you want people to take"),e=a.cta?a.cta.content:"",f=a.cta?a.cta.type:"button",h="";a.cta&&(h=a.cta.url);var k=i._("Button #{cta_index}",[i._param("cta_index",a.index+1)]),l=function(b){a.onCTATitleChange(a.index,b)},m=function(b){a.onCTAURLChange(a.index,b)},n=function(b){b&&a.onCTATypeChange(a.index,b)},o=function(){a.onRemoveCTA(a.index)};o=b("React").jsx(b("Image.react"),{onClick:o,src:a.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:a.isInboxCombinedCustomQuestionTest===!0?{position:"relative",right:5,cursor:"pointer"}:null});var p=i._("Action"),q=f==="postback"?i._("Bot Payload"):i._("Website URL"),r=f==="postback"?i._("Optional: This will be sent back to your webhook."):i._("Add a URL");return b("React").jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9w"),children:[b("React").jsxs(b("LeftRight.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hro":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9x"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrp":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9y"),children:k}),b("React").jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"":"_6-aw",children:o})]}),b("React").jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:c}),b("React").jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaLabelError:null,maxLength:j,onChange:l,placeholder:d,theme:b("SUIBusinessTheme"),value:e})]}),Boolean(a.showCTATypes)&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:p}),b("React").jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrn":"",children:b("React").jsxs(b("FDSDropdownSelector.react"),{onChange:n,value:f,children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:"button",children:i._("Open a website")}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:"postback",children:i._("Send a postback")})]})})]}),b("React").jsxs("div",{className:(Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrl":"")+(Boolean(a.isInboxCombinedCustomQuestionTest)?"":" _6-ax"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:q}),b("React").jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaURLError:null,onChange:m,placeholder:r,theme:b("SUIBusinessTheme"),value:h})]})]},a.index)};function a(a){var c=a.ctas,d=c&&c.length?c.map(function(d,e){var f=null;a.errors&&(f=a.errors.ctaErrors.find(function(a){return a&&a.buttonNumber===e}));return b("React").jsx(l,{cta:d,ctaCount:c.length,disabled:a.disabled,errors:f,index:e,isInboxCombinedCustomQuestionTest:a.isInboxCombinedCustomQuestionTest,onCTATitleChange:a.onCTATitleChange,onCTATypeChange:a.onCTATypeChange,onCTAURLChange:a.onCTAURLChange,onRemoveCTA:a.onRemoveCTA,showCTATypes:a.showCTATypes},e)}):null,e=null;(!a.ctas||a.ctas.length<k)&&(e=b("React").jsx(b("Link.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hrq":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-az"),onClick:a.onAddCTA,children:!a.ctas||a.ctas.length===0?i._("+ Add a button"):i._("+ Add another button")}));return b("React").jsxs("div",{children:[d,e]})}e.exports=a}),null);
__d("PagesContentEditorConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Type a message...").toString();b=Object.freeze({QUESTIONNAIRE_WELCOME_MESSAGE:"questionnaireWelcomeMessage",QUESTIONNAIRE_THANK_YOU_MESSAGE:"questionnaireThankYouMessage",QUESTIONNAIRE_REMINDER_MESSAGE:"questionnaireReminderMessage",QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:"questionnaireStopQuestionsMessage",QUESTIONNAIRE_SUMMARY_MESSAGE:"questionnaireSummaryMessage",QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:"questionnaireDisqualificationMessage"});e.exports={PagesContentEditorMessageComposerSpecialTypes:b,DEFAULT_MESSAGE:a}}),null);
__d("PagesContentEditorMessageComposer.react",["cx","fbt","AdsCMFormHorizontalLine.react","FDSText.react","FileInputUploader","PagesContentEditorAttachment.react","PagesContentEditorConstants","PagesContentEditorCTASection.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React","ServicesDurationUnit","ServicesTimeDurationSelector.react","SUIBusinessTheme","SUIErrorComponentUtil","SUISimplePopover.react","SUITextArea.react","SUITextInput.react","URI","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PagesContentEditorConstants").PagesContentEditorMessageComposerSpecialTypes,k="/ajax/mercury/upload.php",l=500,m=25,n=[b("ServicesDurationUnit").MINUTES,b("ServicesDurationUnit").HOURS];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1,hasSizeError:!1},d.$3=function(a){d.setState({hasSizeError:!1,isLoading:!1}),d.props.onSelectAttachmentType(a)},d.$4=function(a){d.$2(a);var c=d.props.pageID?new(i||(i=b("URI")))(k).addQueryData({request_user_id:d.props.pageID}).toString():new(i||(i=b("URI")))(k).toString(),e=a.target;d.$1=new(b("FileInputUploader"))(e).setURI(c);d.$1.subscribe("success",d.$5);d.$1.subscribe("failure",d.$6);d.$1.send();d.props.onImageSelect&&d.props.onImageSelect(a)},d.$5=function(a,b){d.setState({isLoading:!1}),d.props.onUploadImageSuccess(b)},d.$6=function(){d.setState({isLoading:!1}),d.props.onUploadImageFailure&&d.props.onUploadImageFailure()},d.$7=function(a){d.$2(a);var c=d.props.pageID?new(i||(i=b("URI")))(k).addQueryData({request_user_id:d.props.pageID}).toString():new(i||(i=b("URI")))(k).toString(),e=a.target;d.$1=new(b("FileInputUploader"))(e).setURI(c);d.$1.subscribe("success",d.$8);d.$1.subscribe("failure",d.$9);d.$1.send();d.props.onVideoSelect&&d.props.onVideoSelect(a)},d.$8=function(a,b){d.setState({isLoading:!1}),d.props.onUploadVideoSuccess(b)},d.$9=function(){d.setState({isLoading:!1}),d.props.onUploadVideoFailure&&d.props.onUploadVideoFailure()},d.$10=function(){d.props.onCloseAttachment(),d.setState({hasSizeError:!1,isLoading:!1})},d.$3=function(a){d.props.onSelectAttachmentType(a),d.$1&&d.$1.abort(),d.setState({hasSizeError:!1,isLoading:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){a=a.currentTarget.files;a=a&&a[0];a=a.size/1024/1024;a>m?this.setState({hasSizeError:!0}):this.setState({hasSizeError:!1,isLoading:!0})};d.$11=function(){if(!Boolean(this.props.isInboxCombinedCustomQuestionTest)||this.props.questionText===void 0)return b("React").jsx("span",{});var a=h._("Question #{question_index_number}",[h._param("question_index_number",this.props.index+1)]);return b("React").jsxs("span",{children:[b("React").jsx("div",{className:"_8hrv",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:a})}),b("React").jsx("div",{className:"_8hrn",children:b("React").jsx(b("SUITextInput.react"),{onChange:this.props.onQuestionTextChange,theme:b("SUIBusinessTheme"),value:this.props.questionText})})]})};d.$12=function(){__p&&__p();var a,c=null;switch(this.props.specialType){case j.QUESTIONNAIRE_WELCOME_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireWelcomeTextError;break;case j.QUESTIONNAIRE_THANK_YOU_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireThanksTextError;break;case j.QUESTIONNAIRE_REMINDER_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireReminderError;break;case j.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireStopQuestionsError;break;default:c=this.props.errors&&this.props.errors.welcomeTextError;break}a={composerKey:"welcomeMessage"+((a=this.props.index)!=null?a:"")+":"+((a=this.props.numIcebreakers)!=null?a:"0"),initialDisabled:this.props.disabled===!0,initialReply:this.props.text,isAdsInterfaceSource:!1,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,maxCharacterLength:(a=this.props.textLimit)!=null?a:l,automationID:(a=this.props.automationID)!=null?a:null,pageID:this.props.pageID,placeholderText:(a=this.props.placeholderText)!=null?a:null,automationType:(a=this.props.automationType)!=null?a:null};return this.props.showPersonalization?b("React").jsx(o,{config:a,errorMessage:c,errorTooltipPosition:"above",messageLabel:this.props.messageLabel,onMessageChange:this.props.onMessageChange,text:this.props.text}):b("React").jsxs("span",{children:[b("React").jsxs("div",{className:"_6-b0",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:this.props.messageLabel||h._("Text")}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:a.maxCharacterLength-this.props.text.length})]}),b("React").jsx("div",{className:"_6-b1",children:b("React").jsx(b("SUITextArea.react"),{disabled:this.props.disabled,errorMessage:c,maxLength:a.maxCharacterLength,onChange:this.props.onMessageChange,placeholder:this.props.placeholderText,shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.text})})]})};d.$13=function(){var a;return this.props.hideAttachmentSection?null:[this.props.isInboxCombinedCustomQuestionTest?null:b("React").jsxs("div",{className:"_3-8z _3-95",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Attachment (Optional)")}),b("React").jsx(b("SUISimplePopover.react"),{content:this.props.videoDisabled?h._("Add an image to your message."):h._("Add an image or video to your message."),theme:b("SUIBusinessTheme")})]},"AttachmentTitle"),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrw":"",children:b("React").jsx(b("PagesContentEditorAttachment.react"),{attachmentType:this.props.attachmentType,disabled:this.props.disabled,errors:this.props.errors,hasSizeError:this.state.hasSizeError,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,isLoading:this.state.isLoading,media:this.props.media,onAddAttachmentLinkPressed:this.props.onAddAttachmentLinkPressed,onClosePressed:this.$10,onImageSubtitleChange:this.props.onImageSubtitleChange,onImageTitleChange:this.props.onImageTitleChange,onImageUpload:this.$4,onSelectAttachmentType:this.$3,onVideoUpload:this.$7,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1},"attachment")},"AttachmentBody")]};d.$14=function(){return this.props.hideCTASection?null:[this.props.isInboxCombinedCustomQuestionTest?null:b("React").jsxs("div",{className:"_3-8z _3-95",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Button (Optional)")}),b("React").jsx(b("SUISimplePopover.react"),{content:h._("Add a button to send people to your website."),theme:b("SUIBusinessTheme")})]},"ctaTitle"),b("React").jsx(b("PagesContentEditorCTASection.react"),{ctas:this.props.ctas,disabled:this.props.disabled,errors:this.props.errors,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,onAddCTA:this.props.onAddCTA,onCTATitleChange:this.props.onCTATitleChange,onCTATypeChange:this.props.onCTATypeChange,onCTAURLChange:this.props.onCTAURLChange,onRemoveCTA:this.props.onRemoveCTA,showCTATypes:this.props.showCTATypes},"ctas")]};d.$15=function(){var a;return!Boolean(this.props.showTimeSection)?null:[b("React").jsx(b("AdsCMFormHorizontalLine.react"),{},"horizLine"),b("React").jsx("div",{className:"_3-8z _3-94",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Send After")})},"timeTitle"),b("React").jsx("div",{className:"_6-b0 _3-95",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("How long after users drop off do you want to remind them to finish?")})},"timeSubtitle"),b("React").jsx(b("ServicesTimeDurationSelector.react"),{durationUnits:(a=this.props.timeDurationUnits)!=null?a:n,errorMsg:(a=this.props.errors)==null?void 0:a.timeInputError,onChange:(a=this.props.onTimeChange)!=null?a:b("emptyFunction"),value:this.props.time},"timeSelector")]};d.render=function(){return b("React").jsxs("div",{className:(!this.props.isInboxCombinedCustomQuestionTest&&!this.props.inDialog?"_6_oc":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _3-8-"),children:[this.$11(),this.$12(),this.$13(),this.$14(),this.$15()]})};return c}(b("React").PureComponent);function o(a){var c=b("SUIErrorComponentUtil").getErrorIcon(a,b("SUIBusinessTheme")),d=b("SUIErrorComponentUtil").getErrorBorderColor(a,b("SUIBusinessTheme")),e=h._("Automated Response (Optional)");return a.config.isInboxCombinedCustomQuestionTest===!0?b("React").jsxs("span",{children:[b("React").jsx("div",{className:"_8hrv",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:e})}),b("React").jsxs("div",{className:"_8hrx",style:{borderColor:d},children:[c?b("React").cloneElement(c,babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(a),{className:"_73ta"})):null,b("React").jsx(b("PagesReplyComposerEditorContainer.react"),{className:"_8hry",config:a.config,isInboxCombinedCustomQuestionTest:!0,onReplyChange:a.onMessageChange,welcomeString:a.text},a.config.composerKey),b("React").jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config})]})]}):b("React").jsxs("span",{children:[b("React").jsxs("div",{className:"_6-b0",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:(e=a.messageLabel)!=null?e:h._("Text")}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:((e=a.config.maxCharacterLength)!=null?e:l)-a.text.length})]}),b("React").jsxs("div",{className:"_73t9",style:{borderColor:d},children:[c?b("React").cloneElement(c,babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(a),{className:"_73ta"})):null,b("React").jsx(b("PagesReplyComposerEditorContainer.react"),{className:"_3w-k",config:a.config,onReplyChange:a.onMessageChange,welcomeString:a.text},a.config.composerKey),b("React").jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config})]})]})}e.exports=a}),null);
__d("PagesManagerInboxFAQConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Frequently Asked Questions");b=g._("Suggest questions people can ask your Page. Then set up automated responses to those questions.");c=g._("Automated responses are sent instantly after someone taps a question.");d=g._("Note: Frequently asked questions will appear at the beginning of a conversation with your Page. You can also choose to add these questions to a menu which people can access throughout the entire conversation.");f=g._("Questions and Responses");var h=g._("A maximum of four frequently asked questions can be displayed at the beginning of a conversation. You can add up to five questions to a menu which people can access throughout the conversation."),i=g._("Add to Menu"),j=g._("People messaging you will be able to access this question throughout the conversation."),k=g._("Replace persistent menu?"),l=g._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu."),m=g._("Replace"),n=g._("Maximum Questions Reached"),o=g._("You may only add up to five questions to the menu."),p=g._("Questions");g=g._("Menu");e.exports={FAQ_AUTO_RESPONSE_TOGGLE_TITLE:a,FAQ_EDIT_VIEW_INTRO:b,FAQ_TIMING_WHEN:c,FAQ_TIMING_NOTE:d,FAQ_EDITOR_CARD_TITLE:f,FAQ_EDITOR_CARD_DESCRIPTION:h,FAQ_MENU_TOGGLE_TITLE:i,FAQ_MENU_TOGGLE_DESCRIPTION:j,FAQ_MENU_REPLACE_WARN_TITLE:k,FAQ_MENU_REPLACE_WARN_DESCRIPTION:l,FAQ_MENU_REPLACE_CTA_TITLE:m,FAQ_MENU_ERROR_MAX_LIMIT_REACHED_TITLE:n,FAQ_MENU_ERROR_MAX_LIMIT_REACHED_DESCRIPTION:o,FAQ_PREVIEW_TAB_QUESTIONS:p,FAQ_PREVIEW_TAB_MENU:g}}),null);
__d("PagesManagerInboxSettingToggleRow.react",["cx","FDSSwitch.react","FDSText.react","FlexLayout.react","PagesManagerInboxFAQConstants","React","XUIError.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesManagerInboxFAQConstants").FAQ_MENU_ERROR_MAX_LIMIT_REACHED_DESCRIPTION,i=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isOn:c.props.isOn,shouldShowError:!1},c.$1=function(){if(!c.state.isOn&&Number(c.props.numCustomQuestionsInMenu)>=i){c.setState({shouldShowError:!0});return}c.setState(function(a){return{isOn:!a.isOn,shouldShowError:!1}});c.props.onToggleChange&&c.props.onToggleChange(!c.state.isOn)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isDisabled,d=a.title;a=a.subtitle;c=b("React").jsx(b("FDSSwitch.react"),{isDisabled:c,label:"",labelIsHidden:!0,onChange:this.$1,value:this.state.isOn});return b("React").jsx(b("XUIError.react"),{xuiError:this.state.shouldShowError?h:null,children:b("React").jsxs(b("FlexLayout.react"),{className:this.state.shouldShowError?"_8jo4":this.props.className,justify:"all",children:[b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[d!=null?b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-94",size:"body2",weight:"bold",children:d}):null,a!=null?b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:a}):null]}),b("React").jsx(b("FlexLayout.react"),{className:"_8g_e",children:c})]})})};return c}(b("React").PureComponent);a.defaultProps={isDisabled:!1};e.exports=a}),null);
__d("CustomQuestionsRichResponseComposer.react",["ix","cx","fbt","Image.react","PagesManagerInboxFAQConstants","PagesManagerInboxSettingToggleRow.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesManagerInboxFAQConstants").FAQ_MENU_TOGGLE_DESCRIPTION,k=b("PagesManagerInboxFAQConstants").FAQ_MENU_TOGGLE_TITLE,l=i._("Enter the answer to this question");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMaxLengthHidden:!1,isSelected:!1,media:c.props.icebreaker.response_media_attachment},c.$1=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"custom_question")},c.$2=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"saved_response")},c.$3=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"response_ctas")},c.$4=function(a,b){c.setState({media:b}),c.props.onIceBreakerChange(c.props.index,b,"response_media_attachment")},c.$5=function(a,b){a=c.state.media;a===void 0||a===null||a.type!==b?c.props.onIceBreakerChange(c.props.index,{id:null,url:null,type:b,class_name:null},"response_media_attachment"):c.props.onIceBreakerChange(c.props.index,{id:a.id,url:a.url,type:b,class_name:a.class_name},"response_media_attachment")},c.$6=function(a){c.props.onIceBreakerChange(c.props.index,a,"should_show_in_menu")},c.$7=function(){c.props.onRemoveIceBreaker(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return b("React").jsxs("div",{className:"_8j4r",children:[b("React").jsx("div",{className:"_8j4p",children:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:(a=(a=this.props.icebreaker.response_media_attachment)==null?void 0:a.type)!=null?a:null,automationID:"0",ctas:this.props.icebreaker.response_ctas,errors:null,hideAttachmentSection:!1,hideCTASection:!1,index:this.props.index,isInboxCombinedCustomQuestionTest:!0,isWelcomeTextIntialized:this.props.icebreaker.saved_response.length>0,media:this.props.icebreaker.response_media_attachment,numIcebreakers:this.props.numIcebreakers,onIndexedCTAChange:this.$3,onIndexedMediaChange:this.$4,onIndexedMediaTypeChange:this.$5,onIndexedQuestionChange:this.$1,onMessageChange:this.$2,pageID:this.props.pageID,questionText:this.props.icebreaker.custom_question,showPersonalization:!0,showTimeSection:!1,welcomeText:(a=this.props.icebreaker.saved_response)!=null?a:l})}),this.props.showRemove&&b("React").jsx(b("Image.react"),{onClick:this.$7,src:g("515976"),style:{position:"absolute",top:12,right:12,cursor:"pointer"}}),b("React").jsx(b("PagesManagerInboxSettingToggleRow.react"),{className:"_8j4o",isOn:(a=this.props.icebreaker.should_show_in_menu)!=null?a:!1,numCustomQuestionsInMenu:this.props.numCustomQuestionsInMenu,onToggleChange:this.$6,subtitle:j,title:k},"total"+this.props.numCustomQuestionsInMenu+"toggle"+this.props.index+String(this.props.icebreaker.should_show_in_menu))]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAccordion.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isExpanded:c.props.initialExpanded},c.$1=function(){(c.props.disableCollapse!==!0||!c.state.isExpanded)&&c.setState(function(a,b){return{isExpanded:!a.isExpanded}}),c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){a.forceOpen!==this.props.forceOpen&&this.props.forceOpen===!0&&this.state.isExpanded===!1&&this.setState({isExpanded:!0})};d.render=function(){var a=!this.state.isExpanded&&this.props.collapsedHeader!==void 0?this.props.collapsedHeader:this.props.header;return b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx(b("Link.react"),{className:"_6q2e"+(this.props.useDefaultCursor===!0?" _6_nb":""),onClick:this.$1,children:a}),this.state.isExpanded?this.props.children:null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerComposerSectionCard.react",["ix","cx","BUISwitch.react","FDSText.react","Image.react","PagesManagerInboxAccordion.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){var c;return(c=b("React")).jsxs("div",{className:"_6_od",children:[a.leftIcon,c.jsxs("div",{className:"_6_oe",children:[c.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.header}),c.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.subtitle})]}),a.isCollapsible?a.useCollapseToggleSwitch===!0?b("React").jsx(b("BUISwitch.react"),{value:!a.isCollapsed}):b("React").jsx(b("Image.react"),{className:"_6vpp",src:a.isCollapsed?g("504840"):g("566392")}):null,Boolean(a.isRemoveable)?b("React").jsx(b("Image.react"),{className:"_6vpp",onClick:a.onRemoveMessage,src:g("478237")}):null]})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){var a;c.props.onRemoveMessage&&c.props.onRemoveMessage((a=c.props.index)!=null?a:0)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_6arn",children:b("React").jsx(b("PagesManagerInboxAccordion.react"),{children:this.props.body,collapsedHeader:b("React").jsx(i,{header:this.props.header,isCollapsed:!0,isCollapsible:this.props.isCollapsible,isRemoveable:this.props.isRemoveable,leftIcon:this.props.leftIcon,onRemoveMessage:this.$1,subtitle:this.props.collapsedSubtitle!==void 0?this.props.collapsedSubtitle:this.props.subtitle,useCollapseToggleSwitch:this.props.useCollapseToggleSwitch}),disableCollapse:!this.props.isCollapsible,forceOpen:!!this.props.forceOpen,header:b("React").jsx(i,{header:this.props.header,isCollapsed:!1,isCollapsible:this.props.isCollapsible,isRemoveable:this.props.isRemoveable,leftIcon:this.props.leftIcon,onRemoveMessage:this.$1,subtitle:this.props.subtitle,useCollapseToggleSwitch:this.props.useCollapseToggleSwitch}),initialExpanded:this.props.isCollapsible?!!this.props.initialExpanded:!0,onClick:this.props.onClick,useDefaultCursor:!this.props.isCollapsible})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("IcebreakerComposerSectionCard.react",["ix","cx","fbt","AdCampaignDestination","AdsUEditorAdgroupMessengerFAQContentIceBreaker.react","CustomQuestionsRichResponseComposer.react","Image.react","PagesManagerComposerSectionCard.react","PagesManagerInboxFAQConstants","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","React","ShimButton.react","SUIBusinessThemeContainer.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesManagerInboxFAQConstants").FAQ_EDITOR_CARD_DESCRIPTION;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=c.props.icebreakers[a];return a.saved_response},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){return this.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length};d.render=function(){__p&&__p();var a=this,c="icebreaker_preview";b("PagesReplyComposerActions").getActionsByKey(c).initializeStoreWithConfig({composerKey:c,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""});b("PagesReplyComposerDispatcher").getByKey(c).explicitlyRegisterStore(b("PagesReplyComposerStore").getByKey(c));var d=b("PagesReplyComposerStore").getByKey("MessengerJSONPreview").getState();c=this.props.icebreakers.map(function(c,e){c=b("React").jsx("div",{className:"_89o1",children:b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:a.props.isInboxCombinedCustomQuestionTest?b("React").jsx(b("CustomQuestionsRichResponseComposer.react"),{composerState:d,icebreaker:c,index:e,numCustomQuestionsInMenu:a.$2(),numIcebreakers:a.props.icebreakers.length,onIceBreakerChange:a.props.onCustomQuestionRichMessageChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showRemove:a.props.icebreakers.length>a.props.minIcebreakers}):b("React").jsx(b("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react"),{composerState:d,destinationType:b("AdCampaignDestination").MESSENGER,errorSpec:null,getResponseText:a.$1,index:e,isNamesARTest:!0,onIceBreakerChange:a.props.onIceBreakerChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showRemove:a.props.icebreakers.length>a.props.minIcebreakers,value:{title:c.custom_question,response:c.saved_response}})})},"question"+e);return c});var e=i._("+ Add a Question");e=!this.props.icebreakers||!this.props.disableAddRow?b("React").jsx(b("ShimButton.react"),{className:"_89f2"+(this.props.isInboxCombinedCustomQuestionTest?" _8jmh":""),onClick:this.props.onAddRow,children:e}):null;c=b("React").jsxs("div",{className:"_6_oc",children:[c,e]});return b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:c,header:i._("Questions and Responses"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:this.props.isInboxCombinedCustomQuestionTest?j:i._("Suggest questions for people to tap, then set up automated responses to those questions. People will only see 2 to 4 questions, depending on how many you write. If you add more than 4, the questions shown will be selected randomly.")})};return c}(a);e.exports=c}),null);
__d("IcebreakerFreeTextEditor.react",["IcebreakerComposerSectionCard.react","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers;a=b("React").PureComponent;var h=100,i=2,j=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.icebreakers.length<h){var a=d.props.icebreakers.concat([{custom_question:"",saved_response:"",response_ctas:[],should_show_in_menu:d.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length<j}]);b("PagesMarketingAutomationActions").updateIcebreakers(a)}},d.$2=function(a){var c=d.props.icebreakers.filter(function(b,c){return c!==a});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(c));b("PagesMarketingAutomationActions").updateIcebreakers(c)},d.$3=function(a,c,e){__p&&__p();var f=d.props.icebreakers,h=f.map(function(b,d){if(d===a)if(e==="title"){return{custom_question:(d=c)!=null?d:"",saved_response:(d=b.saved_response)!=null?d:"",response_ctas:[]}}else{return{custom_question:(d=b.custom_question)!=null?d:"",saved_response:(d=c)!=null?d:"",response_ctas:[]}}else return b});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="title"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},d.$4=function(a,c,e){__p&&__p();var f=d.props.icebreakers,h=f.map(function(b,d){__p&&__p();var f;f={custom_question:b.custom_question,saved_response:b.saved_response,response_ctas:(f=b.response_ctas)!=null?f:[],response_media_attachment:(f=b.response_media_attachment)!=null?f:null,should_show_in_menu:(f=b.should_show_in_menu)!=null?f:!1};if(d===a)if(e==="custom_question"){f.custom_question=typeof c==="string"?c:(d=b.custom_question)!=null?d:""}else if(e==="saved_response"){f.saved_response=typeof c==="string"?c:(d=b.saved_response)!=null?d:""}else if(e==="response_ctas"){f.response_ctas=c instanceof Array?c:(d=b.response_ctas)!=null?d:[]}else if(e==="response_media_attachment"){f.response_media_attachment=typeof c!=="boolean"&&typeof c!=="string"&&!(c instanceof Array)?c:(d=b.response_media_attachment)!=null?d:null}else{f.should_show_in_menu=typeof c==="boolean"?c:(d=b.should_show_in_menu)!=null?d:!1}return f});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="custom_question"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.icebreakers,c=Boolean(this.props.isInboxCombinedCustomQuestionTest);a=b("React").jsx(b("IcebreakerComposerSectionCard.react"),{disableAddRow:a.length>=h,disableSave:a.length<i,icebreakers:a,isInboxCombinedCustomQuestionTest:c,minIcebreakers:i,onAddRow:this.$1,onCustomQuestionRichMessageChange:c?this.$4:b("emptyFunction"),onDeleteIcebreaker:this.$2,onIceBreakerChange:c?b("emptyFunction"):this.$3,pageID:this.props.pageID});return a};return c}(a);e.exports=c}),null);
__d("PagesAutomatedQuestionnairePrivacyPolicyItem.react",["cx","fbt","FDSText.react","PagesMarketingAutomationUtils","React","SUIBusinessTheme","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onInputChange=function(a){c.props.onQuestionnairePrivacyPolicyURLChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props.questionnairePrivacyPolicyURL,d=b("PagesMarketingAutomationUtils").getQuestionnairePrivacyPolicyURLError(c);return(a=b("React")).jsxs("div",{className:"_3-8- _6_oc",children:[a.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Privacy Policy URL")}),a.jsx("div",{className:"_3-8n",children:a.jsx(b("SUITextInput.react"),{errorMessage:d,onChange:this.onInputChange,placeholder:(a=this.props.placeHolder)!=null?a:"https://www.yourprivacypolicy.com/",theme:b("SUIBusinessTheme"),value:c})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesTimeRangeEditorTypes",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=[g._("Sunday").toString(),g._("Monday").toString(),g._("Tuesday").toString(),g._("Wednesday").toString(),g._("Thursday").toString(),g._("Friday").toString(),g._("Saturday").toString()];e.exports={DAY_OF_WEEK_TO_STRING:a}}),null);
__d("PagesTimeRangeEditorUtilities",["fbt","invariant","AdsTimezone","DateTime","PagesTimeRangeEditorTypes","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesTimeRangeEditorTypes").DAY_OF_WEEK_TO_STRING,j=b("immutable").List,k=b("immutable").Set,l=24,m=3600,n=l*m,o=7,p={getInvalidWeekdaySelectionMessage:function(){return g._("You must select at least one day.")},getInvalidTimezoneMessage:function(){return g._("You must provide a time zone.")},getTimezoneID:function(a){if(a===null||a===void 0||a==="")return-1;var c=b("AdsTimezone").sortedTimezones.find(function(b){return b.name===a});return c?c.id:-1},getTimezoneName:function(a){var c=b("AdsTimezone").sortedTimezones.find(function(b){return b.id===a});c||h(0,3195);return c.name},getTimeRangesFromJson:function(a){a=JSON.parse(a);return j(a.map(function(a){a.weekdays=k(a.weekdays);return a}))},getDateFromSecInDay:function(a,c){c=b("DateTime").now(c).startOfDay();return c.addSeconds(a)},getIsRequestTimeInAwayTimeRange:function(a,c){return this.isTimeInAwayTimeRange(b("DateTime").now(this.getTimezoneID(a)),a,c)},isTimeInAwayTimeRange:function(a,b,c){b=a.getDayOfWeek();b=this.getAwayTimeBracketsForWeekday(b,c);for(var c=0;c<b.size;c++){var d=b.get(c),e=a.startOfDay().addSeconds(d.from);d=a.startOfDay().addSeconds(d.to);if(a.isAfter(e)&&a.isBefore(d))return!0}return!1},getAwayTimeBracketsForWeekday:function(a,b){__p&&__p();b=p.splitOverNightTimeRanges(b);b=b.filter(function(b){return b.weekdays.contains(a)&&b.isRecurrent}).sort(function(a,b){return a.fromSecInDay-b.fromSecInDay});var c=[];for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=c.length>0?c[c.length-1]:null;g&&g.to>=f.fromSecInDay?g.to=Math.max(g.to,f.toSecInDay):c.push({from:f.fromSecInDay,to:f.toSecInDay})}return j(c)},splitOverNightTimeRanges:function(a){__p&&__p();var b=[];a.map(function(a){if(!a.isRecurrent||a.fromSecInDay<a.toSecInDay){b.push(a);return}b.push({id:a.id,isRecurrent:!0,weekdays:a.weekdays,fromSecInDay:a.fromSecInDay,toSecInDay:n,date:0});b.push({id:a.id+"_overnight",isRecurrent:!0,weekdays:k(a.weekdays.map(function(a){return(a+1)%o})),fromSecInDay:0,toSecInDay:a.toSecInDay,date:0})});return j(b)},getReversedTimeBrackets:function(a){__p&&__p();a=a.sort(function(a,b){return a.from-b.from});var b=0,c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b<f.from&&c.push({from:b,to:f.from});b=f.to}f=m*l;b<f&&c.push({from:b,to:f});return j(c)},getFormatedTime:function(a,b,c){var d=i[a.getDayOfWeek()],e=a.format("g:iA");if(c===!0)return e;b.getDayOfYear()===a.getDayOfYear()?d=g._("today").toString():b.getDayOfYear()+1===a.getDayOfYear()&&(d=g._("tomorrow").toString());return e+" "+d}};e.exports=p}),null);
__d("PagesAutomatedResponsesAwayScheduleDetail.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","PagesMarketingAutomationStore","PagesTimeRangeEditorTypes","PagesTimeRangeEditorUtilities","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesTimeRangeEditorTypes").DAY_OF_WEEK_TO_STRING,j=86400;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c){return{awayTimeZone:b("PagesMarketingAutomationStore").getAwayTimeZone(),awayTimeRanges:b("PagesMarketingAutomationStore").getAwayTimeRanges()}};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};var d=c.prototype;d.$1=function(a){return a==null?null:a.replace("_"," ")};d.render=function(){__p&&__p();var a=this;if(!this.props.isShown)return null;var c=b("React").jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x",size:"body1",children:h._("You can manually make your Page away in Inbox or schedule times for your Page to be away each week.")});if(this.state.awayTimeRanges&&!this.state.awayTimeRanges.isEmpty()){var d=[],e=function(c){__p&&__p();var e=b("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(c,a.state.awayTimeRanges);e=e.map(function(d,e){if(a.state.awayTimeZone===null)return null;var f=b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone);if(f===-1)return null;f=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.from===j?d.from-1:d.from);d=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.to===j?d.to-1:d.to);return d.equals(f)?null:b("React").jsxs("div",{className:"_7nhj",children:[f.format("g:iA")," - ",d.format("g:iA")]},"index"+e+"_w"+c)}).filter(function(a){return a!==null});d.push(b("React").jsxs("div",{className:"_7nhk",children:[b("React").jsxs("div",{children:[i[c],": "]}),b("React").jsx("div",{children:e.size>0?e:h._("None")})]},"weekday"+c))};for(var f=0;f<7;f++)e(f);c=b("React").jsxs("div",{children:[b("React").jsxs(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-95",size:"body2",children:[h._("Time zone:")," ",this.$1(this.state.awayTimeZone)]}),d]})}return b("React").jsxs("div",{className:"_20nr",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-95 _3-8y",size:"header3",weight:"bold",children:h._("Schedule")}),c]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesTimeRangeEditorDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!0})}),null);
__d("PagesTimeRangeEditorActions",["PagesTimeRangeEditorDispatcher","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirrorRecursive")({INITIALIZE_TIME_RANGES:null,INITIALIZE_TIMEZONE:null,TOGGLE_WEEKDAY:null,TOGGLE_RECURRENCE:null,ADD_ENTRY:null,DELETE_ENTRY:null,SET_TIME_IN_DAY:null,SET_DATE:null,SET_TIMEZONE:null}),h={ActionTypes:g,initializeTimeRanges:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.INITIALIZE_TIME_RANGES,timeRanges:a})},initializeTimezone:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.INITIALIZE_TIMEZONE,timezoneName:a})},toggleWeekday:function(a,c){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.TOGGLE_WEEKDAY,id:a,weekday:c})},toggleRecurrence:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.TOGGLE_RECURRENCE,id:a})},addTimeRange:function(){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.ADD_ENTRY})},deleteTimeRange:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.DELETE_ENTRY,id:a})},setStartTime:function(a,b){h._setTimeInDay(a,b,!0)},setEndTime:function(a,b){h._setTimeInDay(a,b,!1)},setDate:function(a,c){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.SET_DATE,id:a,date:c})},setTimezone:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.SET_TIMEZONE,timezoneName:a})},_setTimeInDay:function(a,c,d){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.SET_TIME_IN_DAY,id:a,time:c,isStartTime:d})}};e.exports=h}),null);
__d("PagesTimeRangeEditorAddButton.react",["ix","fbt","Image.react","PagesTimeRangeEditorActions","React","XUIButton.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.stopPropagation(),b("PagesTimeRangeEditorActions").addTimeRange()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIButton.react"),{className:this.props.className,onClick:this.$1,image:b("React").jsx(b("Image.react"),{src:g("142643")}),size:"large",label:h._("Add Time")})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangeEditorEmptyView.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:b("joinClasses")(this.props.className,"_3a1t"),children:h._("Schedule times for your Page to be away each week.")})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangeEditorStore",["invariant","PagesTimeRangeEditorActions","PagesTimeRangeEditorDispatcher","FluxStore","immutable","PagesTimeRangeEditorUtilities","guid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesTimeRangeEditorActions").ActionTypes,i=b("immutable").List,j=b("immutable").Set;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesTimeRangeEditorDispatcher"))||this;c.$PagesTimeRangeEditorStore1=i([]);c.$PagesTimeRangeEditorStore3=new Map();c.$PagesTimeRangeEditorStore4=new Map();c.$PagesTimeRangeEditorStore5=!1;return c}var d=c.prototype;d.getTimeRanges=function(){return this.$PagesTimeRangeEditorStore1};d.getEditingID=function(){return this.$PagesTimeRangeEditorStore2};d.getHasValidationFailure=function(){return this.$PagesTimeRangeEditorStore5};d.getTimeRangeErrorMessage=function(a,b){if(this.$PagesTimeRangeEditorStore3.has(a)){a=this.$PagesTimeRangeEditorStore3.get(a);a||g(0,4207);return a.get(b)}return null};d.getFieldErrorMessage=function(a){return this.$PagesTimeRangeEditorStore4.get(a)};d.getTimezoneName=function(){var a=this.$PagesTimeRangeEditorStore6;a||g(0,4208);return a};d.$PagesTimeRangeEditorStore7=function(){return{id:b("guid")(),isRecurrent:!0,weekdays:j([]),fromSecInDay:0,toSecInDay:86399,date:Math.floor(Date.now()/1e3)}};d.__onDispatch=function(a){__p&&__p();var b=a.actionType,c=!0;switch(b){case h.ADD_ENTRY:this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore1.concat(this.$PagesTimeRangeEditorStore7());this.$PagesTimeRangeEditorStore8();break;case h.INITIALIZE_TIMEZONE:this.$PagesTimeRangeEditorStore6=a.timezoneName;this.$PagesTimeRangeEditorStore8();break;case h.TOGGLE_RECURRENCE:this.$PagesTimeRangeEditorStore9(a.id);break;case h.TOGGLE_WEEKDAY:this.$PagesTimeRangeEditorStore10(a.id,a.weekday);this.$PagesTimeRangeEditorStore8();break;case h.DELETE_ENTRY:this.$PagesTimeRangeEditorStore11(a.id);this.$PagesTimeRangeEditorStore8();break;case h.SET_TIME_IN_DAY:this.$PagesTimeRangeEditorStore12(a.id,a.time,a.isStartTime);this.$PagesTimeRangeEditorStore8();break;case h.SET_DATE:this.$PagesTimeRangeEditorStore13(a.id,a.date);break;case h.INITIALIZE_TIME_RANGES:this.$PagesTimeRangeEditorStore14(a.timeRanges);this.$PagesTimeRangeEditorStore8();break;case h.SET_TIMEZONE:this.$PagesTimeRangeEditorStore6=a.timezoneName;this.$PagesTimeRangeEditorStore8();break;default:c=!1;break}c&&this.__emitChange()};d.$PagesTimeRangeEditorStore15=function(a){var b=this.$PagesTimeRangeEditorStore1.find(function(b){return b.id===a});b||g(0,4209);return b};d.$PagesTimeRangeEditorStore16=function(a){var b=Object.assign({},a);this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore1.splice(this.$PagesTimeRangeEditorStore1.indexOf(a),1,b)};d.$PagesTimeRangeEditorStore11=function(a){this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore1["delete"](this.$PagesTimeRangeEditorStore1.indexOf(this.$PagesTimeRangeEditorStore15(a)))};d.$PagesTimeRangeEditorStore9=function(a){a=this.$PagesTimeRangeEditorStore15(a);a.isRecurrent=!a.isRecurrent;this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore10=function(a,b){a=this.$PagesTimeRangeEditorStore15(a);var c=a.weekdays;c.has(b)?a.weekdays=c.remove(b):a.weekdays=c.add(b);this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore12=function(a,b,c){a=this.$PagesTimeRangeEditorStore15(a);c?a.fromSecInDay=b:a.toSecInDay=b;this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore13=function(a,b){a=this.$PagesTimeRangeEditorStore15(a);a.date=b.getUnixTimestampSeconds();this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore17=function(a){return i(a.map(function(a){return Object.assign({},a)}))};d.$PagesTimeRangeEditorStore14=function(a){this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore17(a)};d.$PagesTimeRangeEditorStore18=function(){var a=this;this.$PagesTimeRangeEditorStore3.clear();this.$PagesTimeRangeEditorStore1.map(function(c){var d=new Map();a.$PagesTimeRangeEditorStore3.set(c.id,d);c.weekdays.isEmpty()&&(d.set("weekdayPicker",b("PagesTimeRangeEditorUtilities").getInvalidWeekdaySelectionMessage()),a.$PagesTimeRangeEditorStore5=!0)})};d.$PagesTimeRangeEditorStore19=function(){this.$PagesTimeRangeEditorStore4.clear(),this.$PagesTimeRangeEditorStore6||(this.$PagesTimeRangeEditorStore5=!0,this.$PagesTimeRangeEditorStore4.set("timezone",b("PagesTimeRangeEditorUtilities").getInvalidTimezoneMessage()))};d.$PagesTimeRangeEditorStore8=function(){this.$PagesTimeRangeEditorStore5=!1,this.$PagesTimeRangeEditorStore18(),this.$PagesTimeRangeEditorStore19()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesTimeRangeEditorDeleteButton.react",["ix","Image.react","React","ShimButton.react","fbglyph"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("ShimButton.react"),{className:this.props.className,onClick:this.props.onClick,children:b("React").jsx(b("Image.react"),{src:g("130092")})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangeEditorErrorContainer.react",["cx","FluxContainer","PagesTimeRangeEditorStore","React","XUIError.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesTimeRangeEditorStore")]};c.calculateState=function(a,c){return{errorMessage:c.timeRangeKey!==null&&c.timeRangeKey!==void 0&&c.timeRangeKey!==""?b("PagesTimeRangeEditorStore").getTimeRangeErrorMessage(c.timeRangeKey,c.validationKey):b("PagesTimeRangeEditorStore").getFieldErrorMessage(c.validationKey)}};var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIError.react"),{xuiError:this.state.errorMessage,className:"_24mu",children:this.props.children})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesTimeRangeEditorTimePicker.react",["cx","fbt","ix","AbstractTimeInput.react","Image.react","React","TimeOfDay","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=3600,k=babelHelpers["extends"]({},b("AbstractTimeInput.react").defaultProps.classNames,{columnClassNames:babelHelpers["extends"]({},b("AbstractTimeInput.react").defaultProps.classNames.columnClassNames,{column:"_4nww _3zhh",columnValue:"_4nx3 _3zhi",focused:"_3zhj"}),disabled:"_4nx6 _3zhl",focused:"_3zhm",space:"_4nxh _3zhn"});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=a?a.toSecondOfDay():0;c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isOvernight?h._("This time range starts and ends on different days"):null;return b("React").jsx(b("AbstractTimeInput.react"),{className:b("joinClasses")(this.props.className,"_3zi2"),classNames:k,icon:this.$2(),disabled:!1,onChangeValueAttempt:this.$1,value:b("TimeOfDay").fromSecondOfDay(this.props.value),"aria-label":a,"data-hover":"tooltip","data-tooltip-content":a})};d.$2=function(){var a=null;this.props.value>=6*j&&this.props.value<18*j?a=i("95368"):a=i("94912");return b("React").jsx(b("Image.react"),{src:a})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangeWeekdayPickerView.react",["cx","fbt","MultiToggleButtonGroup.react","React","XUIError.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;var c=[{label:h._("S"),value:0},{label:h._("M"),value:1},{label:h._("T"),value:2},{label:h._("W"),value:3},{label:h._("T"),value:4},{label:h._("F"),value:5},{label:h._("S"),value:6}];b.$1=i(c);return b}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIError.react"),{children:b("React").jsx(b("MultiToggleButtonGroup.react"),{className:b("joinClasses")("_3oqo",this.props.className),options:this.$1,selectedOptions:this.props.selectedDays,onOptionClicked:this.props.onOptionClicked})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangeEntryEditorView.react",["cx","PagesTimeRangeEditorDeleteButton.react","PagesTimeRangeEditorErrorContainer.react","PagesTimeRangeEditorTimePicker.react","PagesTimeRangeWeekdayPickerView.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onToggleWeekday(c.props.timeRange.id,a)},c.$2=function(){c.props.onDelete(c.props.timeRange.id)},c.$3=function(a){c.props.onSetFromTime(c.props.timeRange.id,a)},c.$4=function(a){c.props.onSetToTime(c.props.timeRange.id,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props.timeRange.fromSecInDay>=this.props.timeRange.toSecInDay;return(a=b("React")).jsxs("div",{className:"_3af0",children:[a.jsx(b("PagesTimeRangeEditorErrorContainer.react"),{validationKey:"timePicker",timeRangeKey:this.props.timeRange.id,children:a.jsxs("div",{className:"_24mu _24mv",children:[a.jsx(b("PagesTimeRangeEditorTimePicker.react"),{className:"_2hy3",value:this.props.timeRange.fromSecInDay,onChange:this.$3,isOvernight:c}),a.jsx("span",{className:"_2hy4",children:"-"}),a.jsx(b("PagesTimeRangeEditorTimePicker.react"),{className:"_2hy3",value:this.props.timeRange.toSecInDay,onChange:this.$4,isOvernight:c})]})}),a.jsx(b("PagesTimeRangeEditorErrorContainer.react"),{validationKey:"weekdayPicker",timeRangeKey:this.props.timeRange.id,children:a.jsx(b("PagesTimeRangeWeekdayPickerView.react"),{className:this.props.timeRange.isRecurrent?"":"hidden_elem",selectedDays:this.props.timeRange.weekdays,onOptionClicked:this.$1})}),b("React").jsx("div",{className:"_2hy5",children:b("React").jsx(b("PagesTimeRangeEditorDeleteButton.react"),{className:"_2hy6",onClick:this.$2})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangePreviewRow.react",["cx","Layout.react","PagesTimeRangeEditorUtilities","React","immutable","DateStrings","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=24*3600,l=24;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.$1(b("PagesTimeRangeEditorUtilities").getReversedTimeBrackets(this.props.awayBrackets),!1).concat(this.$1(this.props.awayBrackets,!0)).sort(function(a,b){return a.from-b.from}),d=b("DateStrings").getWeekdayNameShort(this.props.weekday);typeof d==="string"&&(d=d.toUpperCase());return b("React").jsxs(b("Layout.react"),{className:"_4-gt",children:[b("React").jsx(i,{className:"_3np_",children:d}),b("React").jsxs(j,{className:b("joinClasses")(this.props.className,"_4-gv"),children:[b("React").jsx("div",{className:"_4-gw",children:this.$2()}),b("React").jsx("div",{children:c.map(function(b){return a.$3(b)})})]})]})};d.$2=function(){var a=[],c=100/l;for(var d=0;d<l;d++)a.push(b("React").jsx("div",{className:"_4-gx",style:{left:d*c+"%",width:c+"%"}},d));return a};d.$1=function(a,b){var c=this;return h(a.map(function(a){return c.$4(a,b)}))};d.$4=function(a,b){return{from:a.from,to:a.to,isAway:b}};d.$3=function(a){var c=(a.to-a.from)/k*100,d=a.from/k*100;return b("React").jsx("div",{className:"_4-gy",style:{width:c+"%",left:d+"%"},children:b("React").jsx("div",{className:"_4-gz"+(a.isAway?" _4-g-":"")})},a.from+"-"+a.to)};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangePreview.react",["cx","fbt","Layout.react","PagesTimeRangeEditorUtilities","PagesTimeRangePreviewRow.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=[0,1,2,3,4,5,6];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_3nps"),children:[this.$1(),k.map(function(b){return a.$2(b)}),this.$3()]})};d.$1=function(){return b("React").jsx("div",{className:b("joinClasses")(this.props.className,"_3npt"),children:this.$4(h._("Away"))})};d.$4=function(a){return b("React").jsxs("div",{className:"_3npu _3npw",children:[b("React").jsx("div",{className:"_3npx"}),b("React").jsx("div",{className:"_3np-",children:a})]})};d.$3=function(){var a=["6AM","12PM","6PM","12AM"];return b("React").jsxs(b("Layout.react"),{className:this.props.className,children:[b("React").jsx(i,{className:"_3np_"}),b("React").jsx(j,{className:"_3nq0",children:a.map(function(a){return b("React").jsx("div",{className:"_3nq1",children:a},a)})})]})};d.$2=function(a){return b("React").jsx(b("PagesTimeRangePreviewRow.react"),{weekday:a,awayBrackets:b("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(a,this.props.awayTimeRanges)},a)};return c}(b("React").Component);e.exports=a}),null);
__d("PagesTimeRangeEditorListContainer.react",["FluxContainer","PagesTimeRangeEditorActions","PagesTimeRangeEditorEmptyView.react","PagesTimeRangeEditorStore","PagesTimeRangeEntryEditorView.react","PagesTimeRangePreview.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesTimeRangeEditorStore")]};c.calculateState=function(){return{timeRanges:b("PagesTimeRangeEditorStore").getTimeRanges(),editingID:b("PagesTimeRangeEditorStore").getEditingID()}};var d=c.prototype;d.UNSAFE_componentWillUpdate=function(a,b){b.timeRanges!==this.state.timeRanges&&this.props.onTimeRangesChanged(b.timeRanges)};d.render=function(){var a=this;return this.state.timeRanges.isEmpty()?b("React").jsx(b("PagesTimeRangeEditorEmptyView.react"),{className:this.props.className}):b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx(b("PagesTimeRangePreview.react"),{awayTimeRanges:this.state.timeRanges}),this.state.timeRanges.map(function(c){var d;return b("React").jsx(b("PagesTimeRangeEntryEditorView.react"),{isEditing:c.id===a.state.editingID,timeRange:c,onToggleRecurrence:(d=b("PagesTimeRangeEditorActions")).toggleRecurrence,onToggleWeekday:d.toggleWeekday,onDelete:d.deleteTimeRange,onSetFromTime:d.setStartTime,onSetToTime:d.setEndTime,onSetDate:d.setDate},c.id)})]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesTimeRangeTimezoneEditorContainer.react",["cx","fbt","FDSSimplePopover.react","FluxContainer","PagesTimeRangeEditorActions","PagesTimeRangeEditorStore","PagesTimeRangeEditorUtilities","React","SUILiveRailThemeDEPRECATED","SUITimeZoneSelector.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesTimeRangeEditorActions").setTimezone(b("PagesTimeRangeEditorUtilities").getTimezoneName(a.timeZoneId))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesTimeRangeEditorStore")]};c.calculateState=function(){return{timezoneName:b("PagesTimeRangeEditorStore").getTimezoneName(),errorMessage:b("PagesTimeRangeEditorStore").getFieldErrorMessage("timezone")}};var d=c.prototype;d.UNSAFE_componentWillUpdate=function(a,b){b.timezoneName!==this.state.timezoneName&&this.props.onTimezoneChanged(b.timezoneName)};d.render=function(){var a,c=new(b("SUITimeZoneSelector.react").VALUE)({timeZoneId:b("PagesTimeRangeEditorUtilities").getTimezoneID(this.state.timezoneName)});return(a=b("React")).jsxs("div",{className:this.props.className,children:[a.jsx("span",{className:"_5dza",children:h._("Time zone:")}),a.jsx(b("FDSSimplePopover.react"),{content:h._("Select the time zone you want to schedule your away time in.")}),a.jsx(b("SUITimeZoneSelector.react"),{className:"_5dzb",onChange:this.$1,theme:b("SUILiveRailThemeDEPRECATED"),value:c,errorMessage:this.state.errorMessage})]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesTimeRangeEditor.react",["cx","LeftRight.react","PagesTimeRangeEditorActions","PagesTimeRangeEditorAddButton.react","PagesTimeRangeEditorDispatcher","PagesTimeRangeEditorListContainer.react","PagesTimeRangeEditorStore","PagesTimeRangeTimezoneEditorContainer.react","React","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesTimeRangeEditorDispatcher").explicitlyRegisterStore(b("PagesTimeRangeEditorStore")),b("PagesTimeRangeEditorActions").initializeTimeRanges(this.props.initialTimeRanges),b("PagesTimeRangeEditorActions").initializeTimezone(this.props.initialTimezoneName)};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:b("joinClasses")(this.props.className,"_1wdg"),children:[a.jsx(b("PagesTimeRangeEditorListContainer.react"),{onTimeRangesChanged:this.props.onTimeRangesChanged}),a.jsxs(b("LeftRight.react"),{children:[a.jsx(b("PagesTimeRangeTimezoneEditorContainer.react"),{className:"_3-99",onTimezoneChanged:this.props.onTimezoneChanged}),a.jsx(b("PagesTimeRangeEditorAddButton.react"),{className:"_1u0p"})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react",["PagesMarketingAutomationActions","PagesMarketingAutomationStore","PagesTimeRangeEditor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("PagesMarketingAutomationActions").updateAwayTimeRange(a)};d.$2=function(a){b("PagesMarketingAutomationActions").updateAwayTimeZone(a)};d.render=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();return a!=null&&c!=null?b("React").jsx(b("PagesTimeRangeEditor.react"),{initialTimeRanges:c,initialTimezoneName:a,onTimeRangesChanged:this.$1,onTimezoneChanged:this.$2}):b("React").jsx("div",{})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationContentUtils",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxFAQConstants","PagesManagerInboxStore","PagesMarketingAutomationStore","URI","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesManagerInboxFAQConstants").FAQ_EDIT_VIEW_INTRO,l=b("PagesManagerInboxFAQConstants").FAQ_TIMING_NOTE,m=b("PagesManagerInboxFAQConstants").FAQ_TIMING_WHEN;function a(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"instant_reply":return h._("Instant Reply");case"away_message":return h._("Away Message");case"become_supporter":return h._("New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Checkout Info Inquiry");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return h._("Reminders");case"appointment_follow_up":return h._("Follow-up Messages");default:return""}}function c(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("Send a message after someone publicly shares that they recommend your Page.");case"negative_recommendation":return h._("Send a message after someone publicly shares that they don't recommend your Page.");case"job_application":return h._("Respond to someone who applied for a job you posted.");case"smart_reply_positive_feedback":return h._("Respond to a message containing positive feedback about your business.");case"smart_reply_negative_feedback":return h._("Respond to a message containing negative feedback about your business.");case"smart_reply_contact":return h._("Respond to a message asking for contact information.");case"smart_reply_location":return h._("Respond to a message asking about the location of your business.");case"smart_reply_hours":return h._("Respond to a message asking about your business hours.");case"instant_reply":return d?h._("Respond to the first message someone sends {pageName} in Messenger or on Instagram.",[h._param("pageName",c)]):h._("Respond to the first message someone sends your Page.");case"away_message":return d?h._("When away messages are on, {pageName} is away and sends away messages. You can manually make {page name} away in Inbox or schedule times to be away each week.",[h._param("pageName",c),h._param("page name",c)]):h._("When away messages are on, your Page is away and sends away messages. You can manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"become_supporter":return h._("Send an automatic message to new supporters. You can customize the message to thank them for their support, highlight benefits and more.");case"icebreaker":return h._("Suggest questions for people to tap so it's easier for them to start a conversation. Then set up automated responses to those questions.");case"custom_questions":return k;case"automated_checkout":return h._("Inquire about checkout information through a set of predefined questions.");case"mbs_reengagement":return h._("Re-engage customers with automatic notifications based on rules you set.");case"organic_intake_form":return h._("Ask a sequence of questions to see if people are potential customers. These questions can help qualify your leads.");case"appointment_reminder":return h._("Send customers an automatic reminder via Messenger or text message (SMS) the day before their appointment.");case"appointment_follow_up":return h._("Automatically send customers a message after their appointment to encourage them to book again.");default:return""}}function d(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"negative_recommendation":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"job_application":return h._("You can customize your message to thank them for their interest or let them know when to expect a response.");case"smart_reply_positive_feedback":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"smart_reply_negative_feedback":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"smart_reply_contact":return h._("You can customize your message to include additional contact information, such as a WhatsApp number or an Instagram link.");case"smart_reply_location":return h._("You can customize your message to include additional information about your location, such as options for parking or public transportation.");case"smart_reply_hours":return h._("You can customize your message to include additional information, such as upcoming holiday hours.");case"instant_reply":return d?h._("You can customize your message to say hello, give them more information about {pageName} or let them know when to expect a response.",[h._param("pageName",c)]):h._("You can customize your message to say hello, give them more information about your Page or let them know when to expect a response.");case"away_message":return h._("You can customize your message to let people know how long you'll be away and when you'll respond.");case"become_supporter":return h._("You can customize your message to thank them for their support or let them know what you provide.");case"automated_checkout":return h._("You can customize your messages for automated checkout.");case"mbs_reengagement":return h._("You can customize your messages.");case"organic_intake_form":return h._("You can customize your questions depending on the information you need.");default:return""}}function f(a,b){__p&&__p();switch(a){case"positive_recommendation":return h._("Edit Message: Page Recommended");case"negative_recommendation":return h._("Edit Message: Page Not Recommended");case"job_application":return h._("Edit Message: Application Received");case"smart_reply_positive_feedback":return h._("Edit Message: Positive Feedback");case"smart_reply_negative_feedback":return h._("Edit Message: Negative Feedback");case"smart_reply_contact":return h._("Edit Message: Contact Information");case"smart_reply_location":return h._("Edit Message: Location");case"smart_reply_hours":return h._("Edit Message: Hours");case"instant_reply":return h._("Edit Message: Instant Reply");case"away_message":return h._("Edit: Away Message");case"become_supporter":return h._("Edit: New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Edit: Frequently Asked Questions");case"saved_reply":return b!=="0"?h._("Edit Saved Reply"):h._("Create Saved Reply");default:return""}}function n(a,b){__p&&__p();switch(a){case"positive_recommendation":return h._("Sent 10 minutes after someone publicly shares that they recommend {pageName}",[h._param("pageName",b)]);case"negative_recommendation":return h._("Sent 10 minutes after someone publicly shares that they don't recommend {pageName}",[h._param("pageName",b)]);case"job_application":case"smart_reply_contact":case"smart_reply_location":case"smart_reply_hours":return h._("Sent instantly");case"smart_reply_positive_feedback":return h._("Sent 10 minutes after someone gives positive feedback");case"smart_reply_negative_feedback":return h._("Sent 10 minutes after someone gives negative feedback");case"instant_reply":case"away_message":return h._("Sent instantly");case"custom_questions":return m;case"become_supporter":return h._("Sent to people 10 minutes after they become a supporter");case"icebreaker":return h._("Frequently asked questions are shown when someone taps a button to send your page a message.");case"automated_checkout":return h._("When your customer decides to buy a product.");case"mbs_reengagement":return h._("Customize the timing of each follow-up message.");case"organic_intake_form":return h._("Sent instantly to people who contact your Page for the first time.");case"appointment_reminder":return h._("Sent the day before a confirmed appointment");case"appointment_follow_up":return h._("Choose when you want to send a follow-up message");default:return""}}function o(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"smart_reply_contact":return h._("Note: People who ask about contact information only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_location":return h._("Note: People who ask about the location of your business only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_hours":return h._("Note: People who ask about business hours only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"away_message":return h._("Away messages send when you manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"instant_reply":return d?h._("Note: If {pageName} is away and has instant replies turned on, people will receive an away message instead of an instant reply.",[h._param("pageName",c)]):h._("Note: If your Page is away and has instant replies turned on, people will receive an away message instead of an instant reply.");case"icebreaker":return h._("Automated responses are sent instantly after someone taps or types a question.");case"automated_checkout":return h._("Note: These messages and questions will be sent in sequence, however you can change the order of questions or add new ones.");case"mbs_reengagement":return h._("Note: You can connect rules with existing app events. Then add conditions to determine when these messages are sent.");case"organic_intake_form":return h._("You can stop these questions at any time in the conversation.");case"custom_questions":return l;default:return null}}function p(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Hi, thanks for recommending us! We're glad you had a great experience.");case"negative_recommendation":return h._("Hi, we're sorry you had a bad experience. Please let us know how we can improve.");case"job_application":return h._("Hi! We've received your application and appreciate your interest in working for us.");case"smart_reply_positive_feedback":return h._("We're glad you had a positive experience!");case"smart_reply_negative_feedback":return h._("We're sorry you had a negative experience.");case"smart_reply_contact":return A();case"smart_reply_location":return B();case"smart_reply_hours":return C();case"instant_reply":return h._("Hi, thanks for contacting us. We've received your message and appreciate you reaching out.");case"away_message":return h._("Thanks for your message. We're away and can't respond right now. We appreciate you reaching out.");case"become_supporter":return h._("{firstname}, thank you for becoming a supporter. None of this is possible without you!",[h._param("firstname","{{user_first_name}}")]);case"icebreaker":case"custom_questions":return h._("Default icebreaker question.");case"automated_checkout":return h._("It's awesome to hear that you're interested in purchasing this item from us! We will need a few details about you.");case"organic_intake_form":return"Default intro message";case"mbs_reengagement":return"Default intro message";case"appointment_reminder":return h._("We're looking forward to your appointment.");case"appointment_follow_up":return h._("Hi {firstname}, we'd love to have you back for another appointment.",[h._param("firstname","{{user_first_name}}")]);default:return""}}function q(a){switch(a){case"positive_recommendation":case"negative_recommendation":return{id:0,url:z(a),type:"image",class_name:"EntBusinessMessageWithItems"};default:return null}}function r(a,c){switch(a){case"smart_reply_hours":return[{content:h._("See Hours"),url:new(i||(i=b("URI")))("https://www.facebook.com/"+c+"/about").toString(),type:"button"}];case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()?[{content:h._("Visit Website"),url:b("PagesMarketingAutomationStore").getWebsite(),type:"button"}]:[];case"smart_reply_location":return b("PagesMarketingAutomationStore").getAddress()?[{content:h._("Get Directions"),url:s(c),type:"button"}]:[];default:return[]}}function s(a){a=b("PagesMarketingAutomationStore").getAddress();return a!==null&&a!==void 0?b("PagesMarketingAutomationStore").getDirectionsURI():""}function t(a,b){switch(a){case"positive_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);case"negative_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);default:return""}}function u(a){switch(a){case"positive_recommendation":return h._("Sent after your Page is publicly recommended");case"negative_recommendation":return h._("Sent after your Page is publicly not recommended");default:return""}}function v(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"away_message":return h._("Away Message");case"instant_reply":return h._("Instant Reply");case"become_supporter":return h._("New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Buyer Information");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return h._("Reminders");case"appointment_follow_up":return h._("Follow-up Messages");default:return""}}function w(a,b,c,d){__p&&__p();switch(a){case"POSITIVE_RECOMMENDATION":return"positive_recommendation";case"NEGATIVE_RECOMMENDATION":return"negative_recommendation";case"JOB_APPLICATION":return b===!1?null:"job_application";case"SMART_REPLY_POSITIVE_FEEDBACK":return c===!1?null:"smart_reply_positive_feedback";case"SMART_REPLY_NEGATIVE_FEEDBACK":return c===!1?null:"smart_reply_negative_feedback";case"SMART_REPLY_CONTACT":return d===!1?null:"smart_reply_contact";case"SMART_REPLY_LOCATION":return d===!1?null:"smart_reply_location";case"SMART_REPLY_HOURS":return d===!1?null:"smart_reply_hours";case"CUSTOM_QUESTIONS":return"custom_questions";default:return null}}function x(a){switch(a){case"IMAGE":return"image";case"VIDEO":return"video";default:return null}}function y(a){switch(a){case"BUTTON":return"button";case"POSTBACK":return"postback";default:return null}}function z(a){switch(a){case"positive_recommendation":return"/images/pages/inbox/goodratingautomation.png";case"negative_recommendation":return"/images/pages/inbox/badratingautomation.png";default:return null}}function A(){return b("PagesMarketingAutomationStore").getPhoneNumber()?h._("We can be reached at {phoneNumber}. You can also visit us online.",[h._param("phoneNumber",b("PagesMarketingAutomationStore").getPhoneNumber())]):""}function B(){return b("PagesMarketingAutomationStore").getAddress()?h._("We're located at {address}",[h._param("address",b("PagesMarketingAutomationStore").getAddress())]):""}function C(){__p&&__p();if(b("PagesMarketingAutomationStore").getIsAlwaysOpen())return h._("We're always open.");else if(b("PagesMarketingAutomationStore").getIsPermanentlyClosed())return h._("We're permanently closed.");else if(b("PagesMarketingAutomationStore").getHours().length>0)switch(b("PagesMarketingAutomationStore").getHours().length){case 7:return h._("We're open seven days a week.");default:var a=I(b("PagesMarketingAutomationStore").getHours());return h._("We're open {days}",[h._param("days",a)])}else return h._("We have no hours available on our Page.")}function D(){return{introMessage:h._("Thanks for your interest. We just need a few details to create your order.").toString(),questionMessages:[{answers:[h._("Cash on Delivery").toString(),h._("Bank Transfer").toString()],message:h._("How would you like to pay?").toString(),answerType:j.MULTIPLE_CHOICE,prefillType:"NONE",replyType:"QUICK_REPLIES"},{answers:[],message:h._("What's your shipping address?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's the recipient's full name?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's your phone number?").toString(),answerType:"PHONE",prefillType:"PHONE",replyType:"QUICK_REPLIES"}],thankYouMessage:h._("Thanks for answering our questions. We will process your order.").toString()}}function E(){return{reminderMessage:h._("Almost there! Please finish answering our questions.").toString(),summaryMessage:h._("Please review your answer summary below. Confirm that these details are correct to place your order.").toString(),disqualificationMessage:h._("Thanks for your interest, but it doesn't look like we're a good fit at this time.").toString(),stopQuestionsMessage:h._("You've paused our automated questions. Let us know how we can help.").toString()}}function F(){return{reengagementMessages:[{triggerTimeMin:0,messageText:h._("You only have a few questions left to answer. Finish now.").toString(),ctas:[],attachment:null,attachmentType:null}],reengagementRules:{mainRules:[""],andRules:[],notRules:[]}}}function G(a){__p&&__p();switch(a){case"positive_recommendation":return g("544926");case"negative_recommendation":return g("673528");case"job_application":case"smart_reply_contact":return g("551571");case"smart_reply_negative_feedback":return g("676769");case"smart_reply_positive_feedback":return g("676776");case"smart_reply_location":return g("540480");case"smart_reply_hours":return g("508066");case"become_supporter":return g("793861");default:return null}}function H(a){__p&&__p();switch(a){case"common_responses":return h._("Respond to Common Questions");case"job_application":return h._("Communicate About Jobs");case"feedback":return h._("Respond to Feedback");case"greet_customers":return h._("Greet Customers");case"supporter_only":return h._("Supporter Messaging");case"frequently_asked_questions":return h._("Share Info About Your Page");case"checkout_request":return h._("Respond to Checkout Request");case"reengagement":return h._("Follow Up with Customers");case"appointment_messaging":return h._("Communicate About Appointments");default:return""}}function I(a){if(a.length===0)return"";else if(a.length===1)return a.join();var b=a.length,c=a.slice(0,b-1);return h._("{days_of_week} and {last_day}.",[h._param("days_of_week",c.join(", ")),h._param("last_day",a[b-1])])}function J(a){switch(a){case"smart_reply_contact":return h._("Your Page doesn't have enough contact information listed to use a default message. Create your own message or add more contact information to turn this on.");case"smart_reply_location":return h._("Your Page doesn't have an address listed, so you can't use a default message for this automated response. Create your own message or add an address to turn this on.");case"smart_reply_hours":return h._("Your Page doesn't have business hours listed, so you can't use a default message for this automated response. Create your own message or add hours to turn this on.");default:return null}}function K(a){switch(a){case"APP_EVENT":return h._("App Event");case"IS":return h._("Is");case"IS_NOT":return h._("Is Not");default:return""}}function L(a,c){a=(a=a)!=null?a:!1;var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse,e=c==="away_message";c=c==="instant_reply";return d&&a&&(e||c)}function M(a,b){switch(a){case"away_message":return h._("Choose where {pageName} can be away and send away messages.",[h._param("pageName",b)]);case"instant_reply":return h._("Choose where {pageName} sends instant replies.",[h._param("pageName",b)]);default:return""}}function N(a,b){return a==null?!1:a.some(function(a){if(a===b)return!0})}function O(a){switch(a){case"icebreaker":case"custom_questions":return h._("Your Page's custom questions were created using an API. Editing has been disabled through inbox.");default:return null}}function P(a){switch(a){case"PLATFORMS":return h._("Save Changes Without Platform?");case"AWAY_TIME":return h._("Save Away Schedule Changes?");case"CUSTOM_QUESTIONS":return h._("Replace persistent menu?");default:return""}}function Q(a){switch(a){case"PLATFORMS":return h._("Your changes will be saved, but the message won't send because no platforms have been selected. To start sending this message, you must select at least one platform.");case"AWAY_TIME":return h._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.");case"CUSTOM_QUESTIONS":return h._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu.");default:return""}}function R(a){switch(a){case"organic_intake_form":return h._("If questions for potential customers are turned on, frequently asked questions will be turned off. You can only use one of these automated responses.");case"custom_questions":return h._("If frequently asked questions are turned on, questions for potential customers will be turned off. You can only use one of these automated responses.");default:return""}}function S(a){switch(a){case"organic_intake_form":return h._("Turn Off Frequently Asked Questions?");case"custom_questions":return h._("Turn Off Questions for Potential Customers?");default:return""}}e.exports={getContentForDetailViewTitle:a,getContentForDetailViewDescription:c,getContentForDetailViewGeneralDescription:d,getContentForEditHeader:f,getContentForReengagement:K,getDefaultCheckoutStepMessages:E,getDefaultContent:p,getDefaultContentForAutomatedCheckoutMessages:D,getDefaultAttachment:q,getDefaultImage:z,getDefaultCTAs:r,getDefaultIconForAutoResponse:G,getDefaultReengagementMessages:F,getSidebarDescription:u,getSidebarTitle:v,getTimingContent:n,getPlacementContent:M,getTimingNote:o,getAdminGhostText:t,convertStringToAttachmentType:x,convertStringToButtonType:y,getTriggerType:w,getTitleForCategory:H,getContentForNotice:J,getShouldShowIGDirectAutomatedResponse:L,getPlatformStatus:N,getContentForDisabledEditButtonNotice:O,getContentForModalTitle:P,getContentForModalDetail:Q,getContentForIncompatibilityDisclaimerModal:R,getTitleForIncompatibilityDisclaimerModal:S}}),null);
__d("PagesMarketingAutomationContentView.react",["FluxContainer","PageAutomationTrigger","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationDetailView.react","PagesMarketingAutomationDispatcher","PagesMarketingAutomationEditView.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesTimeRangeEditorUtilities","React","RelayFBEnvironment","RelayModern","ServicesEventsLogger","WebFunnelLogger","promiseDone","PagesMarketingAutomationContentViewQuery.graphql","PagesMarketingAutomationContentViewAwayInfoQuery.graphql","PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIcebreakerQuery.graphql","PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql","PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k,l,m,n=(a=b("PagesMarketingAutomationContentUtils")).convertStringToAttachmentType,o=a.convertStringToButtonType,p=a.getDefaultCheckoutStepMessages,q=a.getDefaultContentForAutomatedCheckoutMessages,r=a.getDefaultReengagementMessages,s=b("RelayModern").fetchQuery;b("RelayModern").graphql;var t=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.setupDefaultAutomation=function(a){__p&&__p();var c=b("PagesMarketingAutomationStore").getAutomationType();if(c!==null&&c!==void 0){var d=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(c);a=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(c,a);b("PagesMarketingAutomationActions").updateState(b("PagesMarketingAutomationContentUtils").getDefaultContent(c).toString(),q(),r(),d,a,d?"image":null,c);b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&c==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);if(c==="automated_checkout"){a=p();(d=b("PagesMarketingAutomationActions")).updateQuestionnaireReminderMessage(a.reminderMessage);d.updateQuestionnaireSummaryMessage(a.summaryMessage);d.updateQuestionnaireDisqualificationMessage(a.disqualificationMessage);d.updateQuestionnaireStopQuestionsMessage(a.stopQuestionsMessage)}}};c.fetchAndStoreAutomationData=function(){__p&&__p();var a=b("PagesMarketingAutomationStore").getAutomationID();if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),g!==void 0?g:g=b("PagesMarketingAutomationContentViewQuery.graphql"),{automationID:a}),function(a){__p&&__p();var c,d,e,f,g,h;h=(h=a)!=null?(h=h.node)!=null?h.text:h:h;g=(g=a)!=null?(g=g.node)!=null?g.platforms:g:g;f=(f=a)!=null?(f=f.node)!=null?(f=f.automated_message_attachment)!=null?f.url:f:f:f;e=(e=a)!=null?(e=e.node)!=null?(e=e.automated_message_attachment)!=null?e.id:e:e:e;var i=null;if(e){var j;i=(j=a)!=null?(j=j.node)!=null?(j=j.automated_message_attachment)!=null?j.type:j:j:j;i=i?n(i):null}j=(j=a)!=null?(j=j.node)!=null?j.ctas:j:j;var k=[];j&&j.forEach(function(a){k.push({content:a.content,url:a.url,type:"button"})});j=(j=a)!=null?(j=j.node)!=null?j.trigger_type:j:j;j=j?b("PageAutomationTrigger")[j]:null;if(!h||!j)return;d=(d=a)!=null?(d=d.node)!=null?d.automated_checkout_steps:d:d;var l=null;d&&d.intro_message!==""&&d.question_messages.length>0&&d.question_messages[0]!==""&&d.thank_you_message!==""?l={introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message}:l=q();c=(c=a)!=null?(c=c.node)!=null?c.reengagement_events_data:c:c;var m=null;c&&c.reengagement_messages.length>0&&c.reengagement_rules_values.logical_or_rules.length>0?m=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataOutput(c):m=r();a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a);b("PagesMarketingAutomationActions").updateState(h,l,m,e?{id:e,url:f,type:i,class_name:"EntBusinessMessageWithItems"}:null,k,i,j,g);if(d==null?void 0:d.reminder_message){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage((c=d==null?void 0:d.reminder_message)!=null?c:"")}if(d==null?void 0:d.privacy_url){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL((a=d==null?void 0:d.privacy_url)!=null?a:"")}if(d==null?void 0:d.stop_question_message){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage((h=d==null?void 0:d.stop_question_message)!=null?h:"")}if(d==null?void 0:d.summary_message){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage((l=d==null?void 0:d.summary_message)!=null?l:"")}b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&j==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);j==="automated_checkout"&&b("PagesMarketingAutomationActions").storeState()})};c.fetchAndStoreAwayInfo=function(a){if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationContentViewAwayInfoQuery.graphql"),{pageID:a}),function(a){var c=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a.page.away_time_range);b("PagesMarketingAutomationActions").updateAwayTimeZone(a.page.away_time_zone);b("PagesMarketingAutomationActions").updateAwayTimeRange(c)})};c.fetchAndStoreIsCurrentMenuSetByAPI=function(a){b("promiseDone")(s(b("RelayFBEnvironment"),i!==void 0?i:i=b("PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql"),{pageID:a}),function(a){a=Boolean((a=a)!=null?(a=a.page_messenger_is_persistent_menu_set_by_api_query)!=null?a.is_menu_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(a)})};c.fetchAndStoreIsCurrentIcebreakersSetByAPI=function(){b("promiseDone")(s(b("RelayFBEnvironment"),j!==void 0?j:j=b("PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql"),{}),function(a){a=Boolean((a=a)!=null?(a=a.page_inbox_icebreakers_is_set_by_api_query)!=null?a.is_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentIcebreakersSetByAPI(a)})};c.fetchAndStoreIcebreakers=function(a){__p&&__p();var c=this;if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),k!==void 0?k:k=b("PagesMarketingAutomationContentViewIcebreakerQuery.graphql"),{pageID:a}),function(a){__p&&__p();a=(a=a)!=null?a.page_inbox_icebreakers_query:a;if(a!=null){a=a.map(function(a){var b,c=a.response_media_attachment;c&&(c={id:Number(c.id),url:c.url,type:n(c.type),class_name:c.class_name});var d=a.response_ctas;d&&(d=d.map(function(a){return{content:a.content,url:a.url,type:o(a.type)}}));return{custom_question:(b=a.custom_question)!=null?b:"",saved_response:(b=a.saved_response)!=null?b:"",response_ctas:(b=d)!=null?b:[],response_media_attachment:(d=c)!=null?d:null,should_show_in_menu:(b=a.should_show_in_menu)!=null?b:!1}});b("PagesMarketingAutomationActions").updateIcebreakers(a);a=c.shuffleDemoIcebreakers(a);b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(a)}})};c.fetchAndStoreIntakeFormInfo=function(a){__p&&__p();var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),l!==void 0?l:l=b("PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql"),{pageID:a,automationID:c}),function(a){var c,d;c=(c=a)!=null?(c=c.node)!=null?c.organic_intake_form_steps:c:c;d=a==null?void 0:(d=a.services_intake_form_predefined_questionnaire)==null?void 0:d.predefined_questions;c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""?b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(c.question_messages),thankYouMessage:c.thank_you_message}):d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message});d=(c=a)!=null?(c=c.node)!=null?(c=c.organic_intake_form_step_list)!=null?c.id:c:c:c;d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(d);b("PagesMarketingAutomationActions").storeIntakeFormInfo((a==null?void 0:(c=a.page)==null?void 0:(d=c.services_vertical_info)==null?void 0:d.eligible_for_intake_form)||!1,(c=a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.prompt_question_enabled)!=null?c:!1,a==null?void 0:(d=a.page)==null?void 0:(c=d.services_vertical_info)==null?void 0:c.qpc_consumer_flow,(a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.stop_question_message)||"",(a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.reminder_message)||"",(a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.privacy_url)||"",{promptQuestionMessage:(d=a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.prompt_question_message)!=null?d:"",promptQuestionStartAnswer:(c=a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.prompt_question_start_answer)!=null?c:"",promptQuestionStopAnswer:(a=a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.prompt_question_stop_answer)!=null?a:""})})};c.fetchAndStoreFollowUpMessageInfo=function(a){var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),m!==void 0?m:m=b("PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"),{pageID:a}),function(a){a=(a=(a=a.page)==null?void 0:a.services_follow_up_message_setting)!=null?a:{};b("PagesMarketingAutomationActions").storeFollowUpMessageInfo(a==null?void 0:a.message_content,a==null?void 0:a.schedule_in_seconds)})};c.shuffleDemoIcebreakers=function(a){var b=[];for(var c=0;c<a.length;c++)a[c].custom_question.trim()!==""&&b.push(c);c=Math.min(t,b.length);return b.slice(0,c)};c.fetchAndStoreAutomationSpecificInfo=function(a,b){a==="away_message"?c.fetchAndStoreAwayInfo(b):a==="icebreaker"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="custom_questions"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentMenuSetByAPI(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="organic_intake_form"?(this.logIntakeFormEvent("services_organic_intake_form_setup_impression",b),c.fetchAndStoreIntakeFormInfo(b)):a==="appointment_follow_up"&&c.fetchAndStoreFollowUpMessageInfo(b)};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,d){b("PagesMarketingAutomationStore").getAutomationID()!=null&&((!a||a.automationID==null||a.automationID!==b("PagesMarketingAutomationStore").getAutomationID())&&(c.fetchAndStoreAutomationSpecificInfo(b("PagesMarketingAutomationStore").getAutomationType(),d.pageID),b("PagesMarketingAutomationStore").getIsDefaultAutomation()?c.setupDefaultAutomation(d.pageID):c.fetchAndStoreAutomationData()));a=b("PagesMarketingAutomationStore").getAutomationType();return{welcomeText:b("PagesMarketingAutomationStore").getWelcomeText(),automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),organicIntakeFormMessages:b("PagesMarketingAutomationStore").getOrganicIntakeFormMessages(),isWelcomeTextIntialized:b("PagesMarketingAutomationStore").getIsWelcomeTextIntialized(),automationID:b("PagesMarketingAutomationStore").getAutomationID(),attachmentType:b("PagesMarketingAutomationStore").getAttachmentType(),media:b("PagesMarketingAutomationStore").getMedia(),errors:b("PagesMarketingAutomationStore").getErrors(),automationType:a,isEditMode:b("PagesMarketingAutomationStore").getIsEditMode(),ctas:b("PagesMarketingAutomationStore").getCTAs(),isEnabled:a==="away_message"?b("PagesMarketingAutomationStore").getIsCurrentlyAway():b("PagesMarketingAutomationStore").getIsCurrentAutomationEnabled(),isSendDisabled:b("PagesMarketingAutomationStore").getIsSendDisabled(),hasComposerBeenEdited:b("PagesMarketingAutomationStore").getHasComposerBeenEdited(),icebreakers:b("PagesMarketingAutomationStore").getIcebreakers(),initialSelectedSavedReply:b("PagesMarketingAutomationStore").getInitialSelectedSavedReply(),demoIcebreakerIndices:b("PagesMarketingAutomationStore").getDemoIcebreakerIndices(),reengagementData:b("PagesMarketingAutomationStore").getReengagementData(),isEligibleForIntakeForm:b("PagesMarketingAutomationStore").getIsEligibleForIntakeForm(),questionnaireDisqualificationMessage:b("PagesMarketingAutomationStore").getState().questionnaireDisqualificationMessage,questionnaireStopQuestionsMessage:b("PagesMarketingAutomationStore").getState().questionnaireStopQuestionsMessage,questionnaireSummaryMessage:b("PagesMarketingAutomationStore").getState().questionnaireSummaryMessage,questionnaireReminderMessage:b("PagesMarketingAutomationStore").getState().questionnaireReminderMessage,questionnairePrivacyPolicyURL:b("PagesMarketingAutomationStore").getState().questionnairePrivacyPolicyURL,followUpMessageData:b("PagesMarketingAutomationStore").getState().followUpMessageData,enabledPlatforms:b("PagesMarketingAutomationStore").getEnabledPlatforms(),qpcConsumerFlow:b("PagesMarketingAutomationStore").getState().qpcConsumerFlow,selectedSavedReply:b("PagesMarketingAutomationStore").getselectedSavedReply(),shouldShowAdvancedOptions:b("PagesMarketingAutomationStore").getShouldShowAdvancedOptions(),showQPCIcebreakersDisclaimer:b("PagesMarketingAutomationStore").showQPCIcebreakersDisclaimer(),isQPCPromptQuestionEnabled:b("PagesMarketingAutomationStore").getState().isQPCPromptQuestionEnabled,qpcPromptQuestion:b("PagesMarketingAutomationStore").getState().qpcPromptQuestion}};c.logIntakeFormEvent=function(a,c){var d=b("PagesMarketingAutomationStore").getServicesReferrerData(),e=d.referrer;d=d.referrerSurface;b("ServicesEventsLogger").log(c,a,{referrerUIComponent:e,referrerUISurface:d})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state.automationID;if(a==null)return;b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!1);new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("edit_message_click").setActionTag(a).setSessionKey(d.props.pageID).log()};b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")]);return d}var d=c.prototype;d.$1=function(){var a=this.state.icebreakers;return this.state.demoIcebreakerIndices.map(function(b){return a[b]})};d.$3=function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!1)};d.render=function(){var a=this.state.automationType;if(!a||this.state.automationID==null)return b("React").jsx("div",{});return this.state.isEditMode||a==="automated_checkout"?b("React").jsx(b("PagesMarketingAutomationEditView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationID:this.state.automationID,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,errors:this.state.errors,followUpMessageData:this.state.followUpMessageData,hasComposerBeenEdited:this.state.hasComposerBeenEdited,height:this.props.height,icebreakers:this.state.icebreakers,initialSelectedSavedReply:this.state.initialSelectedSavedReply,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isQPCPromptQuestionEnabled:this.state.isQPCPromptQuestionEnabled,isSendDisabled:this.state.isSendDisabled,isWelcomeTextIntialized:this.state.isWelcomeTextIntialized,media:this.state.media,onBack:this.$3,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,qpcConsumerFlow:this.state.qpcConsumerFlow,qpcPromptQuestion:this.state.qpcPromptQuestion,questionnaireDisqualificationMessage:this.state.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.state.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.state.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.state.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.state.questionnaireSummaryMessage,reengagementData:this.state.reengagementData,selectedSavedReply:this.state.selectedSavedReply,shouldShowAdvancedOptions:this.state.shouldShowAdvancedOptions,showQPCIcebreakersDisclaimer:this.state.showQPCIcebreakersDisclaimer,welcomeText:this.state.welcomeText}):b("React").jsx(b("PagesMarketingAutomationDetailView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,followUpMessageData:this.state.followUpMessageData,height:this.props.height,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isEnabled:this.state.isEnabled,media:this.state.media,menuItems:this.state.icebreakers&&this.state.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],onEdit:this.$2,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.state.reengagementData.reengagementMessages,welcomeText:this.state.welcomeText})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesMarketingAutomationContentViewInfoCard.react",["cx","FDSText.react","PagesAutomatedResponsesAwayScheduleDetail.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.showPageSchedule===!0?b("React").jsx(b("PagesAutomatedResponsesAwayScheduleDetail.react"),{isShown:!!a.showPageSchedule}):b("React").jsxs("div",{className:"_23gl",children:[b("React").jsx("div",{className:"_3-95",children:b("React").jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.title})}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_452x",children:b("React").jsx(b("FDSText.react"),{size:"body1",children:a.body})}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.note})]})]})}e.exports=a}),null);
__d("PagesMessengerCustomQuestionsPreview.react",["FDSButton.react","FlexLayout.react","MessengerMenuPreview.react","PagesManagerInboxFAQConstants","PagesMessengerPreview.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_MENU,h=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_QUESTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={previewType:"icebreaker"},c.$1=function(){c.setState({previewType:"icebreaker"})},c.$2=function(){c.setState({previewType:"menu"})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){switch(this.state.previewType){case"icebreaker":return b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:null,automationType:"icebreaker",ctas:[],icebreakers:this.props.icebreakers,media:null,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.text});case"menu":return b("React").jsx(b("MessengerMenuPreview.react"),{menuItems:this.props.menuItems,pageID:this.props.pageID,pageName:this.props.pageName})}};d.render=function(){var a;return(a=b("React")).jsxs(b("FlexLayout.react"),{align:"center",direction:"vertical",children:[this.$3(),a.jsxs(b("FlexLayout.react"),{children:[a.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="icebreaker",label:h,onClick:this.$1,roundedCorners:["topLeft","bottomLeft"]}),a.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="menu",label:g,onClick:this.$2,roundedCorners:["topRight","bottomRight"]})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationDetailView.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentViewInfoCard.react","PagesMarketingAutomationEnableDisplay.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","React","SUIBusinessTheme","SUINotice.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,k=a.getContentForDetailViewDescription,l=a.getContentForDetailViewGeneralDescription,m=a.getContentForDetailViewTitle,n=a.getContentForDisabledEditButtonNotice,o=a.getContentForNotice,p=a.getTimingContent,q=a.getTimingNote,r=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply,s=b("PagesMarketingAutomationUtils").shouldShowEditButton,t=b("PagesMarketingAutomationUtils").shouldShowNotice;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return a==="appointment_reminder"};d.$2=function(a){if(this.$1(a))return null;var c=a==="away_message"||"icebreaker"?i._("Edit"):i._("Edit Message");a=s(a);if(a)return b("React").jsx("div",{className:"_6a0n",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490984")}),label:c,onClick:this.props.onEdit,size:"large",use:"primary"})});else return b("React").jsx("div",{className:"_2pio",style:{visibility:"visible"},children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:n(this.props.automationType)})})})};d.$3=function(){return b("React").jsxs("div",{className:"_6a0o",children:[b("React").jsx("div",{className:"_2pio",style:{visibility:t(this.props.automationType,b("PagesMarketingAutomationStore").getIsDefaultAutomation())?"visible":"hidden"},children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:o(this.props.automationType)})})}),b("React").jsx("div",{className:"_2pin",children:b("React").jsx(b("FDSText.react"),{size:"header2",children:m(this.props.automationType)})}),b("React").jsx(b("PagesMarketingAutomationEnableDisplay.react"),{automationType:this.props.automationType,enabledPlatforms:this.props.enabledPlatforms,isEnabled:this.props.isEnabled}),b("React").jsx("div",{className:"_2pip",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:k(this.props.automationType,this.props.pageName)})}),b("React").jsx("div",{className:"_452x",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:l(this.props.automationType,this.props.pageName)})}),b("React").jsxs("div",{className:"_2phb",children:[b("React").jsx(b("PagesMarketingAutomationContentViewInfoCard.react"),{body:p(this.props.automationType,this.props.pageName),note:q(this.props.automationType,this.props.pageName),showPageSchedule:this.props.automationType==="away_message",title:i._("Timing")},"title"),this.$2(this.props.automationType)]})]})};d.render=function(){var a,c=this.props.welcomeText;switch(this.props.automationType){case"automated_checkout":c=this.props.automatedCheckoutMessages.introMessage;break;case"appointment_follow_up":c=(a=(a=this.props.followUpMessageData)==null?void 0:a.messageContent)!=null?a:c;break}return b("React").jsxs("div",{className:"_6a0p",style:{height:this.props.height},children:[b("React").jsx("div",{className:"_2f4x",children:this.$3()}),b("React").jsx("div",{className:"_2f4z",children:this.props.automationType==="mbs_reengagement"?b("React").jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementMessages}):this.props.automationType==="custom_questions"?b("React").jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(a=this.props.demoIcebreakers)!=null?a:[],menuItems:(a=this.props.menuItems)!=null?a:[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:j(this.props.automationType,this.props.pageName),ghostTextLocation:r(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,questionnaireMessages:this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?this.props.organicIntakeFormMessages:null,text:c})})]})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("AppointmentFollowUpMessageEditor.react",["ix","cx","fbt","DateConsts","Image.react","PagesManagerComposerSectionCard.react","PagesMarketingAutomationActions","PagesMarketingAutomationMessageComposer.react","React","ServicesFollowUpMessageSettingsUtils","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PureComponent;var j=b("ServicesFollowUpMessageSettingsUtils").FOLLOW_UP_MESSAGE_DURATION_UNITS,k=b("DateConsts").SEC_PER_YEAR,l=250;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a,b){d.$1({messageContent:b})},d.$3=function(a,c){d.$1({triggerTimeSecs:c}),b("PagesMarketingAutomationActions").updateIsSendDisabled(c>k)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){var c=a.messageContent;a=a.triggerTimeSecs;var d=this.props.followUpMessageData;if(d==null)return;b("PagesMarketingAutomationActions").setComposerHasBeenEdited();b("PagesMarketingAutomationActions").storeFollowUpMessageInfo((c=c)!=null?c:d.messageContent,(c=a)!=null?c:d.triggerTimeSecs)};d.render=function(){var a=this.props.followUpMessageData;if(a==null)return;var c=a.triggerTimeSecs,d=c>k?{mediaError:null,ctaErrors:[],welcomeTextError:null,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[],errorText:null,timeInputError:i._("Maximum follow-up message schedule time is 12 months")}:null;return b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:"",ctas:null,errors:d,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:!0,media:null,onIndexedTimeChange:this.$3,onMessageChange:this.$2,pageID:this.props.pageID,showPersonalization:!0,showTimeSection:!0,textLimit:l,time:c,timeDurationUnits:j,welcomeText:a.messageContent}),header:i._("Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")})};return c}(a);e.exports=c}),null);
__d("PageUpdateCustomIcebreakersMutation",["RelayFBEnvironment","RelayModern","PageUpdateCustomIcebreakersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageUpdateCustomIcebreakersMutation.graphql");function a(a,c){var d=a.data.icebreaker_question_answer_pairs.map(function(a){return{custom_question:a.custom_question,saved_response:a.saved_response}});d={page_update_question_answer_pairs:{icebreaker_question_answer_pairs:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesAutomatedQuestionnaireMessageItem.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditing:!0},c.$1=function(){c.setState({isEditing:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs(b("React").Fragment,{children:[this.props.title!=null&&this.props.description!=null&&b("React").jsxs("div",{className:"_3-8- _6_oc",children:[b("React").jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:this.props.title}),b("React").jsx("br",{}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:this.props.description})]}),this.state.isEditing?b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:this.props.automationID,ctas:null,errors:this.props.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:!0,media:null,onMessageChange:this.props.onIntroMessageChange,pageID:this.props.pageID,showPersonalization:!1,showTimeSection:!1,specialType:this.props.specialType,welcomeText:this.props.content}):b("React").jsxs("div",{className:"_3-8x _2pi4 _2pi9 _8ej0 _6_oc",children:[b("React").jsxs("div",{className:"_2pit _8eix",children:['"',this.props.content,'"']}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490346")}),label:i._("Edit"),onClick:this.$1,size:"medium"})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerComposerTopBar.react",["ix","cssVar","cx","fbt","ContextualLayer.react","FDSButton.react","FDSText.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function k(a){var c,d=(c=b("React")).jsxs("div",{className:"_4zss",style:{borderLeft:"4px solid"+a.color},children:[c.jsx("div",{className:"_75o0",children:a.leftIcon}),c.jsx(b("FDSText.react"),{size:"body3",children:a.text})]});return c.jsx(b("ContextualLayer.react"),{alignment:a.alignment,contextRef:a.contextRef,offsetY:8,position:"below",shown:!0,children:d})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){c.$1=a},c.$4=function(){return c.$1},c.$5=function(a){c.$2=a},c.$6=function(){return c.$2},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=null,c=null,d=null,e="#FA383E",f=b("React").jsx(b("Image.react"),{className:"_2pih",src:g("494559")});this.props.primaryError!==null&&this.props.primaryError!==void 0?(c=this.props.primaryError,a=this.$4,d="right"):this.props.previewError!==null&&this.props.previewError!==void 0?(c=this.props.previewError,a=this.$6,d="left"):this.props.previewSuccessText!==null&&this.props.previewSuccessText!==void 0&&(c=this.props.previewSuccessText,a=this.$6,d="left",e="#00A400",f=b("React").jsx(b("Image.react"),{src:g("506114")}));var h=b("React").jsx("span",{className:"_2phz",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("492063")}),label:this.props.previewButtonText,onClick:this.props.onPreviewClick,ref:this.$5})});return b("React").jsxs("div",{className:"_4qd8",children:[b("React").jsx("span",{className:"_4qd9",children:b("React").jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:this.props.headerContent})}),b("React").jsxs("div",{className:"_4qd7",children:[b("React").jsxs("span",{className:"_2phz",children:[this.props.hidePreviewButton!==!0?h:null,this.props.showCancelButton===!0?b("React").jsx(b("FDSButton.react"),{isDisabled:this.props.cancelDisabled,label:j._("Cancel"),onClick:this.props.onCancel}):null,this.props.showDeleteButton===!0?b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("481982")}),isDisabled:this.props.deleteButtonDisabled,label:j._("Delete"),onClick:this.props.onDeleteClick}):null]}),b("React").jsx("span",{className:"_2phz",children:b("React").jsx(b("FDSButton.react"),{isDisabled:this.props.sendDisabled,label:this.props.primaryButtonText,onClick:this.props.onPrimaryClick,ref:this.$3,use:"primary"})}),c!==null&&a&&d?b("React").jsx(k,{alignment:d,color:e,contextRef:a,leftIcon:f,text:c}):null]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationCheckoutQuestionComposer.react",["cx","AdsMessengerPartialAutomatedCreationTypes","MessengerDestinationPartialAutomatedCreationSectionQuestions.react","PagesMarketingAutomationActions","React","emptySet"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={focusedIndex:0},d.$1=function(a){d.setState({focusedIndex:a})},d.$2=function(a){a=a.map(function(a){var b=a.answers?a.answers.map(function(a){return a.value}):[];return{answers:b,answerType:(b=a.answerType)!=null?b:i.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"}});b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:a,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){return a.map(function(a){return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:a.answers.map(function(a){return{fieldID:"",value:a,nextStep:h.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}})};d.render=function(){return b("React").jsx("div",{className:"_6_oc",children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationSectionQuestions.react"),{account:null,focusedIndex:this.state.focusedIndex,isEmojiTest:!1,isSkipToEnabled:!1,onAddQuestion:this.props.onAddQuestion,onQuestionItemChange:this.props.onQuestionMessageChange,onRemoveQuestion:this.props.onRemoveQuestion,onSetQuestions:this.$2,pageID:this.props.pageID,questionItems:this.$3(this.props.automatedCheckoutMessages.questionMessages),sectionValidationErrors:b("emptySet"),setFocusedIndex:this.$1,showError:this.props.showError,showRichFormat:!1})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesAutomatedSequenceStep.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationUtils","FDSSection.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.question?this.props.question&&this.props.question.answerType?b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(this.props.question.answerType):"":i._("Completion Message"),c=this.props.question?b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:this.props.question.answerType}):b("React").jsx(b("Image.react"),{src:g("1122016")}),d=this.props.question?this.props.question.message:this.props.completionMessage;c=b("React").jsxs("span",{className:"_8xlv",children:[b("React").jsx("span",{className:"_8xlw",children:c}),b("React").jsx(b("FDSText.react"),{margin:"_3-9a",size:"body2",weight:"bold",children:a})]});return b("React").jsxs("div",{className:"_8xii _8xlx",children:[c,b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{margin:"_3-9a",size:"body1",children:d})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesAutomatedSequenceStepList.react",["React","SavedResponsesAutomatedSequenceStep.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("React").Fragment,{children:this.props.questionMessages.map(function(c,d){return b("React").jsx(b("SavedResponsesAutomatedSequenceStep.react"),{pageID:a.props.pageID,question:c},d)})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedResponsesAutomatedSequenceDialog.react",["cx","fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","MessengerAdsConversionFunnelTypedLogger","PagesMarketingAutomationActions","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","React","SavedResponsesAutomatedSequenceStep.react","SavedResponsesAutomatedSequenceStepList.react","SavedResponsesConstants","SavedResponsesUtils","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="start",j="dismiss";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:c,questionMessages:d.state.automatedCheckoutMessages.questionMessages,thankYouMessage:d.state.automatedCheckoutMessages.thankYouMessage})},d.$2=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_trigger_click").setConversionType("BUYER_INFORMATION").setEventSubtype(j).setPageID(d.props.pageID).log(),d.props.onHide(),b("PagesMarketingAutomationActions").updateAutomatedSequenceDialogSeeAll(!1)},d.$4=function(){b("PagesMarketingAutomationUtils").startAutomatedSequence(d.props.pageID,d.props.recipientID),new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_trigger_click").setConversionType("BUYER_INFORMATION").setEventSubtype(i).setPageID(d.props.pageID).log(),b("PagesMarketingAutomationActions").updateRecentAutomationThreadFBID(d.props.recipientID),b("PagesMarketingAutomationActions").updateShouldShowAutomationToast(!0),d.props.onHide(),b("PagesMarketingAutomationActions").updateAutomatedSequenceDialogSeeAll(!1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),seeAll:b("PagesMarketingAutomationStore").getAutomatedSequenceDialogSeeAll()}};var d=c.prototype;d.$3=function(){b("PagesMarketingAutomationActions").updateAutomatedSequenceDialogSeeAll(!0)};d.render=function(){var a;new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_trigger_impression").setConversionType("BUYER_INFORMATION").setPageID(this.props.pageID).log();b("PagesMarketingAutomationActions").updateAutomationType("automated_checkout");return(a=b("React")).jsx(b("FDSModal.react"),{footer:a.jsx(m,{onHide:this.$2,startSequence:this.$4}),header:a.jsx(b("FDSModalHeader.react"),{title:h._("Start Buyer Information Sequence")}),isShown:!0,onHide:this.$2,width:b("SavedResponsesConstants").automatedSequenceDialogWidth,children:a.jsx(b("ScrollableArea.react"),{maxHeight:b("SavedResponsesConstants").dialogMaxScrollableHeight,children:a.jsxs("div",{className:"_8p88",children:[a.jsx(k,{automatedCheckoutID:this.props.automatedCheckoutID,automatedCheckoutMessages:this.state.automatedCheckoutMessages,onIntroMessageChange:this.$1,pageID:this.props.pageID}),a.jsx(l,{automatedCheckoutMessages:this.state.automatedCheckoutMessages,expanded:this.state.seeAll,pageID:this.props.pageID,seeAll:this.$3})]})})})};return c}(b("React").PureComponent);function k(a){return b("React").jsxs(b("FDSSection.react"),{children:[b("React").jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:h._("Intro")}),b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automatedCheckoutID,ctas:null,errors:null,hideAttachmentSection:!0,hideCTASection:!0,inDialog:!0,isWelcomeTextIntialized:!0,media:null,onMessageChange:a.onIntroMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.introMessage})]})}function l(a){return a.expanded?b("React").jsxs(b("FDSSection.react"),{children:[b("React").jsx(b("SavedResponsesAutomatedSequenceStepList.react"),{pageID:a.pageID,questionMessages:a.automatedCheckoutMessages.questionMessages}),b("React").jsx(b("SavedResponsesAutomatedSequenceStep.react"),{completionMessage:a.automatedCheckoutMessages.thankYouMessage,pageID:a.pageID}),b("React").jsx("a",{className:"_8p87",onClick:b("SavedResponsesUtils").editAutomatedCheckout,role:"presentation",children:h._("Edit Sequence")})]}):b("React").jsx(b("FDSSection.react"),{children:b("React").jsxs("div",{className:"_8p86",children:[b("React").jsx(b("FDSText.react"),{color:"disabled",size:"body1",children:h._("1 of {step count}",[h._param("step count",a.automatedCheckoutMessages.questionMessages.length+2)])}),b("React").jsx("a",{className:"_8p87",onClick:a.seeAll,role:"presentation",children:h._("See All")})]})})}function m(a){return b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Start Sequence"),onClick:a.startSequence,use:"primary"}),secondaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:a.onHide})})}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerAdminSearchSource",["AbstractSearchSource","CurrentUser","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PagesManagerAdminSearchSource1=[],b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.cacheData=function(a){this.$PagesManagerAdminSearchSource1=a};d.hasCachedData=function(){return this.$PagesManagerAdminSearchSource1.length>0};d.searchImpl=function(a,c,d){__p&&__p();var e=[],f=this.$PagesManagerAdminSearchSource1;if(a){var g=a.toLowerCase();f=this.$PagesManagerAdminSearchSource1.filter(function(a){return a.name.toLowerCase().startsWith(g)})}var h;f.map(function(a){if(d&&d.placeCurrentAdminOnTop&&a.id===b("CurrentUser").getID()){var c;h=new(b("SearchableEntry"))({title:a.name,uniqueID:a.id,photo:(c=a.profile_picture)!=null?c.uri:c});return}e.push(new(b("SearchableEntry"))({title:a.name,uniqueID:a.id,photo:(c=a.profile_picture)!=null?c.uri:c}))});f=e.sort(function(a,b){return a.getTitle().localeCompare(b.getTitle())});h&&f.unshift(h);c(f,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxListAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setInboxListResponseData:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_RESPONSE_DATA,isReady:a})},itemFolderChange:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE,ids:a,newFolder:c,oldFolder:d})},removeMutatedItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE,ids:a})},banStatusChange:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE,isBanned:c,userName:a})},removeBanNotice:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE})}};e.exports=a}),null);
__d("PagesManagerMessagesInterface",["Animation","Arbiter","AsyncRequest","CreatorStudioInboxMessengerRankedUsersAction","MercuryIDs","MercuryThreadActions","MessagingTag","PageCommItemFolder","PageCommItemStatus","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","XMessagingSetPreferencesController","ge"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="PagesManagerMessagesInterface";a={applyIfVisibleOnPage:function(a,c){a=b("ge")(a);a&&c(a)},changeThreadSpamStatus:function(a,c,d,e){d?b("MercuryThreadActions").getForFBID(a).markSpam(c,"PagesManagerInterface"):b("MercuryThreadActions").getForFBID(a).unmarkSpam(c,"PagesManagerInterface"),b("PagesManagerInboxListAction").itemFolderChange([c],d?b("PageCommItemStatus").SPAM:e,d?e:b("PageCommItemStatus").SPAM),b("PagesManagerAction").viewListItem(null)},changeThreadArchivedStatus:function(a,c,d,e){d?b("MercuryThreadActions").getForFBID(a).archive(c,g):b("MercuryThreadActions").getForFBID(a).unarchive(c,g)},changeThreadReadStatus:function(a,c,d){d?b("MercuryThreadActions").getForFBID(a).markRead(c,g):b("MercuryThreadActions").getForFBID(a).markUnread(c,g)},markThreadAsSpam:function(a,c,d,e,f,h,i,j){if(h===b("MessagingTag").OTHER||i)return;c.forEach(function(c){b("MercuryThreadActions").getForFBID(a).markSpam(c,g)});this._updateMercuryPayload(a,c,e,f,j!==!0);j&&c.forEach(function(c){c=b("MercuryIDs").getUserIDFromThreadID(c);c&&b("CreatorStudioInboxMessengerRankedUsersAction").deleteCreatorStudioInboxMessengerRankedUser(a,c)})},unmarkThreadAsSpam:function(a,c,d,e){c.forEach(function(c){b("MercuryThreadActions").getForFBID(a).unmarkSpam(c,g)}),this._updateMercuryPayload(a,c,d,e)},markThreadAsFollowUp:function(a,c,d,e,f,h){d=e?b("PageCommItemStatus").FOLLOW_UP:b("PageCommItemStatus").TODO;var i=!0;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").TODO&&(i=!1);e?b("MercuryThreadActions").getForFBID(a).markPageFollowUp(c,g):b("MercuryThreadActions").getForFBID(a).unmarkPageFollowUp(c,g);this._updateMercuryPayload(a,[c],d,f,h?!1:i)},changeThreadFolderToInbox:function(a,c,d,e,f){switch(e.toUpperCase()){case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:f?b("MercuryThreadActions").getForFBID(a).changeFolder(c,b("MessagingTag").INBOX):b("MercuryThreadActions").getForFBID(a).unarchive(c,g);this._updateMercuryPayload(a,[c],b("PageCommItemStatus").TODO,e);break;case b("PageCommItemStatus").FOLLOW_UP:this.markThreadAsFollowUp(a,c,d,!1,b("PageCommItemStatus").FOLLOW_UP);break;case b("PageCommItemStatus").SPAM:this.unmarkThreadAsSpam(a,[c],b("PageCommItemStatus").TODO,b("PageCommItemStatus").SPAM);default:return}},changeThreadFolderToDone:function(a,c,d,e){b("MercuryThreadActions").getForFBID(a).archive(c,g);this._updateMercuryPayload(a,[c],b("PageCommItemStatus").DONE,d,e!==!0);if(e){d=b("MercuryIDs").getUserIDFromThreadID(c);d&&b("CreatorStudioInboxMessengerRankedUsersAction").deleteCreatorStudioInboxMessengerRankedUser(a,d)}},changeThreadFolderToBackground:function(a,c,d){b("MercuryThreadActions").getForFBID(a).changeFolder(c,b("MessagingTag").PAGE_BACKGROUND),this._updateMercuryPayload(a,[c],b("PageCommItemStatus").DONE,d)},markThreadAsDeleted:function(a,c,d,e){d!=null&&(a=d);b("MercuryThreadActions").getForFBID(a)["delete"](c,g);d=b("MercuryIDs").getUserIDFromThreadID(c);d&&e&&b("CreatorStudioInboxMessengerRankedUsersAction").deleteCreatorStudioInboxMessengerRankedUser(a,d)},_updateMercuryPayload:function(a,c,d,e,f){f===void 0&&(f=!0),b("MercuryThreadActions").getForFBID(a).updateCommStatus(c,d),b("PagesManagerInboxListAction").itemFolderChange(c,d,e),f&&b("PagesManagerAction").viewListItem(null)},hideElement:function(a){new(b("Animation"))(a).to("opacity",0).duration(150).hide().go()},notifyUpdateCompleted:function(){b("Arbiter").inform("PagesManagerLayout/refreshSection",{section:"messages"})},updateUnreadCount:function(a){b("Arbiter").inform("pagesManagerMessaging/messageUnreadCountUpdated",{metricCount:a}),b("Arbiter").inform("PagesManagerLayout/updateCount",{count:a,section:"messages"}),b("Arbiter").inform("PagesManagerLayout/updateCount",{count:a,section:"messages",subsection:"inbox"})},updatePreferences:function(a){a=b("XMessagingSetPreferencesController").getURIBuilder().setBool("send_on_enter",a.sendOnEnter).getURI();new(b("AsyncRequest"))(a).send()}};e.exports=a}),null);
__d("PagesManagerResizeListener",["EventEmitter"],(function(a,b,c,d,e,f){e.exports=new(b("EventEmitter"))()}),null);
__d("PagesManagerContentSearchContainer.react",["cx","fbt","FluxContainer","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerMessagingMessagelistAction","PagesManagerMessagingMessagelistStore","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=40;function j(a){return b("React").jsx("div",{className:"_6o3q",children:a.totalCount===0?h._("No matched messages for \"{query_name}\"",[h._param("query_name",k(a.query,i))]):h._("{selected_index} of {total_count} matched messages for \"{query_name}\"",[h._param("selected_index",a.contentSearchSelectedIndex+1),h._param("total_count",a.totalCount),h._param("query_name",k(a.query,i))])})}function k(a,b){return a.length>b?a.slice(0,b)+"...":a}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(d.state.contentSearchSelectedIndex-1)},d.$2=function(){b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(d.state.contentSearchSelectedIndex+1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};c.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};var d=c.prototype;d.$3=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem()};d.render=function(){var a=h._("Previous result"),c=h._("Next result"),d=h._("Clear search");return b("React").jsxs("div",{className:"_6o3r",children:[b("React").jsx(b("XUIButton.react"),{"aria-label":a,className:"_6o3s",disabled:this.state.contentSearchSelectedIndex>=this.props.totalCount-1,label:"",onClick:this.$2,role:"button",tabIndex:0,title:a,type:"primary"}),b("React").jsx(b("XUIButton.react"),{"aria-label":c,className:"_6o3t",disabled:this.state.contentSearchSelectedIndex===0,label:"",onClick:this.$1,role:"button",tabIndex:0,title:c,type:"primary"}),this.props.query?b("React").jsx(j,{contentSearchSelectedIndex:this.state.contentSearchSelectedIndex,query:this.props.query,totalCount:this.props.totalCount}):null,b("React").jsx(b("XUIButton.react"),{"aria-label":d,className:"_6o3u",label:"",onClick:this.$3,role:"button",tabIndex:0,title:d,type:"primary"})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxDetailView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","MNCommerceDialogContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","React","ResponsiveBlock.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={composerHeight:0,headerHeight:0},c.$4=function(a,b){c.setState({composerHeight:b})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(a,b){this.props.token!==a.token&&this.$2();if(this.state.composerHeight!==b.composerHeight||this.state.headerHeight!==b.headerHeight||this.props.height!==a.height){b=this.props.onScrollHeightChange;b&&b(this.$3())}};d.$2=function(){if(this.$1){var a=this.$1.getArea();a&&a.scrollToBottom()}};d.$3=function(){return Math.max(this.props.height-this.state.headerHeight-this.state.composerHeight,0)};d.$5=function(){if(b("PagesManagerInboxFilterStore").getActiveType()!=="INSTAGRAM")return!1;if(b("PagesManagerInboxStore").getBusinessInboxAppConfig()!=null){var a;return Boolean((a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramConfig)==null?void 0:a.shouldShowIGRevampComments)}return b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM.shouldShowIGRevampComments};d.$6=function(){var a=this;if(this.props.useCustomScrollableArea)return b("React").jsx("div",{style:{height:this.$3(this.state.headerHeight,this.state.composerHeight)},children:this.props.content});else if(this.props.shouldShowRevampCommentDesign===!0||this.$5())return b("React").jsx(b("ScrollableArea.react"),{className:"_7-21",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(b){return a.$1=b},shadow:!1,children:this.props.content});else return b("React").jsx(b("ScrollableArea.react"),{className:"_2pw6",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(b){return a.$1=b},shadow:!1,children:b("React").jsx(b("CenteredContainer.react"),{children:this.props.content})})};d.$7=function(){return this.props.commPlatform==="MESSENGER"?b("React").jsx(b("MNCommerceDialogContainer.react"),{}):null};d.render=function(){if(this.$5()){var a;return(a=b("React")).jsxs(b("Layout.react"),{style:{height:this.props.height},children:[a.jsxs(b("LayoutFillColumn.react"),{className:b("joinClasses")(this.props.className,"_8ax6"),children:[this.props.searchView,this.$6(),a.jsx(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,children:this.props.composer})]}),a.jsx(b("LayoutColumn.react"),{className:"_8ax1",children:this.props.contextCard})]})}else return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_5n4i"),style:{height:this.props.height},children:[this.props.searchView,this.$6(),this.$7(),b("React").jsx(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,style:{paddingBottom:this.props.paddingBottom},children:this.props.composer})]})};return c}(b("React").PureComponent);a.defaultProps={onScrollHeightChange:function(){},useCustomScrollableArea:!1};e.exports=a}),null);
__d("PagesManagerInboxFacebookPost.react",["DOMContainer.react","PagesManagerInboxLogger","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerInboxLogger").itemRendered(this.props.commItemID)};d.render=function(){return b("React").jsx(b("DOMContainer.react"),{children:this.props.post})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFacebookPostComposer.react",["cx","CenteredContainer.react","DOMContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{children:b("React").jsx(b("CenteredContainer.react"),{className:"_2y_2",fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("DOMContainer.react"),{children:this.props.composer})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFacebookPostStore",["invariant","ActorURI","AsyncRequest","FluxStore","LoadObject","MediaManagerUtils","PagesManagerDispatcher","PagesManagerInboxActionType","XPagesManagerInboxFacebookPostController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxFacebookPostStore1=new Map();return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerInboxActionType").FACEBOOK_POST.LOADED:this.$PagesManagerInboxFacebookPostStore1.set(a.data.itemID,b("LoadObject").withValue(a.data));this.__emitChange();break}};d.get=function(a,c,d){this.$PagesManagerInboxFacebookPostStore1.has(a)||(this.$PagesManagerInboxFacebookPostStore1.set(a,b("LoadObject").loading()),this.$PagesManagerInboxFacebookPostStore2(a,c));c=this.$PagesManagerInboxFacebookPostStore1.get(a);c||g(0,693);d&&this.$PagesManagerInboxFacebookPostStore1["delete"](a);return c};d.$PagesManagerInboxFacebookPostStore2=function(a,c){var d=b("XPagesManagerInboxFacebookPostController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData((d={item_id:a,feedback_source:b("MediaManagerUtils").isMediaManagerApp()?71:63},d[b("ActorURI").PARAMETER_ACTOR]=c,d)).send()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxFacebookPostContainer.react",["FeedbackReactionTypeNames","FluxContainer","PagesManagerInboxAction","PagesManagerInboxDetailLoading.react","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFacebookPost.react","PagesManagerInboxFacebookPostComposer.react","PagesManagerInboxFacebookPostStore","PagesManagerInboxLogger","PagesMessagingPerfTypedLogger","React","RelayModern","UFIDispatcherBase","nullthrows","PagesManagerInboxFacebookPostContainer_commItem.graphql","PagesManagerInboxFacebookPostContainer_story.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i="CENTRALUPDATES_SAVED_COMMENT",j="PageCommItemPart";a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFacebookPostStore")]};c.calculateState=function(a,c){a=c.commItem.__typename===j;var d=c.commItem.id;return{post:b("PagesManagerInboxFacebookPostStore").get(b("nullthrows")(d),c.pageID,a)}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$1=b("UFIDispatcherBase").register(function(c){switch(c.type){case"add_comment_submit_new":c.replyCommentID||(a.$4(),b("PagesManagerInboxAction").comment());break;case i:b("PagesManagerInboxLogger").logSendComment("FACEBOOK",a.props.pageID,a.convertCommentIDtoCommentFBID(c.commentID),c.ftentidentifier);break;case"comment_change_reaction_success":b("PagesManagerInboxLogger").logCommentReaction("FACEBOOK",a.props.pageID,c.fbid,c.ftentidentifier,b("FeedbackReactionTypeNames")[c.reactionType]);break}});this.$3=!1};d.componentDidUpdate=function(a,b){a=b.post.getValue();b=a&&a.itemID;a=this.state.post.getValue();a=a&&a.itemID;if(b!==a){this.$4();return}!this.state.post.isLoadingOrEmpty()&&!this.$3&&(this.$5(),this.$3=!0)};d.componentWillUnmount=function(){this.$1&&b("UFIDispatcherBase").unregister(this.$1)};d.$5=function(){var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);a.setEventName("page_post_render_complete_event").setPlatform("FACEBOOK").log()};d.convertCommentIDtoCommentFBID=function(a){var b=a.toString().indexOf("_")+1;return a.toString().substring(b)};d.$4=function(){var a=this.$2;a&&(a.scrollToBottom&&a.scrollToBottom())};d.$6=function(){var a=this.state.post.getValueEnforcing(),c=this.props.commItem.id;return b("React").jsx(b("PagesManagerInboxFacebookPost.react"),{commItemID:b("nullthrows")(c),post:a.element})};d.$7=function(){var a=this.state.post.getValue();return this.state.post.isLoading()||!a?b("React").jsx("div",{}):b("React").jsx(b("PagesManagerInboxFacebookPostComposer.react"),{composer:a.composer})};d.render=function(){var a=this,c=this.props.commItem.__typename===j;return this.state.post.isLoading()||this.state.post.isEmpty()?b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):b("React").jsx(b("PagesManagerInboxDetailViewContainer.react"),{componentRef:function(b){a.$2=b},composer:this.$7(),content:this.$6(),height:this.props.height,item:this.props.commItem,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowRevampCommentDesign:c})};return c}(b("React").PureComponent);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{commItem:g!==void 0?g:g=b("PagesManagerInboxFacebookPostContainer_commItem.graphql"),story:h!==void 0?h:h=b("PagesManagerInboxFacebookPostContainer_story.graphql")})}),null);
__d("PagesManagerInboxIGCommentAction",["PagesManagerDispatcher","PagesManagerInboxActionType"],(function(a,b,c,d,e,f){"use strict";a={deleteReply:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY,parentCommentID:a})},reply:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IG_COMMENT.REPLY,parentCommentID:a})}};e.exports=a}),null);
__d("PagesManagerInboxInstagramCommentDeleteMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentDeleteMutation.graphql");function a(a,c){__p&&__p();var d=function(c,d){c=c.get(a.instagram_media_id);if(!c)return;var e=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");e&&h.deleteNode(e,a.instagram_comment_id);c&&h.deleteNode(c,a.instagram_comment_id);c=d==null?void 0:(e=d.instagram_comment_delete)==null?void 0:e.parent_instagram_comment_id;c!=null&&b("PagesManagerInboxIGCommentAction").deleteReply(c)};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_comment_id:a.instagram_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({MESSAGE:{SET:"message/set",LINK_REPLY:"message/link_reply",CLEAR:"message/clear"}});e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerActions",["PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";a={setMessage:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET,message:a})},linkReply:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY,replyMetadata:a})},clearMessage:function(){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR})}};e.exports=a}),null);
__d("PagesManagerInboxInstagramUserPhotoContainer.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_2q1j"+(this.props.shape==="circle"?" _kpb":"");return b("React").jsx(b("Image.react"),{className:a,height:this.props.imageSize,src:this.props.imageURI,width:this.props.imageSize})};return c}(b("React").PureComponent);a.defaultProps={shape:"square"};e.exports=a}),null);
__d("PagesManagerInboxInstagramCommentRow.react",["cx","fbt","ContextualDialogArrow","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramUserPhotoContainer.react","PopoverMenu.react","React","ReactXUIMenu","TextWithEntities.react","Timestamp.react","XUICard.react","XUIDotsButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactXUIMenu").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.props.commentID===null||d.props.commentID===void 0)return;b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:d.props.commentID,instagram_media_id:d.props.igMediaID})},d.$4=function(){if(d.props.igUsername===null||d.props.igUsername===void 0||d.props.commentID===null)return;b("PagesManagerInboxInstagramPostComposerActions").linkReply({username:d.props.igUsername,parent_comment_id:d.props.commentID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a,c=(a=b("React")).jsx(b("ReactXUIMenu"),{children:a.jsx(i,{onClick:this.$2,children:h._("Delete")})});return a.jsx(b("PopoverMenu.react"),{alignv:"middle",layerBehaviors:[b("ContextualDialogArrow")],menu:c,children:a.jsx(b("XUIDotsButton.react"),{className:"_88me",size:"medium",tooltip:h._("Options")})})};d.$3=function(){return b("React").jsxs("div",{className:"_88mf",children:[b("React").jsx("div",{className:"_88mg",children:b("React").jsx(b("Timestamp.react"),{minimize:!0,time:Number(this.props.creationTime),useLargerTimeUnits:!0})}),this.props.likeCount!==void 0&&this.props.likeCount!==null&&this.props.likeCount>0&&b("React").jsx("div",{className:"_88ml",children:h._({"*":"{like count} likes","_1":"{like count} like"},[h._param("like count",this.props.likeCount),h._plural(this.props.likeCount)])}),b("React").jsx(b("Link.react"),{className:"_88mm",onClick:this.$4,children:h._("Reply")})]})};d.render=function(){var a;return(a=b("React")).jsx(b("XUICard.react"),{className:"_88mn","data-testid":"ig_comment_row",children:a.jsxs(b("Layout.react"),{className:"_88mo",children:[a.jsx(b("LayoutColumn.react"),{children:a.jsx("div",{className:"_8b8t",children:a.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:this.props.profilePictureURI,shape:"circle"})})}),a.jsxs(b("LayoutColumn.react"),{className:"_8ax9",children:[a.jsxs(b("XUIText.react"),{className:"_8b8s",children:[a.jsx("span",{className:"_88mq",children:this.props.igUsername}),a.jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]}),this.$3()]}),a.jsx(b("LayoutFillColumn.react"),{children:this.$1()})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxIGCommentStore",["FluxStore","PagesManagerDispatcher","PagesManagerInboxActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxIGCommentStore1=new Map();c.$PagesManagerInboxIGCommentStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerInboxActionType").IG_COMMENT.REPLY:this.updateStore(a);this.__emitChange();break;case b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY:this.updateStore(a);this.__emitChange();break}};d.updateStore=function(a){__p&&__p();var c,d=this.$PagesManagerInboxIGCommentStore1.get(a.parentCommentID);c=(c=d==null?void 0:d.numRepliesLoaded)!=null?c:0;d=(d=d==null?void 0:d.numRepliesShowing)!=null?d:0;var e={};switch(a.type){case b("PagesManagerInboxActionType").IG_COMMENT.REPLY:e={numRepliesLoaded:c+1,numRepliesShowing:d+1};break;case b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY:e={numRepliesLoaded:c-1,numRepliesShowing:d-1};break}this.setReplyInfo(a.parentCommentID,e);this.setUpdatedCommentID(a.parentCommentID)};d.getReplyInfo=function(a){return this.$PagesManagerInboxIGCommentStore1.get(a)};d.setReplyInfo=function(a,b){this.$PagesManagerInboxIGCommentStore1.set(a,b)};d.getUpdatedCommentID=function(){return this.$PagesManagerInboxIGCommentStore2};d.setUpdatedCommentID=function(a){this.$PagesManagerInboxIGCommentStore2=a};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramRepliesContainer.react",["cx","fbt","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramCommentRow.react","React","RelayModern","XUIButton.react","XUICard.react","PagesManagerInboxInstagramRepliesContainer_item.graphql","PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={numRepliesShowing:c.props.numRepliesShowingInitially},c.$1=function(){var a;a=(a=(a=c.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;c.state.numRepliesShowing<a?c.setState({numRepliesShowing:a}):c.$2()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);if(a==null){a=((a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:a.edges)||[];b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a.length,numRepliesShowing:0})}};d.componentDidUpdate=function(){var a;a=(a=(a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;var c=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);c!=null&&b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a,numRepliesShowing:this.state.numRepliesShowing})};d.$2=function(){this.$3()?this.$4():this.$5()};d.$3=function(){return this.props.relay.hasMore()};d.$4=function(){var a=this;this.props.relay.loadMore(k,function(){var b;b=(b=(b=a.props.item)==null?void 0:(b=b.instagram_replies)==null?void 0:(b=b.edges)==null?void 0:b.length)!=null?b:0;a.setState({numRepliesShowing:b})})};d.$5=function(){this.setState({numRepliesShowing:0})};d.render=function(){__p&&__p();var a=this,c,d;c=((c=this.props.item)==null?void 0:c.reply_count)||0;d=((d=this.props.item)==null?void 0:(d=d.instagram_replies)==null?void 0:d.edges)||[];if(c===0)return null;d=this.state.numRepliesShowing>0?d.slice(-this.state.numRepliesShowing).map(function(c){var d;return b("React").jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:(d=c.node)==null?void 0:d.id,creationTime:(d=c.node)==null?void 0:d.creation_time,igMediaID:a.props.igMediaID,igUsername:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:d.username,likeCount:(d=c.node)==null?void 0:d.like_count,message:(d=c.node)==null?void 0:d.text,pageID:a.props.pageID,profilePhotoSize:a.props.profilePhotoSize,profilePictureURI:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:(d=d.profile_picture_24)==null?void 0:d.uri},(d=c.node)==null?void 0:d.id)}):null;if(this.state.numRepliesShowing<c){c=c-this.state.numRepliesShowing;c=h._("View replies ({reply count})",[h._param("reply count",c)])}else c=h._("Hide replies");return b("React").jsx(b("XUICard.react"),{className:"_8e5p",children:b("React").jsxs("div",{className:"_8e3n",children:[b("React").jsx(b("XUIButton.react"),{className:"_8e3o",image:b("React").jsx("div",{className:"_8e3p"}),label:c,onClick:this.$1,use:"default"}),d]})})};return c}(b("React").PureComponent);e.exports=a(c,{item:i!==void 0?i:i=b("PagesManagerInboxInstagramRepliesContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.item)==null?void 0:a.instagram_replies},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,instagramCommentID:a.item.id}},query:j!==void 0?j:j=b("PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramRepliesFluxContainer.react",["FluxContainer","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramRepliesContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=3,i=g!==void 0?g:g=b("PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxIGCommentStore")]};c.calculateState=function(a,c){var d=b("PagesManagerInboxIGCommentStore").getUpdatedCommentID(),e=b("PagesManagerInboxIGCommentStore").getReplyInfo(c.parentCommentID),f={numRepliesToLoad:Math.min(c.replyCount,h),numRepliesToShow:0};if(e==null||c.parentCommentID!==d){return(c=a)!=null?c:f}return{numRepliesToLoad:e.numRepliesLoaded,numRepliesToShow:e.numRepliesShowing}};var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:i,render:function(c){c.error;c=c.props;return c?b("React").jsx(b("PagesManagerInboxInstagramRepliesContainer.react"),{igMediaID:a.props.igMediaID,item:c.item,numRepliesShowingInitially:a.state.numRepliesToShow,pageID:a.props.pageID,parentCommentID:a.props.parentCommentID,profilePhotoSize:a.props.profilePhotoSize}):null},variables:{count:this.state.numRepliesToLoad,instagramCommentID:this.props.parentCommentID}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxInstagramCommentRowContainer.react",["PagesManagerInboxInstagramCommentRow.react","PagesManagerInboxInstagramRepliesFluxContainer.react","React","RelayModern","PagesManagerInboxInstagramCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.item.id||"",d=this.props.item.reply_count||0;return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igMediaID:this.props.igMediaID,igUsername:(a=this.props.item.instagram_actor)==null?void 0:a.username,likeCount:this.props.item.like_count,message:this.props.item.text,pageID:this.props.pageID,profilePhotoSize:h,profilePictureURI:(a=this.props.item.instagram_actor)==null?void 0:(a=a.profile_picture_24)==null?void 0:a.uri}),b("React").jsx(b("PagesManagerInboxInstagramRepliesFluxContainer.react"),{igMediaID:this.props.igMediaID,pageID:this.props.pageID,parentCommentID:c,profilePhotoSize:h,replyCount:d})]})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentsContainer.react",["cx","fbt","List.react","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxLogger","React","RelayModern","XUIButton.react","PagesManagerInboxInstagramCommentsContainer_igPost.graphql","PagesManagerInboxInstagramCommentsContainer_item.graphql","PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.relay.loadMore(l)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.item.id||"";b("PagesManagerInboxLogger").itemRendered(a);this.props.onInitialLoad&&this.props.onInitialLoad()};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:b("React").jsx("div",{className:"_8b4-",children:b("React").jsx(b("XUIButton.react"),{className:"_8ax7",image:b("React").jsx("div",{className:"_8ax8"}),label:h._("View more comments"),onClick:this.$1,use:"default"})})};d.render=function(){var a=this,c;c=((c=this.props.igPost.ig_comments)==null?void 0:c.edges)||[];var d=this.props.igPost.id||"";return b("React").jsxs("div",{"data-testid":"ig_comment_post",children:[this.$3(),b("React").jsx(b("List.react"),{children:c.map(function(c){return c.node!==null&&c.node!==void 0&&c.node.id!==null&&c.node.id!==void 0?b("React").jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:d,item:c.node,pageID:a.props.pageID},c.node.id):null})})]})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.igPost)==null?void 0:a.ig_comments},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxCommentContextCardSectionLayout.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_7-22",children:[this.props.title,this.props.children]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCarouselDots.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.length;c++)a.push(b("React").jsx("td",{children:b("React").jsx("div",{className:"_2nqj"+(c===this.props.index?" _2nqk":"")})},c.toString()));return b("React").jsx("table",{className:this.props.className,children:b("React").jsx("tbody",{children:b("React").jsx("tr",{children:a})})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostPhotoContainer.react",["ix","cx","CenteredContainer.react","Image.react","PagesManagerInboxInstagramPostCarouselDots.react","React","RelayModern","fbglyph","PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b;b=a.call(this)||this;b.$2=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex+1})};b.$3=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex-1})};b.$4=function(){b.$1&&(b.props.onImageInitialLoad&&b.props.onImageInitialLoad(),b.$1=!1)};b.state={selectedMediaIndex:0};b.$1=!0;return b}var d=c.prototype;d.render=function(){var a,c;c=(c=this.props.igPost)!=null?(c=c.child_medias)!=null?(c=c[this.state.selectedMediaIndex])!=null?(c=c.image)!=null?c.uri:c:c:c:c;a=(a=this.props.igPost)!=null?(a=a.image)!=null?a.uri:a:a;var d=b("React").jsx(b("Image.react"),{className:"_2v6z _2v6-",onClick:this.$2,src:g("114597")}),e=b("React").jsx(b("Image.react"),{className:"_2v6z _2v6_",onClick:this.$3,src:g("114587")});return b("React").jsxs("div",{className:"_2v70",children:[b("React").jsx(b("Image.react"),{height:this.props.imageSize,onLoad:this.$4,src:this.props.igPost.has_multiple_media===!0?c:a,width:this.props.imageSize}),this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex>0?e:null,this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex<this.props.igPost.child_medias.length-1?d:null,this.props.igPost.has_multiple_media===!0&&b("React").jsx(b("CenteredContainer.react"),{className:"_2qws",children:b("React").jsx(b("PagesManagerInboxInstagramPostCarouselDots.react"),{index:this.state.selectedMediaIndex,length:this.props.igPost.child_medias.length})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramContextCard.react",["cx","fbt","PagesManagerInboxCommentContextCardSectionLayout.react","PagesManagerInboxInstagramPostPhotoContainer.react","React","RelayModern","ScrollableArea.react","TextWithEntities.react","XUIText.react","formatDate","PagesManagerInboxInstagramContextCard_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j="Instagram User",k=236,l=1e3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPublishedDate=function(){if(this.props.igPost.creation_time!=null){var a=b("formatDate")(new Date(this.props.igPost.creation_time*l),{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").jsx("div",{className:"_8axa",children:a.replace(/\,[^,]+$/,"")})}else return null};d.render=function(){var a,c,d;a=(a=(a=this.props.igPost)==null?void 0:(a=a.instagram_actor)==null?void 0:a.username)!=null?a:j;c=(c=this.props.igPost)==null?void 0:c.caption_text;d=((d=this.props.igPost)==null?void 0:d.caption_text)?b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx("span",{className:"_8axb",children:a}),b("React").jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:c})]}):null;return b("React").jsx("div",{children:b("React").jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[b("React").jsx("div",{className:"_8axc",children:b("React").jsx("div",{className:"_8axd",children:b("React").jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:k})})}),b("React").jsx(b("PagesManagerInboxCommentContextCardSectionLayout.react"),{children:b("React").jsxs("div",{className:"_8axe",children:[b("React").jsxs("div",{className:"_8b8w",children:[b("React").jsx("div",{className:"_8axf",children:h._({"*":"{number} likes","_1":"1 like"},[h._plural((a=this.props.igPost)==null?void 0:a.like_count,"number")])}),this.showPublishedDate()]}),d]})})]})})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramContextCard_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRow.react",["cx","fbt","Layout.react","Link.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","TextWithEntities.react","Timestamp.react","Tooltip","XUICard.react","XUIText.react","formatDate","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=600;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){if(c.props.igUser===null||c.props.igUser===void 0||c.props.commentID===null)return;c.props.onReplyComment({username:c.props.igUser.username,parent_comment_id:c.props.commentID})},c.$2=function(){if(c.props.commentID===null||c.props.commentID===void 0)return;c.props.onDeleteComment(c.props.commentID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return!this.props.showActions?null:b("React").jsxs("div",{className:"_3i54",children:[b("React").jsx(b("Link.react"),{onClick:this.$2,children:b("React").jsx("div",babelHelpers["extends"]({className:"_3ybh"},b("Tooltip").propsFor(h._("Delete")),{"data-tooltip-delay":k}))}),b("React").jsx(b("Link.react"),{onClick:this.$3,children:b("React").jsx("div",babelHelpers["extends"]({className:"_3ybi"},b("Tooltip").propsFor(h._("Reply")),{"data-tooltip-delay":k}))})]})};d.render=function(){var a;a=(a=this.props.igUser)!=null?(a=a.profile_picture_24)!=null?a.uri:a:a;return b("React").jsx(b("XUICard.react"),{className:b("joinClasses")(this.props.showActions?"_3i4z":"",this.props.className),"data-testid":"ig_comment_row",children:b("React").jsxs(b("Layout.react"),{className:"_3i4-",children:[b("React").jsx(i,{children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:a,shape:"circle"})}),b("React").jsx(j,{children:b("React").jsx("div",{className:"_3i4_",children:b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx("span",{className:"_3i53",children:this.props.igUser&&this.props.igUser.username}),b("React").jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]})})}),b("React").jsxs(i,{children:[this.$1(),b("React").jsx("div",{className:"_3i55",children:b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.creationTime,"M j"),time:Number(this.props.creationTime)})})]})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCaptionContainer.react",["PagesManagerInboxInstagramPostCommentRow.react","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.igPost.caption_text?null:b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{className:this.props.className,creationTime:this.props.igPost.creation_time,igUser:this.props.igPost.instagram_actor,message:this.props.igPost.caption_text,onDeleteComment:b("emptyFunction"),onReplyComment:b("emptyFunction"),profilePhotoSize:h,showActions:!1})};return c}(b("React").Component);e.exports=a(c,{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRowContainer.react",["PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostCommentRow.react","PagesManagerInboxInstagramPostComposerActions","React","RelayModern","PagesManagerInboxInstagramPostCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:a,instagram_media_id:d.props.instagram_media_id})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").linkReply(a)};d.render=function(){var a=this,c;c=((c=this.props.item)!=null?c.replies:c)||[];c=c.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:c.id,creationTime:c.creation_time,igUser:c.instagram_actor,message:c.text,onDeleteComment:a.$1,onReplyComment:a.$2,profilePhotoSize:h,showActions:!0})});return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igUser:this.props.item.instagram_actor,message:this.props.item.text,onDeleteComment:this.$1,onReplyComment:this.$2,profilePhotoSize:h,showActions:!0}),c]})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentsContainer.react",["cx","fbt","Link.react","List.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxInstagramPostCaptionContainer.react","PagesManagerInboxInstagramPostCommentRowContainer.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql","PagesManagerInboxInstagramPostCommentsContainer_item.graphql","PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){return a.props.relay.refetchConnection(a.props.igPost.instagram_comments.edges.length,b("emptyFunction"))});b("PagesManagerInboxLogger").itemRendered(this.props.item.id)};d.componentWillUnmount=function(){this.$1&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:b("React").jsx("div",{className:"_13ze",children:b("React").jsx(b("Link.react"),{className:"_2nye",onClick:this.$4,children:h._("Load more comments")})})};d.render=function(){var a=this,c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramPostCaptionContainer.react"),{className:(this.$2()?"_3-96":"")+(this.$2()?"":" _3-95"),igPost:this.props.igPost}),this.$3(),b("React").jsx(b("List.react"),{children:c.shouldShowIGRevampComments?this.props.igPost.instagram_comments.edges.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)}):this.props.igPost.instagram_comments.edges.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramPostCommentRowContainer.react"),{instagram_media_id:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramPostCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.igPost)!=null?a.instagram_comments:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentCreateMutation",["ClientIDs","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentCreateMutation.graphql");function a(a,c){__p&&__p();var d=function(b){__p&&__p();var c=b.get(a.instagram_media.id);if(!c)return;var d=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");b=b.getRootField("instagram_comment_create");if(!b)return;b=b.getLinkedRecord("instagram_media_comment_edge");d&&b&&h.insertEdgeAfter(d,b);c&&b&&h.insertEdgeAfter(c,b)},e=function(){var c=a.instagram_media.instagram_actor;return{instagram_comment_create:{instagram_media_comment_edge:{node:{id:b("ClientIDs").getNewClientID(),creation_time:Math.round(Date.now()/1e3),text:a.text,instagram_actor:{id:c.id,username:c.username,profile_picture:{uri:c.profile_picture_24.uri}}}}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposer.react",["cx","fbt","CenteredContainer.react","Layout.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","ShimButton.react","XUITextInput.react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=32;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(a.comment!==this.props.comment&&a.comment!==""){var c=this.$1;c&&b("setImmediate")(function(){return c.focusInput()})}};d.render=function(){var a=this,c;c=(c=this.props.igUser)!=null?(c=c.profile_picture_32)!=null?c.uri:c:c;return b("React").jsxs(b("Layout.react"),{className:"_1fn3",children:[b("React").jsx(i,{className:"_1fn4",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:c,imageSize:k})})}),b("React").jsx(j,{children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("XUITextInput.react"),{className:"_1fn5",ref:function(b){return a.$1=b},onChange:this.props.onCommentChange,onEnter:this.props.handleComment,placeholder:h._("Add a comment..."),value:this.props.comment})})}),b("React").jsx(i,{children:b("React").jsx("div",{className:"_45d7",children:b("React").jsx("div",{className:"_45d8"})})}),b("React").jsx(i,{children:this.$2()})]})};d.$2=function(){var a=this.props.comment==="",c=b("React").jsx("div",{className:"_1fn8"+(a?" _45df":"")+(a?"":" _45dg")});a||(c=b("React").jsx(b("ShimButton.react"),{onClick:this.props.handleComment,children:c}));return b("React").jsx(b("CenteredContainer.react"),{className:a?"":"_45d5",fullHeight:!0,horizontal:!1,vertical:!0,children:c})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxInstagramPostComposerStore1="";c.$PagesManagerInboxInstagramPostComposerStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET:this.$PagesManagerInboxInstagramPostComposerStore3(a.message);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY:this.$PagesManagerInboxInstagramPostComposerStore4(a.replyMetadata.username);this.$PagesManagerInboxInstagramPostComposerStore5(a.replyMetadata.parent_comment_id);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerInboxInstagramPostComposerStore1="";this.$PagesManagerInboxInstagramPostComposerStore5(null);this.__emitChange();break}};d.getMessage=function(){return this.$PagesManagerInboxInstagramPostComposerStore1};d.$PagesManagerInboxInstagramPostComposerStore3=function(a){this.$PagesManagerInboxInstagramPostComposerStore1=a};d.getParentCommentID=function(){return this.$PagesManagerInboxInstagramPostComposerStore2};d.$PagesManagerInboxInstagramPostComposerStore5=function(a){this.$PagesManagerInboxInstagramPostComposerStore2=a};d.$PagesManagerInboxInstagramPostComposerStore4=function(a){this.$PagesManagerInboxInstagramPostComposerStore1="@".concat(a).concat(" ")};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramReplyCreateMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramReplyCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("PagesManagerInboxInstagramReplyCreateMutation.graphql");function a(a,c){__p&&__p();var d=function(a,c){__p&&__p();var d;d=(d=c.instagram_reply_create)==null?void 0:(d=d.instagram_reply)==null?void 0:d.id;c=(c=c.instagram_reply_create)==null?void 0:(c=c.instagram_reply)==null?void 0:c.parent_comment_id;if(!d||!c)return;d=a.get(d);var e=a.get(c);if(!d||!e)return;e=i.getConnection(e,"PagesManagerInboxInstagramRepliesContainer_instagram_replies");if(!e)return;a=i.createEdge(a,e,d,"InstagramCommentInstagramRepliesEdge");e&&a&&i.insertEdgeAfter(e,a);b("PagesManagerInboxIGCommentAction").reply(c)},e=function(){var b=a.instagram_media.instagram_actor;return{instagram_reply_create:{instagram_reply:{id:a.actor_id,text:a.text,creation_time:Math.round(Date.now()/1e3),like_count:0,instagram_actor:{id:b.id,username:b.username,profile_picture:{uri:b.profile_picture_24.uri}}}}}};return h(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text,parent_comment_id:a.parent_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerContainer.react",["FluxContainer","PagesManagerInboxAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentCreateMutation","PagesManagerInboxInstagramPostComposer.react","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramPostComposerStore.react","PagesManagerInboxInstagramReplyCreateMutation","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostComposerContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={comment:"",parent_comment_id:null},d.$1=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];!!d.state.parent_comment_id&&!!a.shouldShowIGRevampComments?b("PagesManagerInboxInstagramReplyCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment,parent_comment_id:d.state.parent_comment_id}):b("PagesManagerInboxInstagramCommentCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment});b("PagesManagerInboxInstagramPostComposerActions").clearMessage();b("PagesManagerInboxAction").comment();b("PagesManagerInboxLogger").logSendComment("INSTAGRAM",d.props.pageID);d.props.onCreateComment()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxInstagramPostComposerStore.react")]};c.calculateState=function(a){return{comment:b("PagesManagerInboxInstagramPostComposerStore.react").getMessage(),parent_comment_id:b("PagesManagerInboxInstagramPostComposerStore.react").getParentCommentID()}};var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxInstagramPostComposer.react"),{comment:this.state.comment,handleComment:this.$1,igUser:this.props.igPost.instagram_actor,onCommentChange:c.$2})};return c}(b("React").PureComponent);c.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").setMessage(a.target.value)};e.exports=a(b("FluxContainer").create(c),{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostComposerContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostSummaryContainer.react",["cx","fbt","CenteredContainer.react","React","RelayModern","PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_2p4t",children:[a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4w",children:a.jsx("div",{className:"_u84"})}),a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4x",children:this.props.igPost.like_sentence.text}),this.$1()]})};d.$1=function(){var a=this.props.igPost.comment_count;return!a?null:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4y",children:h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostPhotoCardContainer.react",["cx","ImageBlock.react","PagesManagerInboxInstagramPostPhotoContainer.react","PagesManagerInboxInstagramPostSummaryContainer.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","RelayModern","Timestamp.react","XUICard.react","XUICardSection.react","formatDate","PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=476,j=32;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props.igPost)!=null?(a=a.instagram_actor)!=null?(a=a.profile_picture_32)!=null?a.uri:a:a:a;return b("React").jsxs(b("XUICard.react"),{className:"_4cye",children:[b("React").jsxs(b("XUICardSection.react"),{children:[b("React").jsxs(b("ImageBlock.react"),{spacing:"medium",children:[b("React").jsx("div",{className:"_4cyf",children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:a,imageSize:j})}),b("React").jsxs("div",{className:"_4cyg",children:[b("React").jsx("div",{className:"_4cyh",children:this.props.igPost.instagram_actor.username}),b("React").jsx("div",{className:"_4cyi",children:b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})})]})]}),b("React").jsx("div",{className:"_4cyk",children:b("React").jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:i,onImageInitialLoad:this.props.onImageInitialLoad})})]}),b("React").jsx(b("XUICardSection.react"),{background:"light-wash",children:b("React").jsx(b("PagesManagerInboxInstagramPostSummaryContainer.react"),{igPost:this.props.igPost})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostContainer.react",["cx","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentsContainer.react","PagesManagerInboxInstagramContextCard.react","PagesManagerInboxInstagramPostCommentsContainer.react","PagesManagerInboxInstagramPostComposerContainer.react","PagesManagerInboxInstagramPostPhotoCardContainer.react","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostContainer_igPost.graphql","PagesManagerInboxInstagramPostContainer_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$5=function(){var a=c.$1;a&&a.scrollToBottom&&a.scrollToBottom()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxDetailViewContainer.react"),{componentRef:function(b){a.$1=b},composer:this.$2(),content:this.$3(),contextCard:j.shouldShowIGRevampComments?this.$4():null,height:this.props.height,item:this.props.item,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID})};d.$3=function(){if(j.shouldShowIGRevampComments)return b("React").jsx(b("PagesManagerInboxInstagramCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,onInitialLoad:this.$5,pageID:this.props.mailboxID});else return b("React").jsxs("div",{className:"_hbt","data-testid":"ig_comment_post",children:[b("React").jsx(b("PagesManagerInboxInstagramPostPhotoCardContainer.react"),{igPost:this.props.igPost,onImageInitialLoad:this.$5}),b("React").jsx(b("PagesManagerInboxInstagramPostCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,pageID:this.props.mailboxID})]})};d.$2=function(){return b("React").jsx(b("PagesManagerInboxInstagramPostComposerContainer.react"),{igPost:this.props.igPost,onCreateComment:this.$5,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,ref:"composer"})};d.$4=function(){return b("React").jsx(b("PagesManagerInboxInstagramContextCard.react"),{height:this.props.height,igPost:this.props.igPost})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostContainer_igPost.graphql"),item:i!==void 0?i:i=b("PagesManagerInboxInstagramPostContainer_item.graphql")})}),null);
__d("AbstractPagesManagerListStore",["invariant","FluxStore","PagesManagerActionType","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.__hasMoreItem=new Map();b.__isLoading=!1;b.__areThreadsFetchedUpdated=!1;return b}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(a);break;case b("PagesManagerActionType").LIST.FETCHED:case b("PagesManagerActionType").LIST.UPDATED:this.__areThreadsFetchedUpdated=!0;this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING:this.__isLoading=!0;this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(a);break;default:return}};d.__handleListFetch=function(a){g(0,2593)};d.__handleNavigationUnitChange=function(a){g(0,2594)};d.hasMoreItem=function(a){return this.__hasMoreItem.has(a)?b("nullthrows")(this.__hasMoreItem.get(a)):!1};d.getItemList=function(a,b){g(0,2595)};d.isLoading=function(){return this.__isLoading};d.areThreadsFetchedUpdated=function(){return this.__areThreadsFetchedUpdated};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("PagesManagerInboxListStore",["AbstractPagesManagerListStore","MediaManagerActionTypes","MercuryPageOrderedThreadlist","MercuryThreadlistConstants","MessengerState.bs","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerMessagingNavigationUnitKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.__onDispatch=function(c){__p&&__p();this.__areThreadsFetchedUpdated=!1;switch(c.type){case b("PagesManagerActionType").LIST.SET_RESPONSE_DATA:this.__isLoading=!c.isReady;this.__emitChange();break;case b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore7(c.ids,c.newFolder,c.oldFolder);this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore1&&this.$PagesManagerInboxListStore1.id===c.ids[0]&&(this.$PagesManagerInboxListStore1=null);this.__emitChange();break;case b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE:this.$PagesManagerInboxListStore5=c.isBanned;this.$PagesManagerInboxListStore4=c.userName;this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE:this.$PagesManagerInboxListStore5=null;this.$PagesManagerInboxListStore4=null;this.__emitChange();break;case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(c);break;case g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION:this.$PagesManagerInboxListStore6=c.rowIndex;break;default:a.prototype.__onDispatch.call(this,c)}};d.getLastMutatedItem=function(){return this.$PagesManagerInboxListStore1};d.getMediaManagerInboxListRowIndex=function(){return this.$PagesManagerInboxListStore6};d.hasMutatedItem=function(){return this.$PagesManagerInboxListStore2};d.getUserName=function(){return this.$PagesManagerInboxListStore4};d.getIsUserBanned=function(){return this.$PagesManagerInboxListStore5};d.$PagesManagerInboxListStore7=function(a,b,c){this.$PagesManagerInboxListStore1={id:a[0],oldFolder:c,newFolder:b},this.$PagesManagerInboxListStore2=!0};d.__handleListFetch=function(a){var c=a.pageID,d=a.offset;a=a.limit;this.__isLoading=!0;var e=this.$PagesManagerInboxListStore8(c,d+a);e?this.$PagesManagerInboxListStore9(this.hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder())):this.$PagesManagerInboxListStore10(c,d,a);this.__emitChange()};d.$PagesManagerInboxListStore8=function(a,c){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var d=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),e=a.hasLoadedThreadlist(d,b("PagesManagerInboxFilterStore").getActiveFilter());e=d===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED?e&&a.hasLoadedThreadlist(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,b("PagesManagerInboxFilterStore").getActiveFilter()):e;a=a.getThreadCount(d,b("PagesManagerInboxFilterStore").getActiveFilter())>=c;return e||a};d.$PagesManagerInboxListStore10=function(a,c,d){__p&&__p();var e=this,f=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),g=b("PagesManagerInboxFilterStore").getActiveFilter(),h=b("MercuryPageOrderedThreadlist").getForFBID(a);h.getFilteredThreadlist(c,d+1,f,g,function(i){__p&&__p();if(f===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED)h.getFilteredThreadlist(c,d+1,b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,g,function(f){f=i.concat(f);var c=f.length>d;e.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,f,function(a){e.$PagesManagerInboxListStore9(c)},null)});else{var j=i.length>d;e.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,i,function(a){e.$PagesManagerInboxListStore9(j)},null)}})};d.$PagesManagerInboxListStore11=function(a){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var c=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),d=b("PagesManagerInboxFilterStore").getActiveFilter();if(c===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED){a.getThreadlistOrderMap(c,d).addResources(a.getThreadlistOrderMap(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,d).getAllResources());return a.getAvailableThreadlistNow(c,d)}else return a.getAvailableThreadlistNow(c,d)};d.$PagesManagerInboxListStore9=function(a){this.__isLoading=!1,this.__hasMoreItem.set(b("PagesManagerInboxFilterStore").getActiveFolder(),a),this.__dispatcher.isDispatching()||this.__dispatcher.dispatch({type:b("PagesManagerActionType").LIST.FETCHED})};d.getItemList=function(a){var c=this.$PagesManagerInboxListStore11(a),d=b("PagesManagerInboxFilterStore").getActiveMessageFolder();d=this.hasMoreItem(d)&&c.length>0?c.slice(0,c.length-1):c;var e=[];d.forEach(function(c){c=b("MessengerState.bs").getThreadMetaNow(a,c);c&&e.push(c)});return e};d.getItemsForAdmin=function(a,c){a=this.getItemList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getThreadSubscription=function(){return this.$PagesManagerInboxListStore3};d.__handleNavigationUnitChange=function(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);if(!b("PagesManagerInboxMercuryUtil").shouldUseMercury())return;this.__handleListFetch({pageID:a.pageID,offset:0,limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT})};return c}(b("AbstractPagesManagerListStore"));e.exports=new a()}),null);
__d("PagesManagerDisableComposerView.react",["cx","fbt","PagesManagerInboxComposerStateReasonType","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP)return b("React").jsx("div",{children:b("React").jsx("span",{className:"_73d5",children:h._("You can't send messages to this group because you're no longer a participant.")})});else return b("React").jsx("div",{children:b("React").jsx("span",{className:"_73d5",children:h._("You can't send messages. Message composer has been disabled.")})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNUXAction",["AsyncRequest","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxLogger","XBasicFBNuxDismissController","XBasicFBNuxViewController","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({NUX_VIEW:null,NUX_DISMISS:null,NUX_CLICK_GET_STARTED:null});a={logView:function(a){if(a>0){var c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerInboxLogger").create(g.NUX_VIEW).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.VIEW,nuxID:a})},logClickGetStarted:function(a){b("PagesManagerInboxLogger").create(g.NUX_CLICK_GET_STARTED).setNuxID(String(a)).log()},dismiss:function(a){if(a>0){var c=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerInboxLogger").create(g.NUX_DISMISS).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.DISMISS,nuxID:a})},hide:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.HIDE})}};e.exports=a}),null);
__d("PagesManagerInboxSmartComposeNuxContainer.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="pages_smart_compose_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSmartComposeNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowSmartComposeNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.hasTypeahead||b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.render=function(){var a=g._("Predictive text suggestions will appear as you type. Just hit the tab or right arrow key to use the suggested phrase. Suggestions are generated on our servers based on what you type.");return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"above",shown:this.state.shouldShowSmartComposeNUX,width:"wide",children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxProductPickerNuxContainer.react",["fbt","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="business_inbox_product_picker_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.setState({shouldShowNux:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]);return{shouldShowNux:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"above",shown:this.state.shouldShowNux,children:g._("Now you can easily send products to potential customers.")})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListSpinner.react",["cx","CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{className:"_108x",vertical:!0,children:b("React").jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxReturnToSendNUX.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="www_return_to_send_message_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowReturnToSendNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowReturnToSendNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.render=function(){var a=g._("Press the Return\/Enter key to send messages.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"above",shown:this.state.shouldShowReturnToSendNUX,width:"normal",children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSavedRepliesUpsellNUXContainer.react",["fbt","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerMessagingComposerStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="page_inbox_saved_reply_upsell_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.setState({shouldShowNUX:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){return{shouldShowNUX:b("PagesManagerMessagingComposerStore").getShouldShowSavedReplyUpsellNUX()}};var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]);return a};d.render=function(){var a=g._("Manage and send all your saved replies from this menu.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$2,position:"above",shown:this.state.shouldShowNUX&&this.$1(),children:a})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSavedReplyNewUINuxContainer.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="page_inbox_saved_reply_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$2=function(){d.setState({shouldShowNux:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]);return a};d.render=function(){var a=this.props.haveUsedSavedReplies?g._("New! Add shortcuts for your saved replies to send messages more quickly."):g._("Create saved replies to send common responses more quickly.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$2,position:"above",shown:this.state.shouldShowNux,children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServicesShipOrderDialogItem.react",["ix","cx","fbt","AdsCurrencyFormatter","DateTime","FDSButton.react","Image.react","LeftRight.react","React","Timezone","asset","curry"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("Timezone").UTC;c=b("Timezone").getEnvironmentTimezoneID;var j=c()||a;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsxs(b("LeftRight.react"),{children:[this.props.orderUrl!=null?b("React").jsx(b("Image.react"),{className:"_8a-0",src:this.props.orderUrl}):b("React").jsx("div",{className:"_8azm",children:b("React").jsx(b("Image.react"),{src:g("994826")})}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_8azn",children:b("DateTime").create(this.props.unixTimestamp,j).format("M j, Y")+" \u2022 "+b("AdsCurrencyFormatter").formatCurrency(this.props.paymentCurrency,this.props.paymentAmount*100)}),b("React").jsx("div",{className:"_8azr",children:"#"+this.props.invoiceID})]})]}),b("React").jsx("div",{className:"_8azs",children:b("React").jsx(b("FDSButton.react"),{label:i._("Select"),onClick:b("curry")(this.props.onSelectClick,this.props.invoiceID),use:"default"})})]})};return c}(b("React").PureComponent);e.exports=d}),null);
__d("PagesManagerInboxMessengerContainer.react",["cx","AsyncRequest","BootloadOnRender.react","ChatAppointmentUtil","ErrorBoundary.react","FluxContainer","ImmutableObject","Instant","JSResource","LazyComponent.react","MercuryIDs","MercuryMessageStore","MercuryPageMessageActions","MercuryServerPayloadPreprocessor","MercuryWECMessageActions","MessengerConfig","MessengerHotLikePreviewEvents","MessengerMessageTransformer.bs","MessengerReadReceipt.bs","MessengerState.bs","PagesManagerContentSearchContainer.react","PagesManagerInboxAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxMessengerDetailView.react","PagesManagerMessagingComposerContainer.react","PagesManagerMessagingMessageList.react","PagesManagerMessagingMessagelistAction","PagesManagerMessagingMessagelistStore","PagesManagerOmniMActions","PagesManagerOmniMStore","PagesManagerOmniMUtils","PagesMessagingPerfTypedLogger","QE2Logger","React","SubscriptionsHandler","XMessengerAdShouldShowEyebrowTextForBusinessStickerController","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=5,i="services_thread_intent_improvement",j=4e3,k=0,l=0,m="inbox";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c)||this;e.$6=function(){e.state.isLoadingMore||e.getMessageStore().fetchMoreMessages()&&(b("PagesManagerMessagingMessagelistAction").setIsLoading(!1),b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!0))};e.$3=!1;e.$4=Date.now();b("PagesManagerOmniMActions").init(c.threadFBID,c.pageID);return e}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore"),b("PagesManagerOmniMStore")]};c.calculateState=function(a,c){__p&&__p();a=[];var d=c.threadFBID,e=null,f=null,g=null,h=!1,i=null,j=null,k=null;d=b("MercuryIDs").getThreadIDFromUserID(d);a=b("PagesManagerMessagingMessagelistStore").getMessagelist(c.pageID,d);e=b("MessengerState.bs").getThreadMetaNow(c.pageID,d);f=b("PagesManagerOmniMStore").getQuickScheduleStartTime();g=b("PagesManagerOmniMStore").getSuggestions();k=b("PagesManagerOmniMStore").getMessageID();h=b("PagesManagerOmniMStore").getShowSuggestionBar()&&!!g&&Object.keys(g).length>0&&(!!f||Object.prototype.hasOwnProperty.call(g,"suggested_reply_location")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_yes_no_short_answer_no")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_yes_no_short_answer_yes")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq_saved_reply")||Object.prototype.hasOwnProperty.call(g,"messenger_detected_conversion")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_business_sticker"));i=b("PagesManagerOmniMStore").getConversionData();j=b("PagesManagerOmniMStore").getPartnerAppLogo();return{conversionData:i,isLoadingMore:b("PagesManagerMessagingMessagelistStore").isLoadingMore(),messagelist:a,scrollHeight:b("PagesManagerMessagingMessagelistStore").getScrollHeight(),showSuggestionBar:h,startTime:f,suggestions:g,thread:e,contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex(),partnerAppLogo:j,messageID:k,senderID:b("PagesManagerOmniMStore").getSenderID(),shouldShowEyebrowTextForBusinessSticker:(c=b("PagesManagerOmniMStore").getShouldShowEyebrowTextForBusinessSticker())!=null?c:!1,suggestionSpacerHeight:(d=b("PagesManagerOmniMStore").getSuggestionSpacerHeight())!=null?d:0,upsellSpecificData:b("PagesManagerOmniMStore").getTriggerSavedRepliesUpsell()}};var d=c.prototype;d.componentDidMount=function(){var a=this.props.threadFBID;a&&this.$5(b("MercuryIDs").getThreadIDFromUserID(a));this.$4=Date.now();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setThreadID(a).setPlatform("MESSENGER").setEventName("messages_messagelist_load_start").setThreadOffset(0).log()};d.componentWillUnmount=function(){this.$2&&this.$2.destroy(),this.$1&&this.$1.release(),b("PagesManagerOmniMActions").dismissSuggestionBar()};d.UNSAFE_componentWillReceiveProps=function(a){a=a.threadFBID;var c=this.props.threadFBID;a&&a!==c&&this.$5(b("MercuryIDs").getThreadIDFromUserID(a))};d.getMessageStore=function(){return this.$2};d.$7=function(a){b("PagesManagerMessagingMessagelistAction").setScrollAreaHeight(a)};d.$8=function(a){__p&&__p();if(this.props.activeCommPlatform!=="MESSENGER")return;var c=this.$9(a);if(!c){b("PagesManagerOmniMActions").dismissSuggestionBar();return}var d=c.conversionData,e=c.startTime,f=c.suggestions,g=c.partnerAppLogo,h=c.messageID;c=c.senderID;if(f&&Object.keys(f).length>0){if(this.$10(a)){a=b("XMessengerAdShouldShowEyebrowTextForBusinessStickerController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PagesManagerOmniMActions").setShouldShowBusinessStickerEyebrowText(a.payload.shouldShowEyebrowTextForBusinessSticker)}).send()}else b("PagesManagerOmniMActions").setShouldShowBusinessStickerEyebrowText(!1);b("PagesManagerOmniMActions").setQuickScheduleStartTime(e);b("PagesManagerOmniMActions").setMessengerConversionData(d);b("PagesManagerOmniMActions").showSuggestionBar(f,g,h,c)}else b("PagesManagerOmniMActions").dismissSuggestionBar()};d.$5=function(a){__p&&__p();var c=this;this.$2&&this.$2.destroy();this.$1&&this.$1.release();this.$2=new(b("MercuryMessageStore"))(a,b("MessengerConfig").MessageLoadCount,this.props.pageID);var d=b("PagesManagerMessagingMessagelistStore").getMessagelist(this.props.pageID,a);d.length===0&&(b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!1),b("PagesManagerMessagingMessagelistAction").setIsLoading(!0));this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.$2.subscribe(function(d){c.$3||(c.$3=!0,new(b("PagesMessagingPerfTypedLogger"))().setPageID(c.props.pageID).setThreadID(a).setPlatform("MESSENGER").setEventName("messages_messagelist_load_end").setPerfTime(Date.now()-c.$4).log()),b("PagesManagerMessagingMessagelistAction").setIsLoading(!1),b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!1),b("PagesManagerMessagingMessagelistAction").updateMessagelist(c.props.pageID,a,d),b("PagesManagerInboxLogger").itemRendered(c.props.threadFBID),c.$8(d)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(c,d){a===d&&b("PagesManagerMessagingMessagelistAction").setHotLikeStart(c)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,function(c){a===c&&b("PagesManagerMessagingMessagelistAction").setHotLikeEnd()}))};d.$11=function(a,c,d){__p&&__p();d=b("MessengerReadReceipt.bs").getSeenTimestamps(d,a);var e=new Set(d.keys());return d.withMutations(function(a){b("immutable").Seq(c).reverse().forEach(function(b){if(e.size===0)return!1;if(!e.has(b.author))return!0;a.update(b.author,function(a){return!a||a.watermark<=b.timestamp?{watermark:b.timestamp,action:b.timestamp}:a});e["delete"](b.author);return!0})})};d.$10=function(a){a=a.messages;if(!a||a.length===0)return!1;a=a[a.length-1].meta_ranges;if(!a||a.length===0)return!1;a=b("ChatAppointmentUtil").parseJSON(a[0].data.m_suggestion_data);return a&&Object.prototype.hasOwnProperty.call(a,"suggested_reply_business_sticker")};d.$9=function(a){__p&&__p();a=a.messages;if(!a||a.length===0)return null;var c=this.state.messagelist.length===0;for(var d=a.length-1;d>=0;d--){var e=a[d];if(d>=a.length-1||c&&d>=a.length-h||e.is_unread){var f=e.meta_ranges;if(!f||f.length===0)continue;f=f[0].data;var g=b("ChatAppointmentUtil").parseJSON(f.m_suggestion_data);if(!g)continue;var j=f.partner_app_logo_url;g=b("PagesManagerOmniMUtils").filterValidOmniMSuggestions(g);if(Object.keys(g).length===0)continue;var k=f.start_time;!Object.prototype.hasOwnProperty.call(g,"suggested_reply_location")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_yes_no_short_answer_yes")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_yes_no_short_answer_no")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq_saved_reply")&&!Object.prototype.hasOwnProperty.call(g,"messenger_detected_conversion")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_business_sticker")&&(!k||k<=b("Instant").now()&&!j?g=b("PagesManagerOmniMUtils").getFallbackSuggestions():(b("QE2Logger").logExposureForPage(i,this.props.pageID),g=b("PagesManagerOmniMUtils").replaceCreateAppointmentDirectText(g,k)));f=b("ChatAppointmentUtil").parseJSON(f.conversion_data);if(Object.prototype.hasOwnProperty.call(g,"messenger_detected_conversion")&&!f)continue;var l=e.message_id;e=b("MercuryIDs").getUserIDFromParticipantID(e.author);return{conversionData:f,startTime:k,suggestions:g,partnerAppLogo:j,messageID:l,senderID:e}}else break}return null};d.$12=function(){if(b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"){var a;a=b("nullthrows")((a=this.props.inThreadSearchResults)!=null?(a=a.messenger_messages_search)!=null?(a=a.results)!=null?a.edges:a:a:a).length;var c=b("PagesManagerInboxFilterStore").getSearchTerm();return b("React").jsx(b("PagesManagerContentSearchContainer.react"),{query:c,totalCount:a})}return null};d.render=function(){var a=this.props.threadFBID;a=a!==null?b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a)):null;var c=this.state.thread;c=c!==void 0&&c!==null?c.unread_count===0:!1;return b("React").jsx(b("PagesManagerInboxMessengerDetailView.react"),{className:"_9h3",composer:this.$13(),content:this.$14(),height:this.props.height,isRead:c,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex,onScrollHeightChange:this.$7,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchView:this.$12(),selectedFolder:this.props.selectedFolder,threadID:b("nullthrows")(a),useCustomScrollableArea:!0})};d.$14=function(){__p&&__p();var a=this,c=this.props.threadFBID,d=c?b("MercuryIDs").getThreadIDFromUserID(c):null,e=this.state.messagelist;if(d===null)return null;else{var f=null,g=null;if(this.state.showSuggestionBar){var h=!!this.state.suggestions&&b("PagesManagerOmniMUtils").isMessengerQuickBannerType(this.state.suggestions);if(h&&((h=this.state.conversionData)==null?void 0:h.is_eligible)!==!0)f=b("React").jsx("div",{});else{h=!!this.state.suggestions&&Object.prototype.hasOwnProperty.call(this.state.suggestions,"suggested_reply_business_sticker");f=b("React").jsx("div",{style:{marginTop:this.state.suggestionSpacerHeight+"px"},children:b("React").jsx("div",{className:(h&&!this.state.shouldShowEyebrowTextForBusinessSticker?"_8gxk":"")+(h&&this.state.shouldShowEyebrowTextForBusinessSticker?" _8gxm":"")+(h?"":" _1i7g")})})}g=b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{conversionData:this.state.conversionData,messageID:this.state.messageID,pageID:this.props.pageID,partnerAppLogo:this.state.partnerAppLogo,recipientID:c,senderID:this.state.senderID,shouldShowEyebrowTextForBusinessSticker:this.state.shouldShowEyebrowTextForBusinessSticker,startTime:this.state.startTime,suggestions:this.state.suggestions,threadID:d}),loader:b("JSResource")("PagesManagerMessagingMSuggestionView.react").__setRef("PagesManagerInboxMessengerContainer.react"),placeholder:b("React").jsx("div",{})})}this.props.activeCommPlatform==="WEC"&&(e=this.state.messagelist.map(function(c){var d,e="fbid:"+a.props.pageID;if(((d=c.attachments[0])==null?void 0:(d=d.share)==null?void 0:d.style_list[0])==="wec_message"&&e!==c.author&&c.attachments!=null&&c.attachments.length>0&&c.attachments[0].share!=null&&((d=c.attachments[0])==null?void 0:d.share.target)!=null){e=c.attachments[0].share.target.sender_wec_number;d=(d=c.attachments[0])==null?void 0:(d=d.share)==null?void 0:(d=d.target)==null?void 0:d.sender_wec_number_fbid;return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{author:d!=null?d:"fbid:"+e}))}return c}));if(b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"){var i,j=this.state.contentSearchSelectedIndex;h=b("nullthrows")((h=this.props.messageContextResults)!=null?(h=h.messenger_message_context)!=null?(h=h.messages)!=null?h.nodes:h:h:h);var n=b("nullthrows")((i=this.props.inThreadSearchResults)!=null?(i=i.messenger_messages_search)!=null?(i=i.results)!=null?(i=i.edges)!=null?(i=i[j])!=null?(i=i.node)!=null?i.message_id:i:i:i:i:i:i);i=h.map(function(a){return b("nullthrows")((a=a)!=null?a.message_id:a)});var o={folder:m,other_user_fbid:c,thread_fbid:d,thread_id:d};c=h.map(function(c){return b("MessengerMessageTransformer.bs").transformMessage(d,c,o,a.props.pageID)});b("MercuryServerPayloadPreprocessor").getForFBID(this.props.pageID).handleUpdate({actions:c,payload_source:"server_search"});e=b("MessengerState.bs").getMessagesFromIDs(this.props.pageID,i.reverse()).map(function(c){if(c&&c.message_id===n){var d,e=b("nullthrows")((d=a.props.inThreadSearchResults)!=null?(d=d.messenger_messages_search)!=null?(d=d.results)!=null?(d=d.edges)!=null?(d=d[j])!=null?(d=d.content_search_result_context)!=null?d.match_ranges:d:d:d:d:d:d);if(e.length!==l){d=Object.keys(e[k]).map(function(a){return{offset:e[k].offset,length:e[k].length,entity:{url:""},className:"__in"}});return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{ranges:c.ranges?c.ranges.concat(d):d}))}}return c})}return e.length===0?null:b("React").jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(c){return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerMessagingMessageList.react"),{commPlatform:a.props.activeCommPlatform,deliveryReceipts:b("MessengerState.bs").deliveryReceipts(c),fetchEarlierMessages:a.$6,footerChildren:g,footerChildrenSpacer:f,initLoading:!1,isLoadingMore:a.state.isLoadingMore,isPreventScroll:!1,messagelist:b("immutable").List(e),pageID:a.props.pageID,readReceipts:a.$11(d,a.state.messagelist,b("MessengerState.bs").readReceiptsPerThread(c)),scrollHeight:a.state.scrollHeight,threadID:d})})}})}};d.$13=function(){__p&&__p();var a,c=this.props.threadFBID;c=c?b("MercuryIDs").getThreadIDFromUserID(c):null;var d=this.props.config.platformConfigs[this.props.activeCommPlatform];a=(a=(a=this.props.config.platformConfigs.MESSENGER)==null?void 0:a.shouldShowNewSavedReplyInIG)!=null?a:!1;var e=null;switch(this.props.activeCommPlatform){case"WEC":e=b("MercuryWECMessageActions").getForFBID(this.props.pageID);break;default:e=b("MercuryPageMessageActions").getForFBID(this.props.pageID)}if(e!=null){var f;return b("React").jsx(b("PagesManagerMessagingComposerContainer.react"),{accessToken:this.props.config.pageAccessToken,canAttachFiles:d.canAttachFiles,canCreateAppointment:d.ShouldShowPMAAdminComposer,canSendAvailability:d.ShouldShowLDPPMAAdminComposer,canUseHotLike:d.canUseHotLike,canUseSavedReplies:d.canUseSavedReplies,canUseStickers:d.canUseStickers,commPlatform:this.props.activeCommPlatform,creatorInfo:this.props.config.creatorInfo,defaultCurrency:this.props.config.defaultCurrency,isInboxDetailView:!0,isSavedReplyNewUI:(f=d.shouldShowNewSavedReply)!=null?f:!1,selectedFolder:this.props.selectedFolder,maxLength:this.props.activeCommPlatform==="WEC"?j:null,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex,messageActions:e,onSendMessage:b("PagesManagerInboxAction").comment,persona:this.props.activeCommPlatform==="MESSENGER"?this.props.config.messengerAdminPersona:null,recipientID:this.props.threadFBID,shouldShowBonusTracker:this.props.config.shouldShowBonusTracker,shouldShowCommerceInvoiceButton:d.shouldShowCommerceInvoiceButton,shouldShowCommerceInvoiceButtonPUX:d.shouldShowCommerceInvoiceButtonPUX,shouldShowCommerceInvoiceSimplifiedFlow:d.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:d.shouldShowConfirmPayment,shouldShowInvoiceShippingNUX:d.shouldShowInvoiceShippingNUX,shouldShowPaymentOnboarding:d.shouldShowPaymentOnboarding,shouldShowProductPickerInComposer:!!d.shouldShowProductPickerInComposer,shouldShowRequestPayment:d.shouldShowRequestPayment,shouldShowSavedReplyInIG:a,shouldUseKbankOnboarding:d.shouldUseKbankOnboarding,shouldUseSmartComposeTextInput:!!d.shouldUseSmartComposeTextInput,thread:this.state.thread,threadElementID:c,threadID:c,upsellSpecificData:this.state.upsellSpecificData,userID:this.props.pageID})}};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxMessageBasicContainer.react",["FluxContainer","JSResource","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxMessengerContainer.react","PagesManagerInboxStore","React","RelayModern","lazyLoadComponent","PagesManagerInboxMessageBasicContainer_messageThread.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("lazyLoadComponent")(b("JSResource")("PageManagerInboxInThreadContentSearchRelayResults.react").__setRef("PagesManagerInboxMessageBasicContainer.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig(),activeType:b("PagesManagerInboxFilterStore").getActiveType(),mediaManagerInboxRowIndex:b("PagesManagerInboxListStore").getMediaManagerInboxListRowIndex(),selectedFolder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.activeType);return b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"?b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(h,{activeCommPlatform:this.state.activeType,commSourceID:this.props.commSourceID,config:this.state.config,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:a,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm()})}):b("React").jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:this.state.activeType,config:this.state.config,height:this.props.height,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,paddingBottom:this.props.paddingBottom,pageID:a,selectedFolder:this.state.selectedFolder,threadFBID:this.props.commSourceID})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c),{messageThread:g!==void 0?g:g=b("PagesManagerInboxMessageBasicContainer_messageThread.graphql")})}),null);
__d("PagesManagerInboxNewMessageBasicContainer.react",["FluxContainer","PageManagerInboxInThreadContentSearchRelayResults.react","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxMessengerContainer.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig(),activeType:b("PagesManagerInboxFilterStore").getActiveType(),selectedFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),mediaManagerInboxRowIndex:b("PagesManagerInboxListStore").getMediaManagerInboxListRowIndex()}};var d=c.prototype;d.render=function(){return b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"?b("React").jsx(b("PageManagerInboxInThreadContentSearchRelayResults.react"),{activeCommPlatform:this.state.activeType,commSourceID:this.props.commSourceID,config:this.state.config,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm()}):b("React").jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:this.state.activeType,config:this.state.config,height:this.props.height,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,selectedFolder:this.state.selectedFolder,threadFBID:this.props.commSourceID})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("IGMessageMarkThreadMutation",["RelayFBEnvironment","RelayModern","IGMessageMarkThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("IGMessageMarkThreadMutation.graphql");function a(a,c,d,e,f,g,j){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a,thread_id:c,source:"web",folder:d,mark_as_follow_up:e,mark_as_read:f}},onCompleted:g,onError:j})}e.exports={commit:a}}),null);
__d("IGMessageThreadAdminAssignmentMutation",["RelayFBEnvironment","RelayModern","IGMessageThreadAdminAssignmentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("IGMessageThreadAdminAssignmentMutation.graphql");function a(a,c,d,e,f){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a,thread_id:c,source:"web",admin_id:d}},onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PagesManagerInboxDetailContainer.react",["BusinessCRMConfigStore","CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","JSResource","MediaManagerFBCommsDetailViewContainer.react","MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder","PagesManagerInboxCommItemBasicInfoRoot.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxMessengerRoot.react","PagesManagerInboxNewMessengerRoot.react","PagesManagerInboxStore","PagesManagerStore","React","ServicesClientsTabMainView.react","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp,h=(a=b("lazyLoadComponent"))((c=b("JSResource"))("UnifiedInboxIGMessageDetailRootContainer.react").__setRef("PagesManagerInboxDetailContainer.react")),i=a(c("BizEmailMarketingViewContainer.react").__setRef("PagesManagerInboxDetailContainer.react")),j=a(c("PagesMarketingAutomationContentView.react").__setRef("PagesManagerInboxDetailContainer.react")),k=a(c("PagesManagerInboxLeadEmailContainer.react").__setRef("PagesManagerInboxDetailContainer.react"));d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("PagesManagerInboxStore"),b("MediaManagerInboxPriorityTabStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(a){var c=b("PagesManagerInboxFilterStore").getActiveType(),d=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getHeaderHeight(),e=!1,f=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(f!=null){e=Boolean((f=f.messengerConfig)==null?void 0:f.shouldUseMessengerStateForMessageList)}else e=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForMessageList;f=b("PagesManagerInboxListStore").isLoading();a=(a==null?void 0:a.commItemFolder)===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();a&&(f=b("CreatorStudioInboxMessengerRankedUsersStore").isLoading());return{commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),commPlatform:c,isListLoading:f,height:d<0?0:d,viewingListItem:b("PagesManagerStore").getViewingListItem(),heightWithoutHeader:b("PagesManagerStore").getLayoutHeight(),mediaManagerInboxRowIndex:b("PagesManagerInboxListStore").getMediaManagerInboxListRowIndex(),mediaManagerInboxPriorityTabRowType:b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType(),navMode:b("PagesManagerInboxStore").getCurrentNavMode(),shouldUseMessengerStateForMessageList:e}};var d=c.prototype;d.render=function(){__p&&__p();var a,c=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);switch(this.state.navMode){case"automated_responses":return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height}),children:b("React").jsx(j,{height:this.state.height,pageID:c,pageName:this.props.pageName!==void 0?this.props.pageName:"",pageProfileUrl:this.props.pageProfilePicURI})});case"email_campaign":return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{backgroundColor:"white",height:this.state.heightWithoutHeader}),children:b("React").jsx(i,{height:this.state.heightWithoutHeader,pageID:c})});case"contacts":a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:a.crmConfig;return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.heightWithoutHeader}),children:b("React").jsx(b("BusinessCRMConfigStore").Container,{initialState:{config:a},children:b("React").jsx(b("ServicesClientsTabMainView.react"),{height:this.state.heightWithoutHeader,pageID:c})})});case"lead_email":return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{backgroundColor:"white",height:this.state.heightWithoutHeader}),children:b("React").jsx(k,{})});default:if(this.state.commPlatform==="INSTAGRAM_DIRECT"){return(a=b("React")).jsx(a.Suspense,{fallback:a.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height}),children:a.jsx(h,{height:this.state.height,mailboxID:c,paddingBottom:this.props.paddingBottom,viewingItemToken:this.state.viewingListItem})})}else if(this.state.commPlatform==="MESSENGER"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_MESSAGES")return this.state.shouldUseMessengerStateForMessageList?b("React").jsx(b("PagesManagerInboxNewMessengerRoot.react"),{commItemFolder:this.state.commItemFolder,height:this.state.height,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:c,paddingBottom:this.props.paddingBottom}):b("React").jsx(b("PagesManagerInboxMessengerRoot.react"),{commItemFolder:this.state.commItemFolder,height:this.state.height,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:c,paddingBottom:this.props.paddingBottom});else if((this.state.commPlatform==="MEDIA_MANAGER_FB_COMMS"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_FB_COMMS")&&g()){return(a=b("React")).jsx(a.Suspense,{fallback:a.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height}),children:a.jsx(b("MediaManagerFBCommsDetailViewContainer.react"),{height:this.state.height,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,viewingItem:this.state.viewingListItem})})}return b("React").jsx(b("PagesManagerInboxCommItemBasicInfoRoot.react"),{commItemFolder:this.state.commItemFolder,commPlatform:this.state.commPlatform,height:this.state.height,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:c,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,paddingBottom:this.props.paddingBottom})}};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(d)}),null);
__d("MediaManagerInboxFBCommsHeader.react",["cx","ActionList.react","CenteredContainer.react","DateConsts","FlexLayout.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","MercuryThreadTimestampReact.re","MercuryTimestamp","PagesManagerAction","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreadTimestampReact.re").make,i=57;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;b("PagesManagerAction").setHeaderHeight(i);var c=a.validationTime*b("DateConsts").MS_PER_SEC;return b("React").jsxs(b("Layout.react"),{className:"_iyn","data-testid":"header_container",children:[b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsx(b("CenteredContainer.react"),{className:"_iyp _84mg _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"})})}),b("React").jsx(b("LayoutFillColumn.react"),{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_84mh",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:a.title})}),b("React").jsx(b("FlexLayout.react"),{children:b("React").jsx(b("ActionList.react"),{children:b("React").jsx(h,{text:b("MercuryTimestamp").getRelativeTimestamp(c),time:c,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(c))!=null?a:void 0})})})]})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFBCommsHeaderContainer.react",["FluxContainer","MediaManagerFBCommsStore","MediaManagerInboxFBCommsHeader.react","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing().messages:b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return b("React").jsx(b("MediaManagerInboxFBCommsHeader.react"),{item:c})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("IGDirectMessageGroupProfilePic.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=3/4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx("div",{className:"_73qb",children:this.props.imageURIs.filter(function(a){return a!==null}).map(function(c,d){return b("React").jsx(b("Image.react"),{className:"_1-3q _73qa",height:a.props.imageSize*h,src:c,width:a.props.imageSize*h},d)})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ConversationDeleteConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{"data-testid":"delete_thread_confirm",label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Conversation")}),isShown:a.shown,label:"Delete Modal",onHide:a.onHide,children:c.jsx(b("FDSSection.react"),{children:a.platform!=="INSTAGRAM_DIRECT"?g._("This will permanently delete the conversation history."):g._("Deleting removes the conversation from your inbox, but no one else's inbox.")})})}e.exports=a}),null);
__d("PagesManagerInboxBlockMessagesDialog.react",["fbt","FDSButton.react","FDSButtonSpinner.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=g._("Block Messages From this Page?"),d=g._("You will no longer receive messages from {name}, or be able to send messages to their Page. They won't be notified that you blocked them, and you can unblock at any time.",[g._param("name",a.pageName)]);a.isBlocked&&(c=g._("Unblock Messages From this Page?"),d=g._("You'll be able to send and receive messages from {name} again, but you won't see any messages they sent while blocked. They won't be notified of a change because they couldn't see that they were blocked before.",[g._param("name",a.pageName)]));return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{busyIndicator:a.isBlocking?b("React").jsx(b("FDSButtonSpinner.react"),{}):null,isDisabled:a.isBlocking,label:a.isBlocked?g._("Unblock Messages"):g._("Block Messages"),onClick:a.onConfirm,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{isDisabled:a.isBlocking})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:c}),isShown:a.shown,label:c,onHide:a.onHide,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{children:d})})})}e.exports=a}),null);
__d("PagesManagerInboxCometHeaderMoreOptionsMenu.react",["ix","fbt","FDSDropdownMenu.react","Image.react","React","asset","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=b("joinClasses")(a.className,"_3-8w");return b("React").jsx("div",{className:c,children:b("React").jsx(b("FDSDropdownMenu.react"),{buttonIcon:b("React").jsx(b("Image.react"),{src:g("484387")}),buttonUse:"flatWhite",fdsOverride_isChevronHidden:!0,items:a.items,label:"",menuAlignment:"right",onMenuButtonClick:a.onClick,tooltip:h._("More options")})})}e.exports=a}),null);
__d("PagesManagerInboxHeaderMoreOptionsMenu.react",["fbt","FDSDropdownMenu.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsx("div",{className:a.className,children:b("React").jsx(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:a.items,label:g._("More Items"),onMenuButtonClick:a.onClick,useEllipsisIcon:!0})})}e.exports=a}),null);
__d("PagesManagerInboxBlockMessagesMenu.react",["cx","fbt","PagesManagerInboxBlockMessagesDialog.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderMoreOptionsMenu.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBlockMessagesMenuMutation.graphql","PagesManagerInboxBlockMessagesMenu_itemPage.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("RelayModern").commitMutation;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isBlocking:!1,isDialogShown:!1},d.$2=function(){d.$1("block_messages_menu_clicked")},d.$3=function(){d.setState({isDialogShown:!1})},d.$5=function(){var a=Boolean(d.props.itemPage.is_message_blocked_by_viewer),c=a?"unblock_messages_confirm":"block_messages_confirm";d.$1(c);d.setState({isBlocking:!0});k(b("RelayFBEnvironment"),{mutation:i!==void 0?i:i=b("PagesManagerInboxBlockMessagesMenuMutation.graphql"),variables:{input:{actor_id:d.props.pageID,target_id:b("nullthrows")(d.props.itemPage.id),should_be_blocked:!a}},onCompleted:function(){return d.setState({isBlocking:!1,isDialogShown:!1})},onError:function(){return d.setState({isBlocking:!1})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$4=function(){var a=Boolean(this.props.itemPage.is_message_blocked_by_viewer);a=a?"unblock_messages_click":"block_messages_click";this.$1(a);this.setState({isDialogShown:!0})};d.render=function(){var a=this,c=Boolean(this.props.itemPage.is_message_blocked_by_viewer),d=c?h._("Unblock messages"):h._("Block messages");d=[{type:"item",label:d,onClick:function(){return a.setState({isDialogShown:!0})}}];return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxBlockMessagesDialog.react"),{isBlocked:c,isBlocking:this.state.isBlocking,onConfirm:this.$5,onHide:this.$3,pageName:(c=this.props.itemPage.name)!=null?c:"",shown:this.state.isDialogShown}),b("React").jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:d,onClick:this.$2})]}):b("React").jsx(b("PagesManagerInboxHeaderMoreOptionsMenu.react"),{className:"_653e _3-8m",items:d,onClick:this.$2})};return c}(b("React").PureComponent);e.exports=a(c,{itemPage:j!==void 0?j:j=b("PagesManagerInboxBlockMessagesMenu_itemPage.graphql")})}),null);
__d("PagesManagerInboxCometBanUserMenu.react",["fbt","AsyncRequest","CRMBanReportUserDialog.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxListAction","PagesManagerInboxLogger","React","XPagesBanUserDataController","XPagesUnbanUserDataController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,isBanned:d.props.isBanned},d.$2=function(){d.$1("ban_user_menu_clicked")},d.$3=function(){var a=d.state.isBanned?"unban_user_click":"ban_user_click";d.$1(a);d.setState({showDialog:!0})},d.$5=function(){d.setState({showDialog:!1})},d.$6=function(){var a=d.state.isBanned?"unban_user_confirm":"ban_user_click",c=d.state.isBanned?b("XPagesUnbanUserDataController").getURIBuilder():b("XPagesBanUserDataController").getURIBuilder();c=c.setFBID("page_id",d.props.pageID).setFBIDVector("user_ids",[d.props.userID]).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a.payload.success&&(b("PagesManagerInboxListAction").banStatusChange(d.props.userName,!d.state.isBanned),d.setState(function(a){return{isBanned:!a.isBanned}}))}).send();d.$1(a);d.setState({showDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$4=function(a,b){return{type:"item",label:a,onClick:b}};d.render=function(){if(this.props.userID===null||this.props.userID===void 0)return null;var a=this.state.isBanned?g._("Remove Ban from Page?"):g._("Ban from Page");a=[this.$4(a,this.$3)];return b("React").jsxs("div",{children:[b("React").jsx(b("CRMBanReportUserDialog.react"),{isBanned:this.state.isBanned,onConfirm:this.$6,onHide:this.$5,shown:this.state.showDialog,userName:this.props.userName}),b("React").jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:a,onClick:this.$2})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometDetailHeaderActionUnit.react",["cx","PageCommItemActionType","React","Tooltip","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="actionItem";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){__p&&__p();switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_8g6y";case b("PageCommItemActionType").FOLLOW_UP:return"_8g6-";case b("PageCommItemActionType").UN_FOLLOW_UP:return"_8g4h";case b("PageCommItemActionType").DONE:return"_8g4i";case b("PageCommItemActionType").MARK_READ:return"_8g4j";case b("PageCommItemActionType").MARK_UNREAD:return"_8g4k";case b("PageCommItemActionType").SPAM:return"_8g4l";case b("PageCommItemActionType").DELETE:return"_8g4m"}return""};d.$2=function(){var a=b("React").jsx("div",babelHelpers["extends"]({className:"_8g4p"},b("Tooltip").propsFor(this.props.actionLabel,"below"),{ref:h,children:b("React").jsx("div",{className:b("joinClasses")("_8g4q",this.$1())})}));return a};d.render=function(){return b("React").jsx("div",{className:b("joinClasses")("_8g4r"),"data-testid":this.props.actionId,fullHeight:!0,horizontal:!1,onClick:this.props.onClick,vertical:!0,children:this.$2()})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometDetailHeaderAction.react",["cx","fbt","ConversationDeleteConfirmationDialog.react","CRMBlockIGUserConfirmationDialog.react","IGMessageServerActions","PageCommItemActionType","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometBanUserMenu.react","PagesManagerInboxCometDetailHeaderActionUnit.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesMessagingInboxActionLogger","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmationDialog:!1,showBlockIGUserDialog:!1},d.$1=function(){d.setState({showConfirmationDialog:!0})},d.$2=function(){d.setState({showConfirmationDialog:!1})},d.onCancelBlockIGUser=function(){d.setState({showBlockIGUserDialog:!1})},d.onConfirmBlockIGUser=function(){var a=b("IGMessageServerActions").getForFBID(d.props.pageID),c=d.props.igUserID,e=d.props.userID;c!=null&&e!=null&&a.blockUser(e,c);d.setState({showBlockIGUserDialog:!1})},d.$5=function(){if(d.state.showBlockIGUserDialog)return;d.setState({showBlockIGUserDialog:!0})},d.$7=function(){__p&&__p();var a=b("PagesManagerInboxFilterStore").getActiveType();if(a==="INSTAGRAM_DIRECT"){var c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");c.deleteThread(d.props.userID)}else d.props.onStatusChange(b("PageCommItemStatus").DELETED);d.setState({showConfirmationDialog:!1});b("PagesManagerAction").clearViewListItem();b("PagesMessagingInboxActionLogger").logDeleteThreadClicked(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getBlockIGUserConfirmationDialog=function(){if(!this.state.showBlockIGUserDialog||this.props.igUserName==null)return null;var a=this.props.igUserName;return b("React").jsx(b("CRMBlockIGUserConfirmationDialog.react"),{isInbox:!0,onCancel:this.onCancelBlockIGUser,onConfirm:this.onConfirmBlockIGUser,shown:this.state.showBlockIGUserDialog,username:a})};d.logAction=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$3=function(){var a=h._("Block"),b=h._("Report");a=[this.$4(a,this.$5),this.$4(b,this.$6)];return a};d.$6=function(){window.open("https://help.instagram.com/568100683269916/?ref=reportininbox","_blank")};d.$4=function(a,b){return{type:"item",label:a,onClick:b}};d.render=function(){__p&&__p();var a=this,c=this.props.actionParam,d=[];c.showDone&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_done",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").DONE),actionType:b("PageCommItemActionType").DONE,onClick:function(){a.props.onStatusChange(b("PageCommItemStatus").DONE)}},b("PageCommItemActionType").DONE));c.showDelete&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_delete",actionLabel:h._("Delete conversation"),actionType:b("PageCommItemActionType").DELETE,commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),onClick:this.$1},b("PageCommItemActionType").DELETE));c.showSpam&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_spam",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").SPAM),actionType:b("PageCommItemActionType").SPAM,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").SPAM)}},b("PageCommItemActionType").SPAM));c.showMarkRead&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:h._("Mark as Read"),actionType:b("PageCommItemActionType").MARK_READ,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_READ)}},b("PageCommItemActionType").MARK_READ));c.showMarkUnread&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:h._("Mark as Unread"),actionType:b("PageCommItemActionType").MARK_UNREAD,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_UNREAD)}},b("PageCommItemActionType").MARK_UNREAD));if(c.showFollowUp){var e=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),f=b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").FOLLOW_UP);e&&(f=b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP));d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_followup",actionLabel:f,actionType:b("PageCommItemActionType").FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").FOLLOW_UP)}},b("PageCommItemActionType").FOLLOW_UP))}c.showUnFollowup&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_unfollowup",actionLabel:b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").UN_FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").UN_FOLLOW_UP));c.showInbox&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").INBOX,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").INBOX));if(c.showMore&&this.props.isIGGroup!==!0){e=b("PagesManagerInboxFilterStore").getActiveType();f=null;if(e==="INSTAGRAM_DIRECT")f=b("React").jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:this.$3(),onClick:b("emptyFunction")});else if(this.props.itemPage!=null)f=b("React").jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.itemPage,pageID:this.props.pageID});else{c=(c=this.props.item)==null?void 0:(e=c.page_customer)==null?void 0:e.name;(c===null||c===void 0)&&(c=h._("Facebook User"));f=b("React").jsx(b("PagesManagerInboxCometBanUserMenu.react"),{isBanned:((e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:e.is_banned_by_page)||!1,pageID:this.props.pageID,userID:(e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:(e=e.user)==null?void 0:e.id,userName:c})}d.push(b("React").jsx("div",{className:"_8hqi _8g4p",children:f},b("PageCommItemActionType").MORE))}return b("React").jsxs("div",{className:"_8g6_",children:[this.props.leftActions,d,this.getBlockIGUserConfirmationDialog(),b("React").jsx(b("ConversationDeleteConfirmationDialog.react"),{onConfirm:this.$7,onHide:this.$2,platform:b("PagesManagerInboxFilterStore").getActiveType(),shown:this.state.showConfirmationDialog},"delete modal")]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxPicSize",[],(function(a,b,c,d,e,f){"use strict";e.exports={CometDetailViewHeaderPicSize:52,DetailViewHeaderPicSize:32,ListRowProPicSize:40,IGDirectContextCardProfileSize:52}}),null);
__d("UnifiedInboxSearchableListPrompt.contrib",["cx","AbstractSearchSource","AbstractTypeahead.react","Layout.react","React","ReactComponentWithPureRenderMixin","ReactDOM","Scroll","ScrollableArea.react","SearchableEntry","Text.atlas","TextWithHighlights.atlas","TypeaheadViewItem","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j={queryString:""};a={maxEntries:100,resetQueryStringOnSelect:!1};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state=j,c.$1=function(a){a=a.target;c.setState({queryString:a.value})},c.$2=function(a){c.props.onSelect(a),c.props.resetQueryStringOnSelect&&c.setState({queryString:""})},c.focusInput=function(){c.refs&&c.refs.typeahead.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:b("joinClasses")(this.props.className,"_8q24"),children:b("React").jsx(l,{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onChange:this.$1,onSelectAttempt:this.$2,placeholder:this.props.placeholder,queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry})})};return c}(b("React").PureComponent);c.propTypes={maxEntries:(d=b("prop-types")).number.isRequired,onSelect:d.func.isRequired,resetQueryStringOnSelect:d.bool.isRequired,searchSource:d.instanceOf(b("AbstractSearchSource")).isRequired,disabledEntryIDs:d.instanceOf(Set),emptySearchResultsText:d.node,excludedEntries:d.object,header:d.node,placeholder:d.node,searchSourceOptions:d.object,selectedEntry:d.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:d.bool};c.defaultProps=a;var k={isFocused:!1},l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state=k,b.$1=function(){b.setState({isFocused:!0}),b.props.onFocus&&b.props.onFocus()},b.$2=function(){b.setState({isFocused:!1}),b.props.onBlur&&b.props.onBlur()},b.focusInput=function(){b.refs.typeahead.focusInput()},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").jsxs("div",{className:this.props.className,"data-testid":"UnifiedInboxSearchableListPrompt-contrib/root",children:[this.props.header?b("React").jsx(b("Text.atlas"),{className:b("joinClasses")("_2pi3 _2pi9",this.props.headerClassName),color:"dark",display:"block",size:"s",children:this.props.header}):null,b("React").jsx(b("AbstractTypeahead.react"),{autoHighlight:!0,excludedEntries:this.props.excludedEntries,hideViewWithEntries:!1,inputClassName:"_8q1_"+(this.state.isFocused?" _8q20":"")+(this.props.header?" _8q21":""),onBlur:this.$2,onChange:this.props.onChange,onFocus:this.$1,onSelectAttempt:this.props.onSelectAttempt,placeholder:this.props.placeholder,presenter:{ViewRenderer:m,alwaysVisibleOnFocus:!!this.props.emptySearchResultsText,extraRendererProps:{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry},maxEntries:this.props.maxEntries,useLayer:!1},queryString:this.props.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,selectOnBlur:!1,showEntriesOnFocus:!0})]})};return a}(b("React").PureComponent);l.propTypes={onChange:d.func.isRequired,onSelectAttempt:d.func.isRequired,searchSource:d.object.isRequired,disabledEntryIDs:d.instanceOf(Set),emptySearchResultsText:d.string,excludedEntries:d.object,header:d.node,maxEntries:d.number,onBlur:d.func,onFocus:d.func,placeholder:d.string,queryString:d.string,searchSourceOptions:d.object,selectedEntry:d.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:d.bool};var m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(a){var c=a.getUniqueID(),e=d.props.highlightedEntry?d.props.highlightedEntry.getUniqueID():null,f=d.props.selectedEntry?d.props.selectedEntry.getUniqueID():null;e=c===e;f=c===f;c=d.props.disabledEntryIDs&&d.props.disabledEntryIDs.has(c);return b("React").jsx(n,{disabled:c,entry:a,highlighted:e,selected:f,onSelect:d.props.onSelect,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,queryString:d.props.queryString,getLeftContentForEntry:d.props.getLeftContentForEntry},a.getUniqueID())},d.$2=function(a){d.props.onHighlight&&d.props.onHighlight(null,a)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=null,c=this.props.entries.length&&(this.props.showEntriesBeforeSearch||this.props.queryString);c?a=this.props.entries.map(this.$1):this.props.queryString&&(a=b("React").jsx("div",{children:b("React").jsx(b("Text.atlas"),{className:"_4kt-",color:"light",size:"s",children:this.props.emptySearchResultsText})}));return b("React").jsx(b("ScrollableArea.react"),{className:b("joinClasses")(this.props.className,"_4kt_"),"data-testid":"SearchableListPrompt/itemList",onMouseLeave:this.$2,shadow:!1,maxHeight:320,children:a})};return a}(b("React").PureComponent);m.propTypes={entries:d.array.isRequired,onSelect:d.func.isRequired,disabledEntryIDs:d.instanceOf(Set),emptySearchResultsText:d.string,highlightedEntry:d.object,onHighlight:d.func,onRenderHighlight:d.func,queryString:d.string,selectedEntry:d.object,showEntriesBeforeSearch:d.bool};m.defaultProps={showEntriesBeforeSearch:!0};var n=b("createReactClass_DEPRECATED")({displayName:"InlineTypeaheadViewItem",mixins:[babelHelpers["extends"]({},b("TypeaheadViewItem").Mixin,b("ReactComponentWithPureRenderMixin"))],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{disabled:d.bool,getLeftContentForEntry:d.func}),componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(this.props.highlighted){var c=a.offsetParent;c=c&&a.offsetTop<b("Scroll").getTop(c)+c.offsetHeight&&a.offsetTop+a.offsetHeight>b("Scroll").getTop(c);c||a.scrollIntoView(!1)}},render:function(){var a=this.props.entry.getSubtitle(),c=b("React").jsxs("div",{children:[this.props.getLeftContentForEntry?this.props.getLeftContentForEntry(this.props.entry,this.props.selected):null,b("React").jsx(b("TextWithHighlights.atlas"),{className:"_8q29",display:this.props.getLeftContentForEntry?"inline":"block",highlight:this.props.queryString,text:this.props.entry.getTitle()}),a?b("React").jsx(b("TextWithHighlights.atlas"),{className:"_8q22",color:"light",display:"block",highlight:this.props.queryString,size:"s",text:a}):null]});c=this.props.disabled?b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(i,{children:c}),b("React").jsx(h,{children:b("React").jsxs(b("Text.atlas"),{color:"light",display:"block",size:"s",children:[" ","?"," "]})})]}):c;return b("React").jsxs("div",{className:"_8q0v"+(this.props.highlighted?" _8q0w":"")+(this.props.selected?" _8q0x":"")+(a?"":" _8q0y"),onMouseDown:this.props.disabled?null:this._onSelect,onMouseEnter:this._onHighlight,children:[b("React").jsx("div",{className:"_8q0z",children:c}),b("React").jsx("div",{className:this.props.selected?"_8q0-":""})]})}});e.exports=c}),null);
__d("UnifiedInboxSearchableDropdownInput.contrib",["cx","fbt","AbstractSearchSource","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerHideOnScrollOverHeader.atlas","ContextualLayerUpdateOnScroll","Keys","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","ReactComponentWithPureRenderMixin","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","ShimButton.react","SUIAtlasTheme","SUICardDEPRECATED.react","Text.atlas","UnifiedInboxSearchableListPrompt.contrib","XUIPopoverButton.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="button";c=b("createReactClass_DEPRECATED")({displayName:"SearchableDropdownInput",propTypes:{onRemove:(a=b("prop-types")).func.isRequired,isRemoveDisabled:a.bool.isRequired,onSelect:a.func.isRequired,resetQueryStringOnSelect:a.bool.isRequired,searchSource:a.instanceOf(b("AbstractSearchSource")).isRequired,showSelectedSubtitle:a.bool.isRequired,"data-testid":a.string,customHeader:a.element,chevron:a.element,disabled:a.bool,disabledEntryIDs:a.instanceOf(Set),dropdownWidth:a.number,emptySearchResultsText:a.node,excludedEntries:a.object,header:a.node,headerClassName:a.string,maxEntries:a.number,placeholder:a.node,searchSourceOptions:a.object,showEntriesBeforeSearch:a.bool,skipAutoWidth:a.bool,title:a.string,maxWidth:a.number,getLeftContentForEntry:a.func,searchPlaceholder:a.node},mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactLayeredComponentMixin_DEPRECATED")],getDefaultProps:function(){return{resetQueryStringOnSelect:!1,showSelectedSubtitle:!0}},getInitialState:function(){return{isShowing:!1}},_onLayerToggle:function(a){!a&&this.state.isShowing&&(this.setState({isShowing:!1}),this.focusInput())},_toggleLayer:function(){this.props.disabled||this.setState({isShowing:!this.state.isShowing})},_onKeyDown:function(a){switch(a.keyCode){case b("Keys").DOWN:case b("Keys").UP:case b("Keys").SPACE:this.setState({isShowing:!0});break}},open:function(){this.setState({isShowing:!0})},close:function(){this.setState({isShowing:!1})},focusInput:function(){this.refs&&b("ReactDOM").findDOMNode(this.refs.button).focus()},_onSelect:function(a){this.setState({isShowing:!1}),this.focusInput(),this.props.onSelect(a)},_onRemove:function(a){this.props.isRemoveDisabled||(this.setState({isShowing:!1}),this.focusInput(),this.props.onRemove())},renderLayers:function(){var a=this,c;this.props.skipAutoWidth||(c=b("ReactDOM").findDOMNode(this.refs.button).offsetWidth);c=this.props.dropdownWidth||c||null;return{prompt:b("React").jsx(b("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),ContextualLayerHideOnScrollOverHeader:b("ContextualLayerHideOnScrollOverHeader.atlas"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},contextRef:function(){return a.refs.button},position:"below",alignment:"left",offsetY:4,shown:this.state.isShowing,autofocus:!0,onToggle:this._onLayerToggle,children:b("React").jsx("div",{style:{width:c},className:this.props.divClassName,onFocus:this.props.onFocus,children:b("React").jsxs(b("SUICardDEPRECATED.react"),{className:this.props.listClassName,theme:b("SUIAtlasTheme"),type:"fullbleed",children:[this.props.customHeader,b("React").jsx(b("UnifiedInboxSearchableListPrompt.contrib"),{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onSelect:this._onSelect,resetQueryStringOnSelect:this.props.resetQueryStringOnSelect,searchSource:this.props.searchSource,placeholder:this.props.searchPlaceholder,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.value,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry}),b("React").jsx(b("ShimButton.react"),{className:(this.props.isRemoveDisabled?"":"_8q2m")+(this.props.isRemoveDisabled?" _8q2n":""),onClick:this._onRemove,children:h._("Remove Assignment")})]})})})}},render:function(){var a=this.props.placeholder,c=this.props.value;if(c){var d=this.props.title||c.getTitle();c=this.props.showSelectedSubtitle&&c.getSubtitle()?b("React").jsxs(b("Text.atlas"),{color:"light",size:"s",children:[" ",c.getSubtitle()]}):null;a=b("React").jsxs("span",{children:[d,c]})}return b("React").jsx(b("XUIPopoverButton.react"),{chevron:this.props.chevron,className:b("joinClasses")(this.props.className,"__yl"),"data-testid":this.props["data-testid"],disabled:this.props.disabled,label:a,maxwidth:this.props.maxWidth?this.props.maxWidth:null,onClick:this._toggleLayer,onKeyDown:this._onKeyDown,ref:i,size:"large"})}});e.exports=c}),null);
__d("PagesManagerInboxHeaderTopNavNUX.react",["React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onComponentMount()};d.componentWillUnmount=function(){this.props.onComponentUnmount()};d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,offsetX:8,onCloseButtonClick:this.props.onDismiss,position:"below",shown:!0,children:this.props.nuxText})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAdminAssignerNUXContainer.react",["fbt","FluxContainer","PagesManagerInboxHeaderTopNavNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="pages_inbox_admin_assign",i="business_inbox_ig_direct_multi_admin_assignment";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]):d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[i])},d.$2=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h]):d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[i])},d.$3=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").hide():d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").hide()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{shouldShowMultiAdminNUX:b("PagesManagerInboxStore").shouldShowNUX(h),shouldShowIGMultiAdminNUX:b("PagesManagerInboxStore").shouldShowNUX(i)}};var d=c.prototype;d.render=function(){if(this.state.shouldShowMultiAdminNUX||this.state.shouldShowIGMultiAdminNUX){var a=this.state.shouldShowMultiAdminNUX&&!this.state.shouldShowIGMultiAdminNUX?g._("Assign an owner to this conversation so the right person can respond. Only people who manage your Page will see this."):"",c=!this.state.shouldShowMultiAdminNUX&&this.state.shouldShowIGMultiAdminNUX?g._("Assign someone to respond to this conversation. Only people who manage your Page will see this."):"";return b("React").jsx(b("PagesManagerInboxHeaderTopNavNUX.react"),{contextRef:this.props.contextRef,nuxText:a||c,onComponentMount:this.$1,onComponentUnmount:this.$3,onDismiss:this.$2})}return null};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxCometIGDirectHeaderContainer.react",["cx","CenteredContainer.react","ErrorBoundary.react","FluxContainer","IGDirectMessageGroupProfilePic.react","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","LoadObject","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderLoading.react","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxPicSize","PagesManagerInboxStore","React","UnifiedInboxAdminAssignerRoot.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j=116;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thread:b("LoadObject").empty()},d.$1=function(a){__p&&__p();var c=d.state.thread.getValue();if(!c)return;var e=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.props.filterStatus),f=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.props.filterStatus);d.props.filterStatus!==a&&f==null&&e==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):f!==null?d.props.filterStatus===b("PageCommItemFolder").TODO?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.mailboxID,d.props.threadID,c.is_follow_up!==!0):d.props.filterStatus===b("PageCommItemFolder").FOLLOW_UP&&(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):e!==null&&b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.threadID,c.is_read!==!0);b("PagesManagerInboxLogger").itemStatusChanged(d.props.threadID,"INSTAGRAM_DIRECT",a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(d.props.threadID,"INSTAGRAM_DIRECT",a,d.props.filterStatus);c=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesManagerInboxListAction").itemFolderChange([d.props.threadID],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.props.filterStatus));c.updateThreadStatus(d.props.threadID,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.props.filterStatus),f,e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.threadID);return{thread:a}};var d=c.prototype;d.getNewRightSideAction=function(a,c,d,e,f){return c==null?null:b("React").jsx(b("PagesManagerInboxCometDetailHeaderAction.react"),{actionParam:b("PageCommItemStatusUtil").getActionParam("INSTAGRAM_DIRECT",this.props.filterStatus,!0,a),igUserID:c,igUserName:d,isIGGroup:e,onReadStatusChange:this.$1,onStatusChange:this.$1,pageID:this.props.mailboxID,showNewFolder:f,userID:this.props.threadID})};d.showHeaderSubtitle=function(){var a=this.state.thread.getValue();if(!a||!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.shouldShowNewMultiAdminAssignment){var c;return b("React").jsx("div",{className:"_iyr",children:b("React").jsx(b("UnifiedInboxAdminAssignerRoot.react"),{adminID:(c=(c=a.assigned_admin)==null?void 0:c.id)!=null?c:null,adminName:(a=(c=a.assigned_admin)==null?void 0:c.name)!=null?a:null,mailboxID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:!0,threadID:this.props.threadID})})}return null};d.render=function(){__p&&__p();var a,c,d,e;b("PagesManagerAction").setHeaderHeight(j);var f=this.state.thread.getValue();if(!f)return b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{});e=(e=f)!=null?(e=e.thread_users)!=null?e.nodes:e:e;if(!e)return null;var g=b("IGMessageInboxStore").getInboxIGID(),k=e.filter(function(a){return a.instagram_user_id!==g});k.length===0&&k.push(e[0]);if(!k)return null;e=(e=k[0].username)!=null?e:"";a=(a=k[0].instagram_user_id)!=null?a:null;d=(d=k)!=null?(d=d[0])!=null?(d=d.profile_picture)!=null?d.uri:d:d:d;var l=f.is_group;c=l===!0?b("React").jsx("div",{className:"_8g79",children:b("React").jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[d,(c=k)!=null?(c=c[1])!=null?(c=c.profile_picture)!=null?c.uri:c:c:c]})}):b("React").jsx(b("Image.react"),{className:"_1-3q",height:b("PagesManagerInboxPicSize").ListRowProPicSize,src:d,width:b("PagesManagerInboxPicSize").ListRowProPicSize},d);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs(b("Layout.react"),{className:"_8g7a","data-testid":"header_container",children:[b("React").jsx(h,{children:b("React").jsx(b("CenteredContainer.react"),{className:"_8g7b"+(l?"":" _8g7c")+" _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:c})}),b("React").jsx(i,{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_8g7d",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx("div",{className:"_8g7e",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:((d=f.is_group)!=null?d:!1)?f.thread_title:k[0].username})}),this.showHeaderSubtitle()]})}),b("React").jsx(h,{children:this.getNewRightSideAction(f,a,e,l,this.props.showNewFolder)})]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerIGConversationDeleteConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Conversation?")}),isShown:a.shown,label:"Delete Modal",onHide:a.onHide,children:c.jsx(b("FDSSection.react"),{children:g._("Deleting removes the conversation from your inbox, but no one else's inbox.")})})}e.exports=a}),null);
__d("PagesManagerInboxDetailHeaderActionUnit.react",["cx","CenteredContainer.react","PageCommItemActionType","React","Tooltip","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=600;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_stx";case b("PageCommItemActionType").DONE:return"_su6"}return""};d.$2=function(){__p&&__p();switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_su7";case b("PageCommItemActionType").FOLLOW_UP:return"_421s";case b("PageCommItemActionType").UN_FOLLOW_UP:return"_421t";case b("PageCommItemActionType").DONE:return"_su9";case b("PageCommItemActionType").MARK_READ:return"_5hln";case b("PageCommItemActionType").MARK_UNREAD:return"_5hlu";case b("PageCommItemActionType").SPAM:return"_5zrz";case b("PageCommItemActionType").DELETE:return"_1pjy"}return""};d.$3=function(){switch(this.props.actionType){case b("PageCommItemActionType").DONE:return"_sua";default:return"_sub"}};d.$4=function(){var a=b("React").jsxs("div",{ref:"actionItem",children:[b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(this.props.actionLabel,"below"),{className:b("joinClasses")("_3jcz",this.$2()),"data-tooltip-delay":h})),b("React").jsx("span",{className:this.props.commPlatform==="WEC"?null:this.$3(),children:this.props.commPlatform==="WEC"?null:this.props.actionLabel})]});return a};d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{className:b("joinClasses")("_suc",this.$1()),"data-testid":this.props.actionId,fullHeight:!0,horizontal:!1,onClick:this.props.onClick,vertical:!0,children:this.$4()})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxDetailHeaderAction.react",["cx","fbt","ConversationDeleteConfirmationDialog.react","FacebookAppIDs","IGMessageServerActions","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageCommItemActionType","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxDetailHeaderActionUnit.react","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesMessagingInboxActionLogger","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmationDialog:!1},d.$2=function(){d.setState({showConfirmationDialog:!0})},d.$5=function(){d.setState({showConfirmationDialog:!1})},d.$4=function(){__p&&__p();var a=b("PagesManagerInboxFilterStore").getActiveType();if(a==="INSTAGRAM_DIRECT"){var c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");c.deleteThread(d.props.userID)}else d.props.onStatusChange(b("PageCommItemStatus").DELETED);d.setState({showConfirmationDialog:!1});b("PagesManagerAction").clearViewListItem();b("PagesMessagingInboxActionLogger").logDeleteThreadClicked(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()&&b("PagesManagerInboxFilterStore").getActiveType()==="FACEBOOK"};d.render=function(){__p&&__p();var a=this,c=this.props.actionParam,d=[];c.showDelete&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_delete",actionLabel:h._("Delete conversation"),actionType:b("PageCommItemActionType").DELETE,commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),onClick:this.$2},b("PageCommItemActionType").DELETE));c.showSpam&&!this.$1()&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_spam",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").SPAM),actionType:b("PageCommItemActionType").SPAM,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").SPAM)}},b("PageCommItemActionType").SPAM));c.showMarkRead&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_read",actionLabel:h._("Mark as read"),actionType:b("PageCommItemActionType").MARK_READ,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_READ)}},b("PageCommItemActionType").MARK_READ));c.showMarkUnread&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_unread",actionLabel:h._("Mark as unread"),actionType:b("PageCommItemActionType").MARK_UNREAD,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_UNREAD)}},b("PageCommItemActionType").MARK_UNREAD));if(c.showFollowUp){var e=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),f=b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").FOLLOW_UP);e&&(f=b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP));d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_followup",actionLabel:f,actionType:b("PageCommItemActionType").FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").FOLLOW_UP)}},b("PageCommItemActionType").FOLLOW_UP))}c.showUnFollowup&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_unfollowup",actionLabel:b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").UN_FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").UN_FOLLOW_UP));c.showInbox&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_move_to_main",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").INBOX,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").INBOX));c.showDone&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_done",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").DONE),actionType:b("PageCommItemActionType").DONE,onClick:function(){a.props.onStatusChange(b("PageCommItemStatus").DONE)}},b("PageCommItemActionType").DONE));d.length&&d.splice(d.length-1,0,this.$3());return b("React").jsxs("div",{className:"_33uz",children:[this.props.leftActions,this.props.leftActions?b("React").jsx("span",{className:"_3-8u",children:this.$3()}):null,d,b("React").jsx(b("ConversationDeleteConfirmationDialog.react"),{onConfirm:this.$4,onHide:this.$5,platform:b("PagesManagerInboxFilterStore").getActiveType(),shown:this.state.showConfirmationDialog},"delete modal")]})};d.$3=function(){return b("React").jsx("div",{className:"_33u_",children:b("React").jsx("div",{className:"_33v0"})},"actionDivider")};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxIGDirectHeaderContainer.react",["ix","cx","fbt","CenteredContainer.react","ErrorBoundary.react","FluxContainer","IGDirectMessageGroupProfilePic.react","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","Link.react","LoadObject","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerIGConversationDeleteConfirmationDialog.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderLoading.react","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxPicSize","PagesManagerInboxStore","PagesMessagingInboxActionLogger","React","Tooltip","UnifiedInboxAdminAssignerRoot.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=57;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thread:b("LoadObject").empty(),shouldShowDeleteThreadDialog:!1},d.$1=function(){d.setState({shouldShowDeleteThreadDialog:!0})},d.$2=function(){d.setState({shouldShowDeleteThreadDialog:!1})},d.$3=function(){var a=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");a.deleteThread(d.props.threadID);b("PagesManagerAction").clearViewListItem();d.setState({shouldShowDeleteThreadDialog:!1})},d.$4=function(a){__p&&__p();var c=d.state.thread.getValue();if(!c)return;var e=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.props.filterStatus),f=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.props.filterStatus);d.props.filterStatus!==a&&f==null&&e==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):f!==null?d.props.filterStatus!==b("PageCommItemFolder").FOLLOW_UP?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.mailboxID,d.props.threadID,c.is_follow_up!==!0):(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):e!==null&&b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.threadID,c.is_read!==!0);b("PagesManagerInboxLogger").itemStatusChanged(d.props.threadID,"INSTAGRAM_DIRECT",a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(d.props.threadID,"INSTAGRAM_DIRECT",a,d.props.filterStatus);c=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesManagerInboxListAction").itemFolderChange([d.props.threadID],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.props.filterStatus));c.updateThreadStatus(d.props.threadID,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.props.filterStatus),f,e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){c=b("IGMessageInboxStore").getThread(c.mailboxID,c.threadID);a=a!==null&&a!==void 0?a.shouldShowDeleteThreadDialog:!1;return{thread:c,shouldShowDeleteThreadDialog:a}};var d=c.prototype;d.getRightSideAction=function(){return this.props.rightSideAction!=null?this.props.rightSideAction:b("React").jsxs(b("CenteredContainer.react"),{className:"_suc",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx(b("Link.react"),babelHelpers["extends"]({onClick:this.$1},b("Tooltip").propsFor(i._("Delete conversation"),"below"),{children:b("React").jsx(b("Image.react"),{src:g("773389")})})),b("React").jsx(b("PagesManagerIGConversationDeleteConfirmationDialog.react"),{onConfirm:this.$3,onHide:this.$2,shown:this.state.shouldShowDeleteThreadDialog})]})};d.showHeaderSubtitle=function(){var a=this.state.thread.getValue();if(!a||!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.shouldShowNewMultiAdminAssignment){var c;return b("React").jsx("div",{className:"_iyr",children:b("React").jsx(b("UnifiedInboxAdminAssignerRoot.react"),{adminID:(c=(c=a.assigned_admin)==null?void 0:c.id)!=null?c:null,adminName:(a=(c=a.assigned_admin)==null?void 0:c.name)!=null?a:null,mailboxID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:!0,threadID:this.props.threadID})})}return null};d.render=function(){__p&&__p();var a,c;b("PagesManagerAction").setHeaderHeight(l);var d=this.state.thread.getValue();if(!d)return b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{});c=(c=d)!=null?(c=c.thread_users)!=null?c.nodes:c:c;if(!c)return null;var e=b("IGMessageInboxStore").getInboxIGID(),f=c.filter(function(a){return a.instagram_user_id!==e});f.length===0&&f.push(c[0]);if(!f)return null;c=(c=f)!=null?(c=c[0])!=null?(c=c.profile_picture)!=null?c.uri:c:c:c;var g=d.is_group;a=g===!0?b("React").jsx("div",{className:"_7fjz",children:b("React").jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[c,(a=f)!=null?(a=a[1])!=null?(a=a.profile_picture)!=null?a.uri:a:a:a]})}):b("React").jsx(b("Image.react"),{className:"_1-3q",height:b("PagesManagerInboxPicSize").ListRowProPicSize,src:c,width:b("PagesManagerInboxPicSize").ListRowProPicSize},c);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs(b("Layout.react"),{className:"_iyn","data-testid":"header_container",children:[b("React").jsx(j,{children:b("React").jsx(b("CenteredContainer.react"),{className:"_iyp"+(g?"":" _84mg")+" _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:a})}),b("React").jsx(k,{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_84mh",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:((c=d.is_group)!=null?c:!1)?d.thread_title:f[0].username})}),this.showHeaderSubtitle()]})}),b("React").jsx(j,{children:this.props.showNewFolder===!0?b("React").jsx(b("PagesManagerInboxDetailHeaderAction.react"),{actionParam:b("PageCommItemStatusUtil").getActionParam("INSTAGRAM_DIRECT",this.props.filterStatus,!0,d),onReadStatusChange:this.$4,onStatusChange:this.$4,pageID:this.props.mailboxID,userID:this.props.threadID}):this.getRightSideAction()})]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxProfilePic.react",["cx","FBLoadShimmer.react","Image.react","PageCommItemTypeUtil","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="PageCommItemPart";function i(a){return!a.showPlatformBadge?null:b("React").jsx("div",{className:"_5m17",children:b("React").jsx("div",{className:"_5m18"})})}function j(a){if(a.imageURI!==null&&a.imageURI!==void 0&&a.imageURI!=="")return b("React").jsx(b("Image.react"),{className:b("PageCommItemTypeUtil").isUserCreated(a.commType)||a.commType==="FB_PAGE_POST"&&a.topComment?"_1-3q":"",height:a.imageSize,src:a.imageURI,width:a.imageSize});return a.showPlaceholder?b("React").jsx(b("FBLoadShimmer.react"),{height:a.imageSize,style:{borderRadius:a.imageSize+"px"},width:a.imageSize}):null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").jsxs("div",{className:"_5m0-"+(this.props.commPlatform==="MESSENGER"||this.props.commPlatform==="MEDIA_MANAGER_PRIORITY"?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="FACEBOOK"?" _5m15":"")+(this.props.commPlatform==="INSTAGRAM"?" _5m16":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"?" _6wkq":"")+(this.props.commType==="FB_GROUP_POST"?" _3pik":""),style:{width:this.props.imageSize,height:this.props.imageSize},children:[((a=this.props)!=null?a.profileElement:a)||b("React").jsx(j,{commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.props.imageURI,showPlaceholder:this.props.showPlaceholder,topComment:this.props.commentType===h}),b("React").jsx(i,{showPlatformBadge:this.props.showPlatformBadge})]})};return c}(b("React").PureComponent);a.defaultProps={showPlaceholder:!1};e.exports=a}),null);
__d("IGMessagingLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={generateOfflineThreadingID:function(a){a=a||Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return g(a.slice(-63))}};function g(a){__p&&__p();var b="";a=a;while(a!=="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=a}),null);