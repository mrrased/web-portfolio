if (self.CavalryLogger) { CavalryLogger.start_js(["C25zu"]); }

__d("SUIPagesManagerSpinnerUniform",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#4080ff",backgroundColor:"#e2e9f9",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.4)",sizes:{large:{border:4,diameter:72},small:{border:2,diameter:36}}};e.exports=a}),null);
__d("SUIPagesManagerTheme",["SUIPagesManagerSpinnerUniform","SUITheme"],(function(a,b,c,d,e,f){"use strict";a=new(b("SUITheme"))({id:"pages_manager",components:{SUISpinner:b("SUIPagesManagerSpinnerUniform")}});e.exports=a}),null);
__d("PagesManagerInboxDetailLoading.react",["CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{style:{backgroundColor:this.props.backgroundColor,height:this.props.height},children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:b("React").jsx(b("SUISpinner.react"),{theme:b("SUIPagesManagerTheme")})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerInboxQEUtils",["qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){var a;return(a=b("qex")._("1166058"))!=null?a:"CONTROL"};a=function(){return g()!=="CONTROL"};c=function(){return g()==="COMMENT_RANKING"||g()==="BOTH_RANKING"};d=function(){return g()==="MESSENGER_RANKING"||g()==="BOTH_RANKING"};e.exports={shouldShowCommentRanking:c,shouldShowMessengerRanking:d,shouldShowNewDesign:a}}),null);
__d("InstagramMessageThreadItemWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2595554300462774"};b.getQueryID=function(){return"325943938338406"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadItemsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2581139891978691"};b.getQueryID=function(){return"548707749023766"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramBusinessMessageInboxQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2562177080536219"};b.getQueryID=function(){return"398982634310744"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2742565699100943"};b.getQueryID=function(){return"1199894503543494"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MediaManagerInboxUtils",["MediaManagerInboxQEUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){return a!==null&&a!==void 0?a:0};c=function(){return b("MediaManagerInboxQEUtils").shouldShowNewDesign()?"inbox_plus":"inbox"};var g=function(a){switch(a){case"FACEBOOK":return b("MediaManagerInboxQEUtils").shouldShowCommentRanking()?[b("PageCommItemFolder").PRIORITY]:[];case"MESSENGER":return b("MediaManagerInboxQEUtils").shouldShowMessengerRanking()?[b("PageCommItemFolder").PRIORITY]:[];default:return[]}},h=function(a,c){if(!g(a).includes(b("PageCommItemFolder").PRIORITY))return!1;var d=!0;c!=null&&c[a]!=null&&(d=c[a]>0);return d};d=function(a,c){return a==="MEDIA_MANAGER_PRIORITY"?b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:h(a,c)?b("PageCommItemFolder").PRIORITY:b("PageCommItemFolder").TODO};f={FormatInitialCount:a,getDefaultFilter:d,InboxTabType:c,MediaManagerInboxSpecificFolders:g,ShouldPriorityAsDefault:h};e.exports=f}),null);
__d("PagesManagerInboxCustomLabelSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{uniqueID:b.id,title:b.name})||this;c.$PagesManagerInboxCustomLabelSearchableEntry1=b;return c}var c=b.prototype;c.getColor=function(){return"#"+this.$PagesManagerInboxCustomLabelSearchableEntry1.color.substring(2)};c.getFBID=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.id};c.getName=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.name};c.getData=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PagesInboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_inbox_impression");e.exports=a}),null);
__d("PagesManagerMessagingLogger",["invariant","PageCommItemFolder","PagesEventObserver","PagesInboxImpressionFalcoEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h="MESSENGER",i="inbox",j=":";a={logMessagesSectionViewEvent:function(a,c,d){c=c||i;var e;c.indexOf(":")&&(e=c.split(j),c=e[e.length-1]);b("PagesEventObserver").notify("view_messages",a,{section:d||h,subsection:c})},logPageViewFolderEventForInbox:function(a,c,d){__p&&__p();var e="";switch(c){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:e="messages_view_inbox";break;case b("PageCommItemFolder").DONE:e="messages_view_archived";break;case b("PageCommItemFolder").SPAM:e="messages_view_spam";break;default:g(0,6258)}b("PagesEventObserver").notify(e,a,{source:d});e==="messages_view_inbox"&&b("PagesInboxImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:a,referrer:d,event_data:{num_threads_viewed:null}}})}};e.exports=a}),null);
__d("PagesManagerMessagingNavigationUnitKey",["MercuryFilters.bs","MessagingTag"],(function(a,b,c,d,e,f){"use strict";c={FILTERS:{ALL:b("MercuryFilters.bs").all,UNREAD:b("MercuryFilters.bs").unread,FLAGGED:"flag",PRIORITY:"important"},FOLDERS:{INBOX:(a=b("MessagingTag")).INBOX,ARCHIVED:a.ACTION_ARCHIVED,PAGE_BACKGROUND:a.PAGE_BACKGROUND,SPAM:a.OTHER}};e.exports=c}),null);
__d("PagesManagerInboxCometUtil",["cx","fbt","Env","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j={shouldShowCometNewDesign:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),c=!1;if(a==null){var d;c=(d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowCometInboxRedesign)!=null?d:!1}else{c=(a=(d=a.inboxRedesignConfig)==null?void 0:d.shouldShowCometInboxRedesign)!=null?a:!1}return(i||(i=b("Env"))).isCQuick&&c},cometSearchInputHeight:function(){var a;a=(a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowCometInboxRedesign)!=null?a:!1;return(i||(i=b("Env"))).isCQuick&&a?54:0},cometBadgeCountText:function(a,b,c){var d="";a!=null&&(b==="MESSENGER"||b==="INSTAGRAM_DIRECT"?d=h._({"*":"{number} messages","_1":"1 message"},[h._plural(a,"number")]):(b==="FACEBOOK"||b==="INSTAGRAM")&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])));return j.showCometBadgeCountText(d,c)},showCometBadgeCountText:function(a,c){return b("React").jsxs("div",{className:"_8fgz",children:[b("React").jsx("div",{className:"_8fg5"}),b("React").jsx("div",{className:"_8fg6","data-testid":c,children:a})]})}};e.exports=j}),null);
__d("PagesManagerInboxUnifiedThreadlistUtil",["MediaManagerUtils","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a={shouldShowUnifiedThreadlist:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlist)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlist)!=null?c:!1}return a&&!g()},shouldShowUnifiedThreadlistSeparatedTab:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlistSeparatedTab)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlistSeparatedTab)!=null?c:!1}return a&&!g()}};e.exports=a}),null);
__d("PageCommItemStatusUtil",["ix","cssVar","fbt","invariant","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,m="ARCHIVED",n=(a={},a[(c=b("PageCommItemFolder")).TODO]=i._("Main"),a[c.FOLLOW_UP]=i._("Follow Up"),a[c.DONE]=i._("Done"),a[c.SPAM]=i._("Spam"),a[c.UNREAD]=i._("Unread"),a[c.MESSENGER_THREADS]=i._("Messenger"),a[c.INSTAGRAM_THREADS]=i._("Instagram Direct"),a[c.PRIORITY]=i._("Priority"),a),o={getFolders:function(a){var c;c=[(c=b("PageCommItemFolder")).TODO,c.FOLLOW_UP,c.DONE,c.SPAM];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);return c},getInboxFolders:function(a){a=[b("PageCommItemFolder").TODO,b("PageCommItemFolder").DONE,b("PageCommItemFolder").SPAM];return a},getFilters:function(a){var c=[b("PageCommItemFolder").FOLLOW_UP];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);a=k();var d=l();a&&!d&&c.unshift(b("PageCommItemFolder").MESSENGER_THREADS,b("PageCommItemFolder").INSTAGRAM_THREADS);return c},PageCommItemFolderLabelConfig:n,getLabel:function(a){return n[a]},getToolTipLabel:function(a){__p&&__p();var c=o.getFolderQECheck();if(c)switch(a){case b("PageCommItemFolder").TODO:return i._("Move to Main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as Follow Up");case b("PageCommItemFolder").DONE:return i._("Move to Done");case b("PageCommItemFolder").SPAM:return i._("Move to Spam");default:j(0,1566,a)}switch(a){case b("PageCommItemFolder").TODO:return i._("Move to Main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as follow up");case b("PageCommItemFolder").DONE:return i._("Mark as done");case b("PageCommItemFolder").SPAM:return i._("Mark as spam");default:j(0,1566,a)}},getStarLabel:function(a){switch(a){case b("PageCommItemStatus").FOLLOW_UP:return i._("Mark as Follow Up");case b("PageCommItemStatus").TODO:return i._("Remove from Follow Up");default:j(0,1567,a)}},getColor:function(a,c){__p&&__p();if(c)switch(a){case b("PageCommItemStatus").FOLLOW_UP:return"#000000";case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:case b("PageCommItemStatus").SPAM:return"#000000";case b("PageCommItemStatus").UNREAD:return"#000000";default:j(0,1568,a)}switch(a){case b("PageCommItemStatus").TODO:return"#90949c";case b("PageCommItemStatus").FOLLOW_UP:return"#90949c";case b("PageCommItemStatus").DONE:return"#90949c";case b("PageCommItemStatus").SPAM:return"#90949c";case b("PageCommItemStatus").UNREAD:return"#90949c";default:j(0,1568,a)}},getFolderStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:j(0,1568,status)}},getIGDirectFolder:function(a,c){var d=null;a===b("PageCommItemFolder").SPAM?d=b("PageCommItemFolder").SPAM:a===b("PageCommItemFolder").DONE?d=m:a===b("PageCommItemFolder").TODO&&(c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE)&&(d=b("PageCommItemFolder").TODO);return d},getThreadsManagementStatus:function(a){return this.getIsFilter(a)?b("PageCommItemFolder").TODO:a},getIsFilter:function(a){return a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemFolder").FOLLOW_UP||a===b("PageCommItemFolder").MESSENGER_THREADS||a===b("PageCommItemFolder").INSTAGRAM_THREADS},getActionParam:function(a,c,d,e){d===void 0&&(d=!0);var f=o.getFolderQECheck(),g=a==="INSTAGRAM_DIRECT",h=(a==="FACEBOOK"||a==="MESSENGER"||a==="INSTAGRAM"||a==="INSTAGRAM_DIRECT")&&c!==b("PageCommItemFolder").SPAM,i=e&&(e.is_read===!1||e.unread_count>0);e=e&&(e.comm_status===b("PageCommItemFolder").FOLLOW_UP||e.is_follow_up);var j=c!==b("PageCommItemFolder").DONE&&h,k=c===b("PageCommItemFolder").UNREAD;a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(g||a==="MESSENGER");return f?{showDone:j,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&j&&!e,showInbox:c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE,showMarkRead:i!=null?i&&j:k&&j,showMarkUnread:i!=null?!i&&j:!k&&j,showSpam:j,showUnFollowup:e!=null&&j?e:!1,showDelete:d,showMore:a}:{showDone:j&&!g,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&!e&&!g,showInbox:c!==b("PageCommItemFolder").TODO&&!g,showMarkRead:i!=null?i&&!g:k,showMarkUnread:i!=null?!i&&!g:!k,showSpam:h&&!g,showUnFollowup:(f=e&&!g)!=null?f:!1,showDelete:d,showMore:a}},getUnreadStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemActionType").MARK_UNREAD)return!1;else if((a===b("PageCommItemFolder").TODO||a===b("PageCommItemActionType").MARK_READ)&&c.is_read===!1&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!0;else return null},getFollowUpStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").FOLLOW_UP)return!0;else if(a===b("PageCommItemFolder").TODO&&c.is_follow_up===!0&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!1;else return null},getFolderColor:function(a,b){return o.getColor(o.getFolderStatus(a),b)},getFolderQECheck:function(){var a=b("PagesManagerInboxFilterStore").getActiveType(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=!1,e=!1;if(c!=null){var f;d=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewMessengerFolder)&&a==="MESSENGER";e=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewIGDirectFolder)&&a==="INSTAGRAM_DIRECT";c=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewCommentsFolder)&&(a==="INSTAGRAM"||a==="FACEBOOK")}else d=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMessengerFolder)&&a==="MESSENGER",e=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder)&&a==="INSTAGRAM_DIRECT",c=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewCommentsFolder)&&(a==="INSTAGRAM"||a==="FACEBOOK");return d||e||c},getIGDStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:return b("PageCommItemStatus").TODO}},getFolderImage:function(a,c){__p&&__p();var d;if(c)switch(a){case b("PageCommItemFolder").TODO:d=g("982942");break;case b("PageCommItemFolder").FOLLOW_UP:d=g("982961");break;case b("PageCommItemFolder").DONE:d=g("786413");break;case b("PageCommItemFolder").SPAM:d=g("982949");break;case b("PageCommItemFolder").UNREAD:d=g("982928");break;case b("PageCommItemFolder").MESSENGER_THREADS:d=g("1104734");break;case b("PageCommItemFolder").INSTAGRAM_THREADS:d=g("1104724");break}else switch(a){case b("PageCommItemFolder").TODO:d=g("686001");break;case b("PageCommItemFolder").FOLLOW_UP:d=g("479365");break;case b("PageCommItemFolder").DONE:d=g("124181");break;case b("PageCommItemFolder").SPAM:d=g("585265");break;case b("PageCommItemFolder").UNREAD:d=g("483099");break;case b("PageCommItemFolder").PRIORITY:d=g("880209");break}return d}};e.exports=o}),null);
__d("PagesAdminToolUIActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_CARD_CLICK_ADD_NOTE:"context_card_click_add_note",CONTEXT_CARD_CLICK_CONFIRM_ADD_NOTE:"context_card_click_confirm_add_note",CONTEXT_CARD_CLICK_DELETE_NOTE:"context_card_click_delete_note",CONTEXT_CARD_CLICK_CONFIRM_DELETE_NOTE:"context_card_click_confirm_delete_note",CONTEXT_CARD_CLICK_HISTORY:"context_card_click_history",CONTEXT_CARD_CLICK_PROFILE_LINK:"context_card_click_profile_link",CONTEXT_CARD_CLICK_SHARED_MEDIA:"context_card_click_shared_media",CONTEXT_CARD_LOAD_MORE_SHARED_MEDIA:"context_card_load_more_shared_media",CONTEXT_CARD_LOAD_MORE_NOTES:"context_card_load_more_notes",CONTEXT_CARD_LOAD_MORE_HISTORY:"context_card_load_more_history",CONTEXT_CARD_CLICK_SET_CUSTOM_TAG:"context_card_click_set_custom_tag",CONTEXT_CARD_CLICK_UNSET_CUSTOM_TAG:"context_card_click_unset_custom_tag",TAG_MANAGEMENT_CLICK_DELETE_LINK:"tag_management_click_delete_link",TAG_MANAGEMENT_CLICK_CONFIRM_DELETE:"tag_management_click_confirm_delete",TAG_MANAGEMENT_CLICK_COLOR_SELECTOR:"tag_management_click_color_selector",TAG_MANAGEMENT_CLICK_CHANGE_COLOR:"tag_management_click_change_color",TAG_MANAGEMENT_CLICK_ADD_TAG:"tag_management_click_add_tag",TAG_MANAGEMENT_CLICK_MERGE_TAG:"tag_management_click_merge_tag",MESSAGE_INBOX_SWITCH_FOLDER:"message_inbox_switch_folder",MESSAGE_INBOX_TOGGLE_FILTER_PANEL:"message_inbox_toggle_filter_panel",MESSAGE_INBOX_CLICK_MANAGE_TAGS:"message_inbox_click_manage_tags",MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS:"message_inbox_click_add_search_tags",MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS:"message_inbox_click_remove_search_tags",MESSAGE_INBOX_CLICK_SEARCH_NAMES:"message_inbox_click_search_names",MESSAGE_INBOX_CLICK_SEARCH_MESSAGES:"message_inbox_click_search_messages",MESSAGE_INBOX_CLICK_AWAY_TOGGLE:"message_inbox_click_away_toggle",MESSAGE_INBOX_CLICK_THREAD_BLOCK:"message_inbox_click_thread_block",MESSAGE_INBOX_CLICK_SEND_MESSAGE:"message_inbox_click_send_message",MESSAGE_INBOX_CLICK_MENU_ACTION:"message_inbox_click_menu_action",HOVERCARD_CLICK_EXPAND_FULL_VIEW:"hovercard_click_expand_full_view",HOVERCARD_CLICK_SEND_MESSAGE:"hovercard_click_send_message",HOVERCARD_CLICK_SEE_CONVERSATION:"hovercard_click_see_conversation",HOVERCARD_CLICK_VIEW_PROFILE:"hovercard_click_view_profile"})}),null);
__d("PagesManagerMessagingActionType",["PagesManagerActionType","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({THREAD_LEVEL:{READ_STATUS:"",ARCHIVE_STATUS:"",SPAM_STATUS:"",UPDATE_THREAD:""},SET_SCROLL_HEIGHT:null,SET_APPOINTMENT_BANNER_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null},CLASSIFIER:{INITIALIZE_STORE:null,CHECK_FOR_INTENT:null,NOTIFY_INTENT_CLASSIFIED:null,THREAD_INTENT_UPDATED:null,VERIFY_INTENT:null}});Object.assign(a,b("PagesManagerActionType"));e.exports=a}),null);
__d("PagesMessagingSearchMode",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ALL:"",NAME_SEARCH:"",KEYWORD_SEARCH:"",MESSAGE_SEARCH:"",NONE:""});e.exports=a}),null);
__d("PagesManagerMessagingThreadlistAction",["MercuryThreadlistConstants","PagesManagerDispatcher","PagesManagerLogger","PagesManagerMessagingActionType","PagesMessagingSearchMode"],(function(a,b,c,d,e,f){__p&&__p();var g={initThreadlist:function(a){this.fetchThreadlist(a,0,b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT)},fetchThreadlist:function(a,c,d){b("PagesManagerDispatcher").dispatch({offset:c,limit:d,pageID:a,type:b("PagesManagerMessagingActionType").LIST.FETCH})},updateThreadlist:function(a){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},updateThreadlistWithDelay:function(a,c){setTimeout(function(){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},c)},changeSearchTerm:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.CHANGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d,searchMode:e})},changeIsSearchingNameStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:a})},changeIsSearchingSnippetStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:a})},loadMoreNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:c,pageID:a,activeFolder:d})},loadMoreSnippetResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:c,pageID:a,activeFolder:d})},resetSearch:function(a){g.changeSearchTerm(a,"","",b("PagesMessagingSearchMode").NONE)},addSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_add_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},removeSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_remove_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},searchNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})},searchMessageResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})}};e.exports=g}),null);
__d("CreatorStudioInboxMessengerRankedUsersActionTypes",["PagesManagerActionType","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:""});c=babelHelpers["extends"]({},a,b("PagesManagerActionType"));e.exports=c}),null);
__d("CreatorStudioInboxMessengerRankedUsersAction",["CreatorStudioInboxMessengerRankedUsersActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={fetchCreatorStudioInboxMessengerRankedUsersData:function(){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA})},setCreatorStudioInboxMessengerRankedUsersData:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a,data:c})},refreshCreatorStudioInboxMessengerRankedUsersData:function(a){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a})},deleteCreatorStudioInboxMessengerRankedUser:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,pageID:a,userID:c})},setCreatorStudioInboxMessengerRankedUsersError:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR,pageID:a,error:c})}};e.exports=a}),null);
__d("XMessagingSetPreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/preferences/",{send_on_enter:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesManagerInboxDetailViewContainer.react",["PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","RelayModern","UserActivity","PagesManagerInboxDetailViewContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return b("React").jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:this.props.item.comm_platform,commType:this.props.item.comm_type,token:this.props.item.id}))};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxDetailViewContainer_item.graphql")})}),null);
__d("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_multi_admin_assignment_update");e.exports=a}),null);
__d("BusinessInboxPostFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_post_folder_update");e.exports=a}),null);
__d("BusinessInboxSwitchFolderClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_switch_folder_click");e.exports=a}),null);
__d("BusinessInboxThreadFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_folder_update");e.exports=a}),null);
__d("PagesManagerInboxLogger",["BusinessInboxMultiAdminAssignmentUpdateFalcoEvent","BusinessInboxPostFolderUpdateFalcoEvent","BusinessInboxSwitchFolderClickFalcoEvent","BusinessInboxThreadFolderUpdateFalcoEvent","CurrentUser","PagesManagerInboxTypedLogger","PagesMessagingInboxActionsTypedLogger","PagesMessagingPerfTypedLogger","TimeSliceInteraction","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ERROR_GRAPH_QL:null,ERROR_JS:null,INITIAL_DATA_LOADED:null,INITIAL_LIST_RENDERED:null,INITIAL_LOAD:null,ITEM_DETAILS_LOADED:null,ITEM_LOADED:null,START_LOADING_ITEM_DETAILS:null,START_LOADING_ITEM:null,BROADCAST_MESSAGE_FORMAT:null,ITEM_STATUS_CHANGED:null,ITEM_STATUS_CHANGED_THREAD:null,ITEM_STATUS_CHANGED_HEADER:null,FOLDER_CHANGE_CLICKED:null,PLATFORM_CHANGE_TAB_CLICKED:null,SEND_COMMENT:null,SEND_MESSAGE:null,SEARCH_CLICKED:null,CONTENT_SEARCH_CLICKED:null,CREATE_BROADCAST_BUTTON_RENDERED:null,CREATE_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_CONFIRM_BUTTON_CLICKED:null,BROADCAST_HISTORY_ROW_CLICK:null,AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED:null,AUTOMATION_ENABLED:null,AUTOMATION_DISABLED:null,AUTOMATED_RESPONSES_SAVE_CLICK:null}),h,i,j=!0,k,l={init:function(a){h=a,i=Date.now(),l.create(g.INITIAL_LOAD).setScreenHeight(screen.height).setScreenWidth(screen.width).log()},logInitialListRendered:function(a,c){if(!j)return;j=!1;l.create(g.INITIAL_LIST_RENDERED).setTimeSinceLoad(Date.now()-i).setPlatform(a).log();b("TimeSliceInteraction").informOnPage(g.INITIAL_LIST_RENDERED)},create:function(a){return new(b("PagesManagerInboxTypedLogger"))().setEventName(a).setPageID(h).setHref(window.location.href)},logErrorJS:function(a,b){l.create(g.ERROR_JS).setMessage(a.message).setStackTrace(a.stack).setModuleName(b).log()},logErrorGraphQL:function(a){l.create(g.ERROR_GRAPH_QL).setMessage(a.message).setStackTrace(a.stack).log()},startLoadingItem:function(a){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setPageCommItemID(a).log()},itemInitialDataLoaded:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("initial data loaded");l.create(g.INITIAL_DATA_LOADED).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingItemDetails:function(a,b){if(!k||k.commItemID!==a)return;k.platform=b;k.isCached=!1;k.interaction.inform("loading details");l.create(g.START_LOADING_ITEM_DETAILS).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},itemDetailsLoaded:function(a,b){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");l.create(g.ITEM_DETAILS_LOADED).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingThread:function(a,c){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setThreadToken(a).setPlatform(c).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_start").log()},threadDetailsLoaded:function(a,c){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");var d=Date.now()-k.startTimestamp;l.create(g.ITEM_DETAILS_LOADED).setThreadToken(a).setPlatform(c).setLoadTime(d).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_end").setPerfTime(d).log();k=null},itemRendered:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("item rendered");k.interaction.finish();l.create(g.ITEM_LOADED).setIsCached(k.isCached).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).setPlatform(k.platform).setTraceID(k.interaction.getTraceID()).log();k=null},logBroadcastMessageFormat:function(a){l.create(g.BROADCAST_MESSAGE_FORMAT).setBroadcastMessageFormat(a).log()},getFolderEventLoggingData:function(a,c,d){__p&&__p();var e="unknown",f="facebook";switch(a){case"FACEBOOK":case"GROUP":e="facebook";break;case"MESSENGER":e="messenger";break;case"INSTAGRAM":e="instagram";f="instagram";break;case"INSTAGRAM_DIRECT":e="instagram_direct";f="instagram";break;case"WEC":case"ALL":e="unified_threads";f="unknown";break}return{event_location:"unknown",page_id:h,ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f,client_timestamp_ms:Date.now(),inbox_platform:e,thread_id:null,consumer_id:null,referrer:window.location.href,event_data:{source_folder:c,target_folder:d}}},itemStatusChanged:function(a,b,c,d){d=d||null;l.create(g.ITEM_STATUS_CHANGED).setPageCommItemID(a).setPageCommItemStatus(c).setPlatform(b).setPageCommSearchType(d).log()},itemStatusChangedInThread:function(a,c,d,e,f){var h=this;f=f||null;l.create(g.ITEM_STATUS_CHANGED_THREAD).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).setPageCommSearchType(f).log();b("BusinessInboxThreadFolderUpdateFalcoEvent").log(function(){return h.getFolderEventLoggingData(c,d,e)})},itemStatusChangedInHeader:function(a,c,d,e){var f=this;l.create(g.ITEM_STATUS_CHANGED_HEADER).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).log();b("BusinessInboxPostFolderUpdateFalcoEvent").log(function(){return f.getFolderEventLoggingData(c,d,e)})},logFolderChangeClick:function(a,b){l.create(g.FOLDER_CHANGE_CLICKED).setFolder(b).setPlatform(a).log()},logFolderSwitchClick:function(a,c,d){var e=this;b("BusinessInboxSwitchFolderClickFalcoEvent").log(function(){return e.getFolderEventLoggingData(a,c,d)})},logPlatformChangedClicked:function(a,b){l.create(g.PLATFORM_CHANGE_TAB_CLICKED).setPlatform(a).setViewMode(b).log()},logSendComment:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_comment").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).log(),l.create(g.SEND_COMMENT).setPlatform(a).log()},logMarkAsUnread:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("mark_as_unread").addToExtraData("page_id",c).log()},logAdminAssignmentAction:function(a,c,d){var e={logged_in_user_id:b("CurrentUser").getID(),page_id:a,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown",event_data:{action:c,tag:d}};b("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent").log(function(){return e})},logCommentReaction:function(a,c,d,e,f){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("reaction").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).addToExtraData("reaction_type",f).log()},logSendMessage:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_message").setPlatform(a).addToExtraData("page_id",c).addToExtraData("enter_to_send_enabled",d.toString()).log(),l.create(g.SEND_MESSAGE).setPlatform(a).log()},logReceiveMessage:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("receive_message").setPlatform(a).addToExtraData("page_id",c).log()},logSearchClick:function(a,b){l.create(g.SEARCH_CLICKED).setPageCommSearch(a).setPlatform(b).log()},logContentSearchClicked:function(a,b){l.create(g.CONTENT_SEARCH_CLICKED).setPageCommSearchType(a).setPageCommSearch(b).log()},logBroadcastButtonRendered:function(){l.create(g.CREATE_BROADCAST_BUTTON_RENDERED).log()},logBroadcastButtonClicked:function(){l.create(g.CREATE_BROADCAST_BUTTON_CLICKED).log()},logBroadcastSendButtonClicked:function(a){l.create(g.SEND_BROADCAST_BUTTON_CLICKED).setBroadcastAudience(a).log()},logBroadcastConfirmationButtonClicked:function(){l.create(g.SEND_BROADCAST_CONFIRM_BUTTON_CLICKED).log()},logBroadcastHistoryRowClicked:function(){l.create(g.BROADCAST_HISTORY_ROW_CLICK).log()},logAutomatedResponsesRendered:function(){l.create(g.AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED).log()},logAutomatedResponsesEnabled:function(a){l.create(g.AUTOMATION_ENABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesDisabled:function(a){l.create(g.AUTOMATION_DISABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesSaveClicked:function(a,b){l.create(g.AUTOMATED_RESPONSES_SAVE_CLICK).setAutomatedResponseTriggerType(a).setHadError(b).log()}};e.exports=l}),null);
__d("XPagesManagerInboxFacebookPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/fb_post/",{})}),null);
__d("PagesManagerInboxQueryRenderer.react",["invariant","ErrorBoundary.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").QueryRenderer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:this.$1,children:b("React").jsx(h,babelHelpers["extends"]({cacheConfig:{force:!1},environment:b("RelayFBEnvironment")},this.props,{render:function(b){return a.$2(b)}}))})};d.$1=function(a,c){b("PagesManagerInboxLogger").logErrorJS(a,c)};d.$2=function(a){a.error&&b("PagesManagerInboxLogger").logErrorGraphQL(a.error);var c=this.props.render;c||g(0,2743);return c(a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerPageCommItemEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerInboxMercuryUtil",["PagesManagerInboxFilterStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){return b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="WEC"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!=="MESSENGER"?!1:!0}};e.exports=a}),null);
__d("XWECMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/send/",{})}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},contentSearchSelectedIndex:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.CONTENT_SEARCH_SELECTED_INDEX,contentSearchSelectedIndex:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryThreadlistConstants","MessengerState.bs","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("PagesManagerMessagingMessagelistDispatcher"))||this;c.$PagesManagerMessagingMessagelistStore1="";c.$PagesManagerMessagingMessagelistStore2=!1;c.$PagesManagerMessagingMessagelistStore3=!1;c.$PagesManagerMessagingMessagelistStore4=!1;c.$PagesManagerMessagingMessagelistStore6=[];c.$PagesManagerMessagingMessagelistStore7=0;c.$PagesManagerMessagingMessagelistStore9=new Map();c.$PagesManagerMessagingMessagelistStore10=0;c.$PagesManagerMessagingMessagelistStore11=0;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore14(a.pageID,a.userID,a.isBanned);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.CONTENT_SEARCH_SELECTED_INDEX:this.$PagesManagerMessagingMessagelistStore11=a.contentSearchSelectedIndex;this.__emitChange();break;default:return}};d.$PagesManagerMessagingMessagelistStore12=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};d.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};d.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};d.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MessengerState.bs").getThreadMessagesRangeNow(a,c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};d.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};d.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===void 0||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};d.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};d.$PagesManagerMessagingMessagelistStore13=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};d.$PagesManagerMessagingMessagelistStore15=function(a,b){return a+"_"+b};d.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore15(a,b))};d.$PagesManagerMessagingMessagelistStore14=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore15(a,b),c)};d.getContentSearchSelectedIndex=function(){return this.$PagesManagerMessagingMessagelistStore11};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("MediaManagerInboxLogUtils",["MediaManagerFbPagePickerStore","MediaManagerInboxUtils","MediaManagerTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MediaManagerInboxUtils").InboxTabType;function h(a,c){c=c;c==null&&(c=new(b("MediaManagerTypedLogger"))());c=c.setEvent(a).setEventSource("inbox_tab").setSelectedSinglePageID(b("MediaManagerFbPagePickerStore").selectedSinglePageID()).setSelectedTab(g());c.log()}function a(a,c,d,e){var f=new(b("MediaManagerTypedLogger"))();c!==null&&(f=f.setPlatformRowID(String(c)));d!=null&&(f=f.setInboxPlatform(d));e!=null&&(f=f.setEventData(e));h(a,f)}function c(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"MESSAGE";case"FACEBOOK":case"INSTAGRAM":return"COMMENT";default:return null}}function d(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"THREAD";case"FACEBOOK":case"INSTAGRAM":return"POST";default:return null}}e.exports={getMediaManagerNotificationType:c,getMediaManagerPlatformRowType:d,mediaManagerInboxLoggingEvent:a}}),null);
__d("MediaManagerInboxContext.react",["FacebookAppIDs","MediaManagerInboxLogUtils","PageCommItemActionType","PageCommItemStatus","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxLogUtils").getMediaManagerNotificationType,h=b("MediaManagerInboxLogUtils").getMediaManagerPlatformRowType,i=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent,j=(a={},a[(c=b("PageCommItemStatus")).DELETED]="mark_deleted",a[c.DONE]="mark_done",a[c.FOLLOW_UP]="mark_follow_up",a[c.TODO]="mark_todo",a[c.SPAM]="mark_spam",a),k=(d={},d[b("PageCommItemActionType").MARK_READ]="mark_read",d[b("PageCommItemActionType").MARK_UNREAD]="mark_unread",d);f={appID:b("FacebookAppIDs").MEDIA_MANAGER,logClickPlatform:function(a,b){i("click_platform",null,a,{filter:b})},logClickRow:function(a,b){i("click_row",a,b)},logMarkReadStatusActions:function(a,b,c,d,e){i(k[d],a,b,{filter:c,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:e!=null?e.toString():""})},logMarkStatusActions:function(a,b,c,d,e){i(j[e],a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowImpression:function(a,b,c,d){i("row_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowPreviewImpression:function(a,b,c,d){i("row_preview_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logSendMessageToTargetUser:function(a,b,c,d){i("send_message_to_target_user",a,b,{filter:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logSendStickerToTargetUser:function(a,b,c,d,e){i("send_sticker_to_target_user",a,b,{filter:e,inbox_messenger_send_sticker_id:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logClickMessageCta:function(a,b,c,d,e){i("fb_comms_tip_cta_clicked",a,b,{filter:e,notification_type:b||"",platform_row_type:c||"",rowIndex:d!=null?d.toString():""})}};a=b("React").createContext({appID:null,logClickPlatform:c=b("emptyFunction"),logClickRow:c,logMarkReadStatusActions:c,logMarkStatusActions:c,logRowImpression:c,logRowPreviewImpression:c,logSendMessageToTargetUser:c,logSendStickerToTargetUser:c,logClickMessageCta:c});e.exports={MediaManagerInboxContext:a,MediaManagerInboxContextValue:f}}),null);
__d("PagesManagerInboxMessengerDetailView.react",["MediaManagerInboxContext.react","MercuryIDs","PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","UserActivity","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),"MESSENGER",this.props.mediaManagerInboxRowIndex,this.props.selectedFolder),this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return b("React").jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:"MESSENGER",commType:"FB_MESSAGE",token:this.props.threadID}))};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxComposerStateReasonType",[],(function(a,b,c,d,e,f){"use strict";e.exports={DISABLE_LEFT_GROUP:"DISABLE_LEFT_GROUP",ENABLE_NOT_GROUP:"ENABLE_NOT_GROUP",ENABLE_IN_GROUP:"ENABLE_IN_GROUP"}}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},AUTOMATED_CHECKOUT:{SET_AUTOMATED_CHECKOUT_ID:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:"",SET_REPLIES:"",SET_TOKENS:"",SET_UPSELL_NUX:"",SET_UPSELL_TOAST:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""},COMPOSER_STATE_REASON:""});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setAutomatedCheckoutId:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID,automatedCheckoutID:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setSavedReplyResponses:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES,replies:a})},setSavedReplyTokens:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS,tokens:a})},setShouldShowSavedReplyUpsellToast:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST,shouldShowSavedReplyUpsellToast:a})},setShouldShowSavedReplyUpsellNUX:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX,shouldShowSavedReplyUpsellNUX:a})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})},setComposerStateReason:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON,composerStateReason:a})}};e.exports=a}),null);
__d("PageAutomationTrigger",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POSITIVE_RECOMMENDATION:"positive_recommendation",NEGATIVE_RECOMMENDATION:"negative_recommendation",CRM_REENGAGEMENT:"crm_reengagement",SMART_REPLY_CONTACT:"smart_reply_contact",SMART_REPLY_HOURS:"smart_reply_hours",SMART_REPLY_LOCATION:"smart_reply_location",SMART_REPLY_NEGATIVE_FEEDBACK:"smart_reply_negative_feedback",SMART_REPLY_POSITIVE_FEEDBACK:"smart_reply_positive_feedback",JOB_APPLICATION:"job_application",AWAY_MESSAGE:"away_message",INSTANT_REPLY:"instant_reply",APPOINTMENT_REMINDER:"appointment_reminder",SAVED_REPLY:"saved_reply",MBS_REENGAGEMENT:"mbs_reengagement",BECOME_SUPPORTER:"become_supporter",ICEBREAKER:"icebreaker",AUTOMATED_CHECKOUT:"automated_checkout",ORGANIC_INTAKE_FORM:"organic_intake_form",CUSTOM_QUESTIONS:"custom_questions",APPOINTMENT_FOLLOW_UP:"appointment_follow_up"})}),null);
__d("XWECMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","SavedResponsesUtils","URI","XWECMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();b=a.call(this,b)||this;b.$PagesManagerMessagingComposerStore1=new Map();b.$PagesManagerMessagingComposerStore3=null;b.$PagesManagerMessagingComposerStore4=!1;b.$PagesManagerMessagingComposerStore5="";b.$PagesManagerMessagingComposerStore6=null;b.$PagesManagerMessagingComposerStore7=!1;b.$PagesManagerMessagingComposerStore8=!1;b.$PagesManagerMessagingComposerStore9=[];b.$PagesManagerMessagingComposerStore10={};b.$PagesManagerMessagingComposerStore11="";b.$PagesManagerMessagingComposerStore12=null;b.$PagesManagerMessagingComposerStore13=null;return b}var d=c.prototype;d.getAllAttachmentsMeta=function(){__p&&__p();var a=this.$PagesManagerMessagingComposerStore14(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};d.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAttachments():[]};d.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getImageFiles():[]};d.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAnimatedImageFiles():[]};d.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getVideoFiles():[]};d.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAudioFiles():[]};d.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getFiles():[]};d.getAutomatedCheckoutId=function(){return this.$PagesManagerMessagingComposerStore2};d.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore3};d.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.isUploading():!1};d.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};d.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};d.getShouldShowSavedReplyUpsellNUX=function(){return this.$PagesManagerMessagingComposerStore7};d.getShouldShowSavedReplyUpsellToast=function(){return this.$PagesManagerMessagingComposerStore8};d.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};d.getSavedReplyResponses=function(){return this.$PagesManagerMessagingComposerStore9};d.getSavedReplyTokens=function(){return this.$PagesManagerMessagingComposerStore10};d.getMatchingShortcut=function(){return this.$PagesManagerMessagingComposerStore11};d.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore12)return this.$PagesManagerMessagingComposerStore12.getAttachData()};d.getUploadActionFromUserID=function(a,c){if(!c)return null;return a==="WEC"?b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(g||(g=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};d.$PagesManagerMessagingComposerStore15=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};d.$PagesManagerMessagingComposerStore16=function(a){var b=this;a.map(function(a){b.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})})};d.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};d.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore12&&this.$PagesManagerMessagingComposerStore12.clear()};d.$PagesManagerMessagingComposerStore20=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore21(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};d.$PagesManagerMessagingComposerStore14=function(){if(!this.$PagesManagerMessagingComposerStore3)return[];var a=this.$PagesManagerMessagingComposerStore3;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};d.$PagesManagerMessagingComposerStore21=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};d.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore22();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore20(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore16(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore23(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore24();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID:this.$PagesManagerMessagingComposerStore25(a.automatedCheckoutID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore17();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore26(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore27(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore28(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES:this.$PagesManagerMessagingComposerStore29(a.replies);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS:this.$PagesManagerMessagingComposerStore30(a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX:this.$PagesManagerMessagingComposerStore31(a.shouldShowSavedReplyUpsellNUX);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST:this.$PagesManagerMessagingComposerStore32(a.shouldShowSavedReplyUpsellToast);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore33(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore19();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore34(a.uploader);this.$PagesManagerMessagingComposerStore35();break;case b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON:this.$PagesManagerMessagingComposerStore13=a.composerStateReason;this.__emitChange();break}};d.$PagesManagerMessagingComposerStore24=function(){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};d.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore18(a))};d.$PagesManagerMessagingComposerStore22=function(){var a=this;this.$PagesManagerMessagingComposerStore1.forEach(function(b,c){b.isUploading&&a.$PagesManagerMessagingComposerStore1["delete"](b.uploadID)})};d.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore2=a};d.$PagesManagerMessagingComposerStore34=function(a){this.$PagesManagerMessagingComposerStore3=a};d.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore4=a};d.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore5=a,a.length>=3&&b("SavedResponsesUtils").checkHasMatchingShortcut(a,this.$PagesManagerMessagingComposerStore9)?this.$PagesManagerMessagingComposerStore11=a.toLowerCase():this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore27=function(a){this.$PagesManagerMessagingComposerStore6=a};d.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore9=a};d.$PagesManagerMessagingComposerStore30=function(a){var b=Object.keys(this.$PagesManagerMessagingComposerStore10).length;this.$PagesManagerMessagingComposerStore10=a;b===0&&this.$PagesManagerMessagingComposerStore9!==null&&this.$PagesManagerMessagingComposerStore29(this.$PagesManagerMessagingComposerStore9)};d.$PagesManagerMessagingComposerStore31=function(a){this.$PagesManagerMessagingComposerStore7=a};d.$PagesManagerMessagingComposerStore32=function(a){this.$PagesManagerMessagingComposerStore8=a};d.$PagesManagerMessagingComposerStore33=function(a){this.$PagesManagerMessagingComposerStore12=a};d.$PagesManagerMessagingComposerStore35=function(){var a=this.$PagesManagerMessagingComposerStore3;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore15.bind(this))};d.getComposerStateReason=function(){return this.$PagesManagerMessagingComposerStore13};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("GraphQLSubscribeModes",[],(function(a,b,c,d,e,f){"use strict";a={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"};e.exports=a}),null);
__d("GraphQLMutationDataHandler",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a={getMutationType:function(a){!!a&&Object.keys(a).length===1||g(0,3445);return Object.keys(a)[0]}};e.exports=a}),null);
__d("GraphQLSubscriptionTracker",[],(function(a,b,c,d,e,f){"use strict";var g={};a={trackSubscription:function(a,b){g[b]=a},getSubscription:function(a){return g[a]},removeSubscription:function(a){delete g[a]}};e.exports=a}),null);
__d("RelayGraphQLSubscriptionNetworkLayer",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h;a={injectGraphQLSubscriber:function(a){h=a},sendSubscribeRequest:function(a){h||g(0,1910),h.sendSubscribeRequest(a)}};e.exports=a}),null);
__d("RQLSubscription",["invariant","GraphQLMutationDataHandler","GraphQLSubscribeModes","GraphQLSubscriptionTracker","RelayGraphQLSubscriptionNetworkLayer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={sendSubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").SUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},sendUnsubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").UNSUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},handleSubscriptionPayload:function(a){var c=b("GraphQLMutationDataHandler").getMutationType(a);a[c]||g(0,5237);var d="client_subscription_id"in a[c];if(!d)return;d=a[c].client_subscription_id;d||g(0,5238);c=b("GraphQLSubscriptionTracker").getSubscription(d);c&&c.handlePayload(a)}};e.exports=a}),null);
__d("RelayGraphQLSubscriber",["Promise","GraphQLSubscribeModes","GraphQLSubscriptionsTypedLogger","RelayRTIUtils","RQLSubscription","SkywalkerManager","nullthrows","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/route/RelayMetaRoute","react-relay-deprecated/classic/traversal/flattenRelayQuery","react-relay-deprecated/classic/traversal/printRelayQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRTIUtils").getTopicAndTransformContext_DEPRECATED,h={},i="155160167952447";function a(a){__p&&__p();return{sendSubscribeRequest:function(c){var d=this,e,f=this._prepareData(c);c.mode===b("GraphQLSubscribeModes").SUBSCRIBE?e=g(a,f.queryText,f.queryID,f.queryParams,f.topic).then(function(a){var b=a.topic;a=a.transformContext;f.topic=b;a.appID=i;return d._subscribe(f,a)}):c.mode===b("GraphQLSubscribeModes").UNSUBSCRIBE?e=this._unsubscribe(f):e=b("Promise").reject("invalid mode");e["catch"](function(a){return!1})},_prepareData:function(a){var c={input:JSON.stringify(babelHelpers["extends"]({},a.params,{client_subscription_id:a.clientSubscriptionID}))},d=b("react-relay-deprecated/classic/query/RelayQuery").Subscription.create(a.subscription,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$GraphQLSubscriber"),c),e=b("react-relay-deprecated/classic/traversal/printRelayQuery")(b("nullthrows")(b("react-relay-deprecated/classic/traversal/flattenRelayQuery")(d))).text;return{queryText:e,queryID:a.subscriptionQueryID!=null?Number(a.subscriptionQueryID):null,queryParams:c,topic:a.topic!=null?String(a.topic):null,tokenKey:JSON.stringify({params:a.params,text:e}),logger:new(b("GraphQLSubscriptionsTypedLogger"))().setSubscriptionCall(d.getCall().name).setQueryParams(c)}},_subscribe:function(a,c){var d=a.topic,e=a.tokenKey,f=a.logger;return new(b("Promise"))(function(a){var g={context:{transformContext:JSON.stringify(c)}};h[e]=b("SkywalkerManager").subscribe(b("nullthrows")(d),function(a){a=JSON.parse(a.payload);f.setEvent("receivepayload").log();b("RQLSubscription").handleSubscriptionPayload(a)},g);f.setEvent("client_subscribe").log();a()})},_unsubscribe:function(a){var c=a.tokenKey,d=a.logger;return new(b("Promise"))(function(a){h[c].unsubscribe(),delete h[c],d.setEvent("client_unsubscribe").log(),a()})}}}e.exports=a}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239139299490883"};b.getQueryID=function(){return"476383886201370"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1687920431245100"};b.getQueryID=function(){return"184933352139512"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesMessengerAppointmentActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MESSENGER_APPOINTMENT_TOGGLE_DIALOG:null});e.exports=a}),null);
__d("ServicesMessengerAppointmentActions",["ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG;a={toggleDialog:function(a,c,d,e,f){b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{additionalLoggingData:c,onUpdateCompleted:f,referrerData:d,shouldShowDialog:a,startTime:e}})}};e.exports=a}),null);
__d("ServicesMessengerAppointmentStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG,h={referrerUIComponent:"composer",referrerUISurface:"message"},i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({additionalLoggingData:null,onUpdateCompleted:null,referrerData:null,shouldShowDialog:!1,startTime:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,b){var c=b.type;b=b.payload;switch(c){case g:return a.set("shouldShowDialog",b.shouldShowDialog).set("additionalLoggingData",b.additionalLoggingData).set("referrerData",b.referrerData).set("startTime",b.startTime).set("onUpdateCompleted",b.onUpdateCompleted);default:return a}};d.getShouldShowDialog=function(){var a;return(a=this.getState().shouldShowDialog)!=null?a:!1};d.getAdditionalLoggingData=function(){return this.getState().additionalLoggingData};d.getReferrerData=function(){var a;return(a=this.getState().referrerData)!=null?a:h};d.getStartTime=function(){return this.getState().startTime};d.getOnUpdateCompleted=function(){var a;return(a=this.getState().onUpdateCompleted)!=null?a:b("emptyFunction")};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","DateConsts","FluxContainer","Instant","Link.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesEventsLogger","ServicesAppointmentBadgeSubscription","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesMessengerAppointmentActions","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesMessengerAppointmentStore","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","emptyFunction","promiseDone","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("ChannelManager");var i={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.composerBadgeSubscription=null,d.$1=!1,d.handleClick=function(){d.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:d.props.pageID,user_id:d.props.recipientID}})),d.handleToggleDialog(!0),d.setState({showComposerBadge:!1})},d.handleToggleDialog=function(a){b("ServicesMessengerAppointmentActions").toggleDialog(a,null,i,d.$2(),d.$3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore"),b("ServicesMessengerAppointmentStore")]};c.calculateState=function(a){if(!a)return{additionalLoggingData:null,dialogShown:!1,onUpdateCompleted:b("emptyFunction"),referrerData:i,showComposerBadge:!1,showComposerNUX:!1,startTime:null,timeMentioned:null,timezoneID:b("ServicesDateTimeUtils").getDefaultTimezoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{additionalLoggingData:b("ServicesMessengerAppointmentStore").getAdditionalLoggingData(),dialogShown:b("ServicesMessengerAppointmentStore").getShouldShowDialog(),onUpdateCompleted:b("ServicesMessengerAppointmentStore").getOnUpdateCompleted(),referrerData:b("ServicesMessengerAppointmentStore").getReferrerData(),showComposerNUX:c.showComposerNUX,startTime:b("ServicesMessengerAppointmentStore").getStartTime()})};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log("booking_admin_composer_icon_impression"),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.subscribeToShowComposerBadge(),this.$1=!0};d.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null),this.$1=!1};d.componentDidUpdate=function(a,b){!b.showComposerBadge&&this.state.showComposerBadge&&this.log("booking_admin_thread_intent_composer_badging_impression")};d.log=function(a){b("ServicesEventsLogger").log(this.props.pageID,a,this.state.referrerData,{customer_id:this.props.recipientID,custom_session_id:b("uuid")()})};d.initShowComposerBadge=function(){var a=this;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.pageID,user_id:this.props.recipientID})),function(c){if(!c)return;c=((c=c)!=null?(c=c.page)!=null?c.services_vertical_info:c:c)||{};var d=c.messenger_appointment_intent_data||{},e=c.time_zone_name;if(!a.$1)return;a.setState({showComposerBadge:!!c.should_show_composer_badge,timeMentioned:d.time_mentioned||null,timezoneID:b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(e)})},function(a){})};d.subscribeToShowComposerBadge=function(){var a=this;this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.pageID,user_id:this.props.recipientID},function(b){b=((b=b)!=null?b.services_appointment_badge_subscribe:b)||{};if(!a.$1)return;a.setState({showComposerBadge:!!b.should_show_badge,timeMentioned:b.timestamp||null})})};d.$3=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.$2=function(){var a=this.state.timeMentioned;return a&&!(a<b("Instant").now()-b("DateConsts").SEC_PER_WEEK*2)?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,this.state.timezoneID):null};d.renderCreateAppointmentDialog=function(){var a=this,c=this.state.dialogShown;return!c?null:b("React").jsx(b("ServicesAppointmentDialogRoot.react"),{additionalLoggingData:this.state.additionalLoggingData,causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,jobSearchSurface:"messenger",onToggle:this.handleToggleDialog,onUpdateCompleted:this.state.onUpdateCompleted,pageID:this.props.pageID,referrerData:this.state.referrerData,showMessengerButton:!1,shown:this.state.dialogShown,startTime:this.state.startTime,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderComposerNUX=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(5292);return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(5292)},position:"above",width:"normal",children:h._("Create an appointment from any conversation so customers can get automatic reminders")})};d.render=function(){var a=this,c=h._("Create appointment");return b("React").jsxs("div",{children:[b("React").jsxs(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.handleClick,ref:function(b){return a.button=b},children:[b("React").jsx("div",{className:this.state.showComposerBadge?"_4on2":""}),b("React").jsx("i",{className:"_2em5"})]}),this.renderComposerNUX(),this.renderCreateAppointmentDialog()]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(){return c.props.onDetach(c.props.uploadID)};return c}var d=c.prototype;d.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};d.$3=function(){return b("React").jsx(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};d.$4=function(){return b("React").jsx("span",{className:"_2uib",children:this.props.isUploading?b("React").jsx(b("XUISpinner.react"),{size:"large"}):b("React").jsx(b("Image.react"),{src:this.$2(),alt:this.props.type})})};d.$5=function(){return b("React").jsx("span",{className:"_2uic",children:this.props.name})};d.render=function(){var a;return(a=b("React")).jsxs("li",{className:"clearfix _2uid",children:[a.jsx("span",{className:"_kqe _kqf",children:this.$4()}),a.jsx("span",{className:"_kqe _kqh",children:this.$5()}),a.jsx("span",{className:"_kqe _kqi",children:this.$3()})]})};return c}(b("React").Component);a.propTypes={attachmentID:(c=b("prop-types")).string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return b("React").jsx(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID},a.uploadID)};d.render=function(){return this.props.attachments.length>0?b("React").jsx("ul",{className:"_27ru",children:this.props.attachments.map(this.$1,this)}):null};return c}(b("React").Component);a.propTypes={attachments:b("prop-types").array.isRequired,onDetach:b("prop-types").func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesEmptyState.react",["cx","fbt","FDSButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("We offer two shipping options..."),j=h._("Can you provide your order confirmation number so we can..."),k=h._("Here's more info about our upcoming event...");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.$1=function(a){return b("React").jsx("div",{className:"_7t00",children:a})};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_22rs",children:[a.jsxs("div",{className:"_7t01",children:[this.$1(i),this.$1(j),this.$1(k)]}),a.jsx("div",{children:h._("Save replies to frequently asked questions so you can respond more quickly to messages later.")}),a.jsx("div",{className:"_7t02",children:a.jsx(b("FDSButton.react"),{label:h._("Create Saved Reply"),onClick:this.props.onCreateNewReply,size:"large",use:"primary"})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerAdsPartialAutomatedPrefillType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE",COUNTRY:"COUNTRY",EMAIL:"EMAIL",PHONE:"PHONE",JOB_TITLE:"JOB_TITLE",COMPANY_NAME:"COMPANY_NAME",GENDER:"GENDER",DOB:"DOB",NONE:"NONE"})}),null);
__d("MessengerAdsPartialAutomatedReplyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_REPLIES:"QUICK_REPLIES",TEXT:"TEXT",NONE:"NONE",PREFILL:"PREFILL",ICE_BREAKERS:"ICE_BREAKERS",APPOINTMENT:"APPOINTMENT",SUBSCRIBE:"SUBSCRIBE"})}),null);
__d("ServicesFollowUpMessageSettingsUtils",["ServicesDurationUnit"],(function(a,b,c,d,e,f){"use strict";c=[(a=b("ServicesDurationUnit")).HOURS,a.DAYS,a.WEEKS,a.MONTHS];e.exports={FOLLOW_UP_MESSAGE_DURATION_UNITS:c}}),null);
__d("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",CAROUSEL:"carousel"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIFY_ME:"NOTIFY_ME",SIGN_UP:"SIGN_UP",GET_UPDATES:"GET_UPDATES"})}),null);
__d("MessengerAdsPartialAutomatedFollowUpButtonDestinationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WEBSITE:"website",APP:"app"})}),null);
__d("reverseArgs",[],(function(a,b,c,d,e,f){function a(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(void 0,c.reverse())}}e.exports=a}),null);
__d("PagesMessagingInboxActionLogger",["PagesMessagingInboxActionsTypedLogger","SavedResponsesUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={init:function(a){g=a},logConnectInstagramDirectButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("has_comments_connected",a.toString()).setPlatform("INSTAGRAM_DIRECT").setInboxAction("connect_button_click").log()},logConnectInstagramButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("can_connect_igdirect",a.toString()).setPlatform("INSTAGRAM").setInboxAction("connect_button_click").log()},logInitialListRendered:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("inbox_loaded").setPlatform(a).addToExtraData("page_id",c).log()},logSearchButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("search_button_clicked").log()},logPeopleSearchClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("people_search_clicked").setPlatform(a).addToExtraData("search_type",d).addToExtraData("search_term",c).addToExtraData("customer_platform",e).log()},logSearchResultClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction(a).setPlatform(c).addToExtraData("search_type",e).addToExtraData("search_term",d).log()},logSearchResultOpened:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("search_results_clicked").setPlatform(a).addToExtraData("search_type",c).addToExtraData("item_id",d).log()},logDeleteThreadClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("delete_thread").log()},logGroupActions:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction(c).addToExtraData("page_id",g).log()},logApplySavedReply:function(a,c,d,e,f,h){var i=b("SavedResponsesUtils").extraMacrosFromSavedResponse(e);new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_applied").addToExtraData("page_id",g).addToExtraData("search_term",d).addToExtraData("shortcut_match_term",c).addToExtraData("message",e).addToExtraData("shortcut",f).addToExtraData("has_image",h.toString()).addToExtraData("personalizations",i.join(",")).addToExtraData("automation_type","saved_reply").log()},logUpdateSavedReply:function(a,c,d,e,f,h,i){__p&&__p();var j=new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_updated").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply");if(a!==null){var k;k=b("SavedResponsesUtils").extraMacrosFromSavedResponse((k=a)!=null?k:"");j.addToExtraData("prev_message",(a=a)!=null?a:"").addToExtraData("prev_image_id",(a=f)!=null?a:"").addToExtraData("prev_shortcut",(f=d)!=null?f:"").addToExtraData("prev_macro_list",k.join(","))}if(c!==null){d=b("SavedResponsesUtils").extraMacrosFromSavedResponse((a=c)!=null?a:"");j.addToExtraData("new_message",(f=c)!=null?f:"").addToExtraData("new_image_id",(k=h)!=null?k:"").addToExtraData("new_shortcut",(a=e)!=null?a:"").addToExtraData("new_macro_list",d.join(",")).addToExtraData("corresponding_question",(c=i)!=null?c:"")}j.log()},logSavedReplySortClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_sorted").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply").addToExtraData("sorting_key",a).log()},logSavedReplyButtonClicked:function(a,c,d){var e=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_button_clicked").addToExtraData("page_id",g).addToExtraData("shortcut_match_term",c);d&&d.forEach(function(a,b){e.addToExtraData(b,a)});e.log()},logSendButtonClicked:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_button_clicked").setPlatform(a).addToExtraData("shortcut_match_term",c).addToExtraData("page_id",g).addToExtraData("enter_to_send_enabled",d.toString()).log()}};e.exports=a}),null);
__d("ServicesQPCFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ICEBREAKERS:"icebreakers",OPT_OUT:"opt_out",NONE:"none"})}),null);
__d("PageAutomationTriggerCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREET_CUSTOMERS:"greet_customers",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",COMMON_RESPONSES:"common_responses",CHECKOUT_REQUEST:"checkout_request",FEEDBACK:"feedback",JOB_APPLICATION:"job_application",REENGAGEMENT:"reengagement",SUPPORTER_ONLY:"supporter_only",APPOINTMENT_MESSAGING:"appointment_messaging"})}),null);
__d("XPagesDirectionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_address/",{page_id:{type:"Int",required:!0}})}),null);
__d("XPagesMessengerPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messenger_preview/",{json:{type:"String",required:!0},page_id:{type:"Int",required:!0},automated_checkout_data:{type:"String"}})}),null);
__d("PagesManagerInboxUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","IGMessageDataMutateAction","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxUnifiedThreadlistUtil","URI","ads-lib-urllib","getUniqueValuesForStringArray","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,k=1,l=1440;a=function(a,c,d,e,f){d!==a&&b("PagesManagerInboxFilterAction").changeFolder(e,f!=null?f:b("PageCommItemFolder").TODO,a),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxFilterAction").changeType(e,a),b("PagesManagerInboxAction").setNavMode(c)};c=function(a,c,d,e){b("PagesManagerInboxFilterAction").changeActiveUTLFolder(a),d!==a&&b("PagesManagerInboxFilterAction").changeFolder(e,b("PageCommItemFolder").TODO,a),a!=="ALL"?b("PagesManagerInboxFilterAction").changePlatform(a,e):b("PagesManagerInboxFilterAction").changeType(e,"MESSENGER"),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxAction").setNavMode(c)};d=function a(b){var c=b;Array.isArray(b)?c=b.map(a):b===Object(b)&&(c={},Object.keys(b).forEach(function(d){return c[d]=a(b[d])}));return c};var m=function(a,c,d,e,f,g,j,k){__p&&__p();var l={mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:k.errorText,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]},m=!1;a=a.trim();a||(l.welcomeTextError=k.welcomeTextError,m=!0);if(c&&c.length>0){var n=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaLabelError:a:a:a,o=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaURLError:a:a:a,p=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[1])!=null?a.ctaURLError:a:a:a;c.forEach(function(a,c){var d=null,e=null,f=a.content&&a.content.trim();!f&&n&&(d=n,m=!0);f=a.url;!f?o&&(e=o,m=!0):a.type==="button"&&(!b("ads-lib-urllib").isUrl(f)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(f)))&&p&&(e=p,m=!0);a={buttonNumber:c,ctaLabelError:d,ctaURLError:e};l.ctaErrors.push(a)})}if(e==="image")if(!d)l.mediaError=k.mediaError,l.imageTitleError=k.imageTitleError,m=!0;else{a=d.title&&d.title.trim();(d.type!=="image"||!d.url)&&(l.mediaError=k.mediaError,m=!0);!a&&((c=k)!=null?c.imageTitleError:c)&&(l.imageTitleError=k.imageTitleError,m=!0)}e==="video"&&(!d||!d.url||d.type!=="video")&&(l.mediaError=k.mediaError,m=!0);if(f){f.introMessage.trim()||(l.questionnaireWelcomeTextError=k.questionnaireWelcomeTextError,m=!0);f.thankYouMessage.trim()||(l.questionnaireThanksTextError=k.questionnaireThanksTextError,m=!0);(!g||!g.trim())&&(l.questionnaireStopQuestionsError=k.questionnaireStopQuestionsError,m=!0);(!j||!j.trim())&&(l.questionnaireReminderError=k.questionnaireReminderError,m=!0);a=!1;f.questionMessages.forEach(function(b,c){__p&&__p();b.message.trim()&&(a=!0);if(b.answerType===i.MULTIPLE_CHOICE){b=b.answers.filter(function(a){return a.trim().length});if(b.length<2){c={questionNumber:c,error:(b=k.questionnaireErrors[1])==null?void 0:b.error};l.questionnaireErrors.push(c);m=!0}}});if(!a){e={questionNumber:0,error:(c=k.questionnaireErrors[0])==null?void 0:c.error};l.questionnaireErrors.push(e);m=!0}}if(!m)return null;l.errorText=k.errorText;return l};f=function(a,c){__p&&__p();var d=null,e=a.reengagementMessages;for(var f=0;f<e.length;f++){var h=e[f];d=m(h.messageText,h.ctas,h.attachment,h.attachmentType,null,null,null,c);d===null&&(h.triggerTimeMin>l||h.triggerTimeMin<k)&&(d=n(g._("Message must include a valid send time.")));if(d!==null)break}h=a.reengagementRules;c=h.mainRules.concat(h.andRules).concat(h.notRules);f=b("getUniqueValuesForStringArray")(c);d===null&&(h.mainRules.length<1||!b("shallowArrayEqual")(c,f))&&(d=n(g._("Rule must include valid events.")));return d};var n=function(a){return{mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:a,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]}},o=function(a,c,d){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&(c==="INSTAGRAM_DIRECT"||j())&&b("IGMessageDataMutateAction").forceFetchInbox(d,20,b("PageCommItemFolder").TODO,!1,!1,null,!1)};e.exports={changeInboxTab:a,changeSelectedUTLFolder:c,clone:d,getErrorSpecsForComposer:m,getErrorSpecsForReengagement:f,setDefaultIGDirectFolder:o}}),null);
__d("PagesManagerMessagingAutomatedSequenceListItem.react",["ix","cx","fbt","FDSText.react","FluxContainer","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesMarketingAutomationStore","React","SavedResponsesConstants","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onMouseEnter(c.state.message)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),message:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages().introMessage}};var d=c.prototype;d.$1=function(){return this.state.automatedCheckoutMessages&&this.state.automatedCheckoutMessages.introMessage?this.state.automatedCheckoutMessages.introMessage:""};d.$2=function(){return b("React").jsxs("div",{className:"_40g7",children:[b("React").jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Buyer Information")," "]}),b("React").jsx(b("FDSText.react"),{color:"disabled",children:i._("Sequence")})]})};d.$4=function(){var a=i._("Edit");return b("React").jsx(b("LayoutColumn.react"),{className:"_7t98",children:b("React").jsx(b("Tooltip.react"),{tooltip:a,children:b("React").jsx(b("Image.react"),{className:"_7r85",onClick:this.props.onAutomatedSequenceEditClick,src:g("484291")})})})};d.render=function(){if(this.state.automatedCheckoutMessages)return b("React").jsx("li",{className:"_2ph_ _40g6",children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsxs(b("LayoutFillColumn.react"),{onClick:this.props.onAutomatedSequenceSelected,onMouseEnter:this.$3,ref:b("SavedResponsesConstants").automatedSequenceItemRef,children:[this.$2(),this.$1()]}),this.props.isSavedReplyNewUI?this.$4():null]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["ix","cx","fbt","ActorURI","AsyncRequest","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","SavedResponsesConstants","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","Tooltip.react","XPagesSavedResponsesImageDuplicationController","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=53,k=53;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return{message:b("SavedResponsesTokensUtils").prepareforSend(a.reply.message,a.tokens),isProcessing:c.isProcessing}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={message:"",isProcessing:!1};d.mounted=!1;d.$3=function(){__p&&__p();if(d.state.isProcessing)return;if(!d.props.reply.image){d.props.onClick(d.props.reply,d.state.message,null,d.props.searchTerm);return}var a=d.props.reply.image.id;d.setState({isProcessing:!0});var c=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();c=b("ActorURI").create(c,d.props.pageID);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({image_id:a}).setHandler(function(a){a=b("SavedResponsesUtils").generateImageMetadata(""+a.payload.duplicatedImageID);d.props.onClick(d.props.reply,d.state.message,a,d.props.searchTerm);d.mounted&&d.setState({isProcessing:!1})}).send()};d.$4=function(){d.props.onEditClick(d.props.reply)};d.$5=function(){d.props.onDeleteClick(d.props.reply)};d.$6=function(){d.props.onMouseEnter(d.state.message)};return d}var d=c.prototype;d.componentDidMount=function(){this.mounted=!0};d.componentWillUnmount=function(){this.mounted=!1};d.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return b("React").jsx(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:j,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:k})}};d.$2=function(){if(this.props.reply&&this.props.reply.title!=="")return b("React").jsx("h4",{className:"_40g7",children:this.props.reply.title})};d.$7=function(){var a,c=i._("Edit"),d=i._("Delete");return(a=b("React")).jsxs(b("LayoutColumn.react"),{className:"_7t98",children:[a.jsx(b("Tooltip.react"),{tooltip:c,children:a.jsx(b("Image.react"),{className:"_7r85",onClick:this.$4,src:g("484291")})}),a.jsx(b("Tooltip.react"),{tooltip:d,children:a.jsx(b("Image.react"),{className:"_7r85",onClick:this.$5,src:g("524061")})})]})};d.render=function(){return b("React").jsx("li",{className:b("joinClasses")("_2ph_ _40g6"+(this.state.isProcessing?" _84qn":""),this.props.className),children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsxs(b("LayoutFillColumn.react"),{onClick:this.$3,onMouseEnter:this.$6,onMouseLeave:this.props.onMouseLeave,ref:b("SavedResponsesConstants").replyItemRef,children:[this.$2(),this.state.message]}),b("React").jsx(b("LayoutColumn.react"),{className:"_8frq",children:this.$1()}),this.props.isSavedReplyNewUI?this.$7():null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["ix","cx","fbt","Image.react","Link.react","PagesManagerMessagingAutomatedSequenceListItem.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$8=function(a,c){return b("React").jsx(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:d.$1(a)?"":"hidden_elem",isSavedReplyNewUI:d.props.isSavedReplyNewUI,onClick:d.props.onReplySelected,onDeleteClick:d.props.onDeleteClick,onEditClick:d.props.onEditClick,onMouseEnter:d.props.onReplyMouseEnter,onMouseLeave:d.props.onReplyMouseLeave,pageID:d.props.pageID,reply:a,searchTerm:d.props.filter,tokens:d.props.tokens},c)};return d}var d=c.prototype;d.$1=function(a){var b=this.props.filter.toLowerCase();return b===""&&this.props.matchingShortcut!==""?a.title!==null&&a.title!==void 0&&a.title.toLowerCase().indexOf(this.props.matchingShortcut)===0:a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};d.$2=function(){if(this.props.filter!==""){var a=this.props.filter.toLowerCase();return!this.props.replies.some(function(b){return(b.title||"").toLowerCase().indexOf(a)!==-1||b.message.toLowerCase().indexOf(a)!==-1})}return!1};d.$3=function(){return b("React").jsx(b("Link.react"),{className:"_22rv",onClick:this.props.onCreateNewReply,children:i._("Create Saved Reply")})};d.$4=function(){return b("React").jsx("div",{className:"_2ph_ _22ru",children:b("React").jsx("p",{children:this.$3()})})};d.$5=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_2ph_ _22rp",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})})};d.$6=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return b("React").jsx(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1,children:b("React").jsxs("ul",{className:"_22rt",children:[this.$7(),a.map(this.$8,this),b("React").jsx("li",{className:"_2ph_ _22rs",children:this.props.isSavedReplyNewUI?null:this.$4()}),b("React").jsx("li",{className:"_22rs",children:this.props.isSavedReplyNewUI&&this.$2()?b("React").jsxs("div",{className:"_81z3",children:[b("React").jsx(b("Image.react"),{className:"_3-90",src:g("952401")}),i._("No results found")]}):null})]})})};d.$7=function(){if(this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return b("React").jsx(b("PagesManagerMessagingAutomatedSequenceListItem.react"),{isSavedReplyNewUI:this.props.isSavedReplyNewUI,onAutomatedSequenceEditClick:b("SavedResponsesUtils").editAutomatedCheckout,onAutomatedSequenceSelected:this.props.onAutomatedSequenceSelected,onMouseEnter:this.props.onReplyMouseEnter,pageID:this.props.pageID,searchTerm:this.props.filter,tokens:this.props.tokens})};d.render=function(){return b("React").jsxs("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":""),children:[this.props.isLoading?this.$5():null,this.$6()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedReplyDeleteReplyConfirmationModal.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{isDisabled:a.isDeleting,label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Saved Reply?")}),isShown:a.shown,label:"Delete Saved Reply Modal",onHide:a.onHide,width:400,children:c.jsx(b("FDSSection.react"),{children:g._("You won't be able to send this saved reply later.")})})}e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesDeleteSavedResponseMutation","PagesManagerMessagingComposerActions","PagesManagerMessagingSavedRepliesEmptyState.react","PagesManagerMessagingSavedRepliesList.react","PagesMessagingInboxActionLogger","React","SavedReplyDeleteReplyConfirmationModal.react","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED,responseToEdit:null,responseToDelete:null,searchQuery:"",savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,showDeleteModal:!1,isDeleting:!1},d.$1=function(a){d.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)},d.$2=function(a){a=a.target.value;d.setState({searchQuery:a})},d.$3=function(){d.setState({searchQuery:""})},d.$4=function(){d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$5=function(){d.setState({savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})},d.$6=function(a){d.setState({responseToEdit:a,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})},d.$7=function(){var a,c=d.state.responseToDelete;if(c==null)return;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.$8(),d.props.onFetchReplies(),d.setState({isDeleting:!1})},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)},d.$9=function(a){a&&d.props.onFetchReplies(),d.props.upsellSpecificData?(b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellNUX(!0),b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!0),d.props.resetFlyoutTrigger()):d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$8=function(){d.setState({responseToDelete:null,showDeleteModal:!1})},d.$10=function(a){d.setState({responseToDelete:a,showDeleteModal:!0})},d.$11=function(){d.props.onReplyMouseLeave(),d.props.toggleFlyout(),d.props.openAutomatedSequenceDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$12=function(){return b("React").jsx("div",{className:"_2ph_ _2gcu"+(this.props.isSavedReplyNewUI?"":" _7r86"),children:b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx("h3",{className:"_ht4",children:h._("Saved Replies")}),this.props.isSavedReplyNewUI?this.props.replies.length===0?null:b("React").jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.$4,children:h._("Create")}):b("React").jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies,children:h._("Manage Replies")})]})})};d.$13=function(){return!this.props.isLoading&&this.props.replies.length===0&&this.props.isSavedReplyNewUI?b("React").jsx(b("PagesManagerMessagingSavedRepliesEmptyState.react"),{onCreateNewReply:this.$4}):b("React").jsx(b("PagesManagerMessagingSavedRepliesList.react"),{automatedCheckoutID:this.props.automatedCheckoutID,filter:this.state.searchQuery,isLoading:this.props.isLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onAutomatedSequenceSelected:this.$11,onCreateNewReply:this.props.onCreateNewReply,onDeleteClick:this.$10,onEditClick:this.$6,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};d.$14=function(){if(this.props.isLoading||this.props.replies.length===0&&this.props.isSavedReplyNewUI)return null;var a="inputField";return b("React").jsxs(b("Layout.react"),{className:"_2ph_ _ht5",children:[b("React").jsx(j,{children:b("React").jsx(b("Image.react"),{className:"_ht8",src:i("27278")})}),b("React").jsx(k,{children:b("React").jsx(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2,placeholder:h._("Search saved replies"),ref:a,value:this.state.searchQuery})}),b("React").jsx(j,{children:b("React").jsx(b("XUICloseButton.react"),{className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta",onClick:this.$3,size:"small"})})]})};d.render=function(){this.props.upsellSavedRepliesFlyout&&this.$5();switch(this.state.savedResponsesManageViewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return b("React").jsxs("div",{className:"_2gcs",children:[this.$12(),b("React").jsxs(b("LeftFillRightFitLayout.react"),{children:[this.$14(),b("React").jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.state.activeSortingOptionKey,className:"_2gct",onSortingKeyChanged:this.$1})]}),this.$13(),b("React").jsx(b("SavedReplyDeleteReplyConfirmationModal.react"),{isDeleting:this.state.isDeleting,onConfirm:this.$7,onHide:this.$8,shown:this.state.showDeleteModal})]});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return b("React").jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:this.props.isSavedReplyNewUI,onClose:b("emptyFunction"),onEditDone:this.$9,onEnterPersonalizeView:this.$5,pageID:this.props.pageID,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,supportedMacros:this.props.tokens,upsellSpecificData:this.props.upsellSpecificData})}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","Link.react","PagesEventObserver","PagesManagerInboxSavedRepliesUpsellNUXContainer.react","PagesManagerInboxSavedReplyNewUINuxContainer.react","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesAutomatedSequenceDialog.react","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isAutomatedSequenceDialogVisible:!1,isFlyoutVisible:!1,isManageDialogVisible:!1,upsellSavedRepliesFlyout:!1},d.$2=function(){d.setState({isAutomatedSequenceDialogVisible:!1})},d.$3=function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!d.state.isFlyoutVisible}),d.props.onSavedReplyButtonClick(),d.$4()},d.$5=function(){d.props.onFetchReplies(),d.setState({isManageDialogVisible:!1})},d.$6=function(){window.setTimeout(function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!1}),d.setState({isFlyoutVisible:!1})},0)},d.$7=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$8=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$9=function(){d.setState({isAutomatedSequenceDialogVisible:!0})},d.$10=function(a,b,c,e){d.props.onReplySelected(a,b,c,e),d.setState({isFlyoutVisible:!1})},d.$4=function(){d.setState(function(a,b){return{isFlyoutVisible:!a.isFlyoutVisible}})},d.$11=function(){d.setState({isFlyoutVisible:!1,upsellSavedRepliesFlyout:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!this.state.isFlyoutVisible&&a.upsellSpecificData!==this.props.upsellSpecificData&&this.$1()};d.$1=function(){this.setState({isFlyoutVisible:!0,upsellSavedRepliesFlyout:!0})};d.$12=function(){if(this.state.isAutomatedSequenceDialogVisible&&this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return b("React").jsx(b("SavedResponsesAutomatedSequenceDialog.react"),{automatedCheckoutID:this.props.automatedCheckoutID,onHide:this.$2,pageID:this.props.pageID,recipientID:this.props.recipientID,ref:b("SavedResponsesConstants").automatedSequenceDialogRef})};d.$13=function(){var a=this;if(this.state.isFlyoutVisible)return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return a.refs.icon},hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$6,position:Boolean(this.props.isInModal)?"left":"above",ref:b("SavedResponsesConstants").flyoutDialogRef,shown:this.state.isFlyoutVisible,width:this.props.isSavedReplyNewUI?b("SavedResponsesConstants").managementDialogWidth:b("SavedResponsesConstants").flyoutDialogWidth,children:b("React").jsx(b("PagesManagerMessagingSavedRepliesFlyout.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onCreateNewReply:this.$7,onFetchReplies:this.props.onFetchReplies,onManageReplies:this.$8,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.$10,openAutomatedSequenceDialog:this.$9,pageID:this.props.pageID,replies:this.props.replies,resetFlyoutTrigger:this.$11,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,toggleFlyout:this.$4,tokens:this.props.tokens,upsellSavedRepliesFlyout:this.state.upsellSavedRepliesFlyout,upsellSpecificData:this.props.upsellSpecificData})})};d.$14=function(){if(this.state.isManageDialogVisible)return b("React").jsx(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:b("SavedResponsesConstants").managementDialogRef,shown:this.state.isManageDialogVisible,width:b("SavedResponsesConstants").managementDialogWidth,children:b("React").jsx(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$5,otherUserID:this.props.recipientID,pageID:this.props.pageID})})};d.render=function(){var a=this,c=h._("Insert saved reply"),d="icon",e=this.props.isSavedRepliesLoading===!0||this.props.replies.length>2;return b("React").jsxs("div",{children:[b("React").jsx(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.$3,children:b("React").jsx("div",{className:(this.props.matchingShortcut===""?"_ht0":"")+(this.props.matchingShortcut!==""?" _7tab":""),ref:d})}),this.props.isSavedReplyNewUI?b("React").jsx(b("PagesManagerInboxSavedReplyNewUINuxContainer.react"),{contextRef:function(){return a.refs.icon},haveUsedSavedReplies:e}):null,b("React").jsx(b("PagesManagerInboxSavedRepliesUpsellNUXContainer.react"),{contextRef:function(){return a.refs.icon}}),this.$12(),this.$13(),this.$14()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessengerHotLikeGlyphIcon.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_43_3"})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingComposerView.react",["ix","cssVar","cx","fbt","Image.react","JSResource","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","PagesEventObserver","PagesInterfaceSmartCompose.react","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerInboxComposerSendAvailabilityButton.react","PagesManagerInboxProductPickerButton.react","PagesManagerInboxReturnToSendNUX.react","PagesManagerLogger","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerHotLikeGlyphIcon.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","React","SavedResponsesUtils","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","lazyLoadComponent","prop-types","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(){};b("Grid.react").GridItem;var k=b("lazyLoadComponent")(b("JSResource")("CommerceInvoiceAdminButton.react").__setRef("PagesManagerMessagingComposerView.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={isAttachmentsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isSavedRepliesShortcutButtonVisible:!1,isStickerButtonVisible:!0,placeholder:""};d.getContextRef=function(){return d.$2};d.$7=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a)};d.$11=function(){var a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a)};d.$16=function(a){d.setState({placeholder:a})};d.$17=function(){d.setState({placeholder:""})};d.$19=function(){b("PagesMessagingInboxActionLogger").logSavedReplyButtonClicked(d.props.commPlatform,d.props.matchingShortcut)};d.$18=function(a,c,e,f){d.setState({placeholder:""});d.props.onReplySelected(c,e);b("PagesEventObserver").notify("saved_replies_apply_reply",d.props.userID);b("SavedResponsesUtils").notifySavedResponseApplied(a);b("PagesMessagingInboxActionLogger").logApplySavedReply(d.props.commPlatform,d.props.matchingShortcut,f,a.message,(c=a.title)!=null?c:"",e!==null)};d.$1=!1;return d}var d=c.prototype;d.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.props.shouldUseSmartComposeTextInput!==!0&&this.refs.textInput.updateHeight()};d.UNSAFE_componentWillMount=function(){this.$3(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a,this.state)};d.$3=function(a){var b=a.attachments.length,c=a.message.length;c=c<1&&b<1;b=this.props.supportMultiAttachments||b<1;this.setState({isAttachmentsButtonVisible:b,isSavedRepliesButtonVisible:c||a.isSavedReplyNewUI,isStickerButtonVisible:c})};d.$4=function(){return this.props.canAttachFiles};d.$5=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};d.$6=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};d.$8=function(){if(!this.$4())return null;var a=j._("Attach a file");return b("React").jsx("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a),{children:b("React").jsx(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"})}))};d.$9=function(){return!this.props.canAttachFiles?null:b("React").jsx(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};d.$10=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1){var a=this.props.threadID;return b("React").jsx("span",{className:"_1z9h",children:b("React").jsx(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("PagesMessengerHotLikeGlyphIcon.react"):void 0,customColor:this.props.isInboxDetailView?void 0:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a})})}return null};d.$12=function(){var a=this.state.placeholder||(this.props.commPlatform==="WEC"?j._("Type a message..."):j._("Write a reply...")),c="textInput";if(this.props.shouldUseSmartComposeTextInput&&this.props.commPlatform==="MESSENGER")return b("React").jsx("div",{className:"_4dv-",children:b("React").jsx(b("PagesInterfaceSmartCompose.react"),{handleReturn:this.$11,onChange:this.props.onInputSmartComposeChange,threadID:this.props.threadID})});else return b("React").jsx("div",{className:"_4dv-",children:b("React").jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,placeholder:a,ref:c,value:this.props.message})})};d.$13=function(){return b("React").jsx("div",{className:"_6fk",ref:"linkPreview"})};d.$14=function(){return b("React").jsx("div",{className:"_4dw0",children:b("React").jsx(b("Image.react"),{className:"_1cjc",src:this.props.persona&&this.props.persona.profilePicUrl?this.props.persona.profilePicUrl:this.props.participant.image_src})})};d.$15=function(){return!this.$5()||!this.props.recipientID?null:b("React").jsx("span",{className:"_4dw1",children:b("React").jsx(b("PagesManagerMessagingSavedRepliesButton.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$16,onReplyMouseLeave:this.$17,onReplySelected:this.$18,onSavedReplyButtonClick:this.$19,pageID:this.props.userID,recipientID:this.props.recipientID,replies:this.props.savedReplyResponses,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,showTooltip:!0,tokens:this.props.savedReplyTokens,upsellSpecificData:this.props.upsellSpecificData})})};d.$20=function(a){b("PagesMessagingInboxActionLogger").logSendButtonClicked(this.props.commPlatform,this.props.matchingShortcut,this.props.isQuickReplyMode),this.$7(a)};d.$21=function(){var a=this,c=j._("Send"),d=this.props.message.length<1&&this.props.attachments.length<1;return b("React").jsx("div",{className:"_4dw3"+(d?" hidden_elem":""),"data-testid":"inbox_coomposer_send",children:b("React").jsx(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:c,onClick:function(b){return a.$20(b)},use:"confirm"})})};d.$22=function(){if(!this.$6())return null;var a=j._("Post a sticker");return b("React").jsx("span",{className:"_4dw4",children:b("React").jsx(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,children:b("React").jsx("div",{alt:a,className:"_3fhi"})})})};d.$23=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:b("React").jsx("span",{className:"_43nn",children:b("React").jsx(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.getSendAvailabilityButton=function(){return!this.props.canSendAvailability||!this.props.recipientID?null:b("React").jsx("span",{className:"_43nn",children:b("React").jsx(b("PagesManagerInboxComposerSendAvailabilityButton.react"),{pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.$24=function(){return!this.props.shouldShowCommerceInvoiceButton||this.props.commPlatform!=="MESSENGER"||this.props.recipientID==null?null:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx("div",{className:"_3w8o",children:b("React").jsx(k,{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldShowBonusTracker:this.props.shouldShowBonusTracker,shouldShowCommerceInvoiceSimplifiedFlow:this.props.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPaymentOnboarding:this.props.shouldShowPaymentOnboarding,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX,shouldUseKbankOnboarding:this.props.shouldUseKbankOnboarding})})})};d.$25=function(){return b("React").jsx(b("PagesMessengerSuggestedResponseView.react"),{onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline,suggestedResponseHandler:this.props.suggestedResponseHandler})};d.render=function(){__p&&__p();var a=this;if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return b("React").jsx("div",{className:"__1d"});else if(this.props.isBlocked){var c;new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("composer_blocked_with_warning").log();return(c=b("React")).jsxs("div",{className:"_50wh",children:[j._("Your Page is no longer able to send messages to this person."),c.jsx(b("Tooltip.react"),{tooltip:j._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk, or if they have chosen not to receive messages."),children:c.jsx("a",{href:"https://www.facebook.com/help/307375982614147",children:c.jsx(b("Image.react"),{src:g("126341"),style:{verticalAlign:"-2px"}})})})]})}return b("React").jsxs("div",{className:"__1d","data-testid":"inbox_composer",children:[b("React").jsx(b("MercuryDragDropPrompt.react"),{}),b("React").jsxs("div",{className:"_4dw9",children:[this.$14(),this.$12(),b("React").jsxs("div",{className:"_3-8o _4dwa",children:[b("React").jsx(l,{classProps:this.props}),this.$24(),this.$8(),this.$22(),this.$15(),this.$23(),this.getSendAvailabilityButton(),b("React").jsx("span",{ref:function(b){a.$2=b},children:this.$10()}),this.$21(),b("React").jsx(b("PagesManagerInboxReturnToSendNUX.react"),{contextRef:this.getContextRef})]})]}),b("React").jsxs("div",{className:"_6fl",children:[this.$25(),this.$13()]}),this.$9()]})};return c}(b("React").PureComponent);c.propTypes={attachments:(d=b("prop-types")).array,canAttachFiles:d.bool,canCreateAppointment:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,isQuickReplyMode:d.bool,isSavedRepliesLoading:d.bool,isSendBlocked:d.bool,message:d.string.isRequired,onAttachmentDetach:d.func,onFetchReplies:d.func.isRequired,onFileUploaderSubmit:d.func,onFileUploaderMounted:d.func,onFileUploadFinished:d.func,onFocus:d.func,onInitialRender:d.func,onInputChange:d.func,onSend:d.func,onStickerSelected:d.func,onSuggestedResponseAccept:d.func,onSuggestedResponseDecline:d.func,participant:d.object,recipientID:d.string,savedReplies:d.object,shouldShowBonusTracker:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,suggestedResponseHandler:d.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:d.string,userID:d.string};c.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,isSendBlocked:!1,maxLength:null,onAttachmentDetach:a,onFileUploaderMounted:a,onFileUploaderSubmit:a,onFileUploadFinished:a,onInputChange:a,onSend:a,onStickerSelected:a,onSuggestedResponseAccept:a,shouldShowBonusTracker:!1,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldShowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1,shouldUseKbankOnboarding:!1};function l(a){return!a.classProps.shouldShowProductPickerInComposer||a.classProps.commPlatform!=="MESSENGER"||a.classProps.recipientID==null?null:b("React").jsx("span",{className:"_8ii8",children:b("React").jsx(b("PagesManagerInboxProductPickerButton.react"),{pageID:a.classProps.userID,recipientID:a.classProps.recipientID})})}e.exports=c}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","ActorURI","AsyncRequest","DragDropTarget","FluxContainer","MediaManagerInboxContext.react","MercuryIDs","MercuryLocalIDs","MercuryMessageObject","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PagesCommsInboxTypedLogger","PagesEventObserver","PagesManagerDisableComposerView.react","PagesManagerInboxComposerStateReasonType","PagesManagerInboxLogger","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerDispatcher","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMarketingAutomationUtils","PagesMessagingConfig","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SubscriptionsHandler","TypingDetectorController","XPagesMessagingBlockController","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1,e=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),automatedCheckoutID:b("PagesManagerMessagingComposerStore").getAutomatedCheckoutId(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedReplyResponsesLoading:a?a.isSavedReplyResponsesLoading:!1,isSavedReplyTokensLoading:a?a.isSavedReplyTokensLoading:!1,isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplyTokens:b("PagesManagerMessagingComposerStore").getSavedReplyTokens(),savedReplyResponses:b("PagesManagerMessagingComposerStore").getSavedReplyResponses(),matchingShortcut:b("PagesManagerMessagingComposerStore").getMatchingShortcut(),supportMultiAttachments:c.commPlatform!=="WEC",uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:e,composerStateReason:b("PagesManagerMessagingComposerStore").getComposerStateReason()}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=!1;d.$9=function(a){d.$3&&d.$3.destroy(),d.$3=null,d.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(d.$3=new(b("TypingDetectorController"))(d.props.thread,b("MercuryIDs").getUserIDFromThreadID(d.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(d.props.userID).getServerIDFromClientIDNow(d.props.threadID),function(){return d.state.message},d.props.userID))};d.__onSendMessageHandleException=function(a){try{d.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_exception").setExceptionMessage(a.message).setStack(a.stack).log()}};b("PagesManagerMessagingComposerDispatcher").explicitlyRegisterStores([b("PagesManagerMessagingComposerStore")]);return d}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$4(this.props.userID),this.$5=!0,this.__fetchSavedReplyTokens(),this.__fetchSavedReplies()};d.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&(this.__fetchSavedReplyTokens(),this.isRecipientBlocked(this.props.recipientID))};d.UNSAFE_componentWillReceiveProps=function(a){this.$6(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$4(a.userID)};d.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message)&&this.props.onMessageOrAttachmentUpdate()};d.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$3&&this.$3.destroy(),this.$5=!1};d.UNSAFE_componentWillMount=function(){this.$6(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};d.$7=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};d.$8=function(){__p&&__p();var a=this,c=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(c.subscribe("link-detected",function(){if(!a.$5)return;a.setState({isShareLinkUploading:!0});a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}),c.subscribe("share-loaded",function(){if(!a.$5)return;a.setState({isShareLinkUploading:!1})}),c.subscribe("closed",function(){if(!a.$5)return;a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(a){return c.loadShare(a)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(c)};d.__fetchSavedReplyTokens=function(){var a=this;if(this.state.isSavedReplyTokensLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyTokensLoading:!0});b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.userID,this.props.recipientID,null,"MESSENGER",function(c){a.$5&&a.setState({isSavedReplyTokensLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyTokens(c)})};d.__fetchSavedReplies=function(){var a=this;if(this.state.isSavedReplyResponsesLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyResponsesLoading:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.userID,function(c){a.$5&&a.setState({isSavedReplyResponsesLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyResponses(c)});b("SavedResponsesUtils").fetchCheckoutForSavedResponse(this.props.userID,function(a){b("PagesManagerMessagingComposerActions").setAutomatedCheckoutId(a),b("PagesMarketingAutomationUtils").fetchAndStoreAutomatedCheckoutData(a)})};d.$6=function(a){a=a.userID;a||g(0,3793);this.$2=b("MercuryMessageObject").getForFBID(a)};d.$4=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};d.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1?!0:!1};d.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;if(!this.$5)return;this.setState({isBlocked:a});return}.bind(this)).send()};d.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};d.__onFileUploaderMounted=function(a){this.$7(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$10.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};d.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};d.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onFileUploadFinished=function(a){a==="all-uploads-completed"&&b("PagesManagerMessagingComposerActions").completeAllAttachments()};d.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};d.__onInputValueChangeSmartCompose=function(a){b("PagesManagerMessagingComposerActions").setMessage(a)};d.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onSendMessage=function(a){__p&&__p();var c=this.state.message;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",this.props.userID,this.state.isQuickReplyMode);this.context&&this.context.logSendMessageToTargetUser!==b("emptyFunction")&&this.context.logSendMessageToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.selectedFolder);var d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=this.$2.constructUserGeneratedMessageObject(c,"source:page_unified_inbox",this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j)return;j&&(k.has_attachment=!0,k.shareable_attachment=j);d.length>0&&(k.has_attachment=!0,k.raw_attachments=d);e.length>0&&(k.image_ids=e,k.has_attachment=!0);f.length>0&&(k.gif_ids=f,k.has_attachment=!0);g.length>0&&(k.video_ids=g,k.has_attachment=!0);h.length>0&&(k.audio_ids=h,k.has_attachment=!0);i.length>0&&(k.file_ids=i,k.has_attachment=!0);b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.userID,event_name:"messages_dialog_send",thread_id:this.props.threadElementID},null);k.offline_threading_id=b("MercuryLocalIDs").generateOfflineThreadingID(k.timestamp);this.props.messageActions.send(k);if(k.thread_id&&k.thread_id.split(":")&&k.thread_id.split(":").length===2){c=k.thread_id.split(":")[1];new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(c).setMessageID(k.offline_threading_id).setEvent("tapped_send").setClientTime(k.timestamp).setMessagingPlatform("messenger").setPageID(this.props.userID).log()}b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$3&&this.$3.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("messages_send_message_js_end").setPerfTime(Date.now()-a).log()};d.__onStickerSelected=function(a){this.context&&this.context.logSendStickerToTargetUser!==b("emptyFunction")&&this.context.logSendStickerToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,a,this.props.selectedFolder);var c=this.$2.constructUserGeneratedMessageObject("","source:titan:web",this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("PagesManagerMessagingComposerActions").clearMessage()};d.$10=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};d.render=function(){__p&&__p();var a=this;if(this.props.commPlatform==="WEC")if(this.state.composerStateReason!==null)return this.state.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP?b("React").jsx(b("PagesManagerDisableComposerView.react"),{composerStateReason:this.state.composerStateReason}):b("React").jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$8()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$9,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}));else return null;return this.props.commPlatform==="INSTAGRAM_DIRECT"?null:b("React").jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSavedReplyNewUI:this.props.isSavedReplyNewUI,isSendBlocked:this.isSendBlocked(),matchingShortcut:this.state.matchingShortcut,onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onInitialRender:function(){return a.$8()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$9,onInputSmartComposeChange:this.__onInputValueChangeSmartCompose,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer",threadID:this.props.threadID}))};return c}(b("React").Component);c.contextType=a;c.propTypes={accessToken:(d=b("prop-types")).string,canAttachFiles:d.bool,canCreateAppointment:d.bool,canSendAvailability:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,creatorInfo:d.object,maxLength:d.number,onInitialRender:d.func,onMessageOrAttachmentUpdate:d.func,shouldShowBonusTracker:d.bool,shouldShowCommerceInvoiceButton:d.bool,shouldShowCommerceInvoiceButtonPUX:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowProductPickerInComposer:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,shouldShowCommerceInvoiceSimplifiedFlow:d.bool,shouldUseSmartComposeTextInput:d.bool,shouldUseKbankOnboarding:d.bool,thread:d.object,threadElementID:d.string,threadID:d.string,userID:d.string};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:!0},type:{type:"String",required:!0}})}),null);
__d("XMNCommercePromotionStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:!0},ad_client_token:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:!0},selected_option_type:{type:"String",required:!0},event_type:{type:"String",required:!0}})}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ClientIDs").getNewClientID,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql");a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.logCustomAppEvent=function(a,c,d){var e=this;c===void 0&&(c=null);d===void 0&&(d=null);var f=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,g){i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:e.$1,client_mutation_id:h(),value_to_sum:c,params:f}},onCompleted:d,onError:g})})};return a}();e.exports=a}),null);
__d("GamesQuicksilverContextKey",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a.id,this.$2=a.size,this.$3=a.sourceID,this.$4=a.type}var b=a.prototype;b.getID=function(){return this.$1};b.getSize=function(){return this.$2};b.getSourceID=function(){return this.$3};b.getType=function(){return this.$4};b.getTypeAPIValue=function(){switch(this.getType()){case"STORY":return"post";default:return this.getType().toLowerCase()}};b.getSDKContextInfo=function(){return{contextID:this.$1,contextSize:this.$2,contextType:this.getTypeAPIValue()}};b.isGroup=function(){return this.$4==="GROUP"||this.$4==="LINK"};b.isStory=function(){return this.$4==="STORY"};b.isThread=function(){return this.$4==="THREAD"};b.isSoloPlay=function(){return this.$4==="SOLO"};return a}();e.exports=a}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("MessengerWaveEntrypoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIVEBAR:"divebar",THREAD_VIEW:"thread_view",NEW_FRIEND_BUMP:"new_friend_bump",GROUP_NULL_STATE:"group_null_state",CANONICAL_NULL_STATE:"canonical_null_state",PROFILE:"profile"})}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_CHANGE_CURRENCY:"page_click_change_currency",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_SEND_CONFIRM_RECEIPT:"page_send_confirm_receipt",PAGE_SEND_CONFIRM_TRANSACTION:"page_send_confirm_transaction",PAGE_CLICK_CONFIRM_RECEIPT:"page_click_confirm_receipt",PAGE_CLICK_CONFIRM_TRANSACTION:"page_click_confirm_transaction",PAGE_SHOW_CONFIRM_RECEIPT:"page_show_confirm_receipt",PAGE_SHOW_CONFIRM_TRANSACTION:"page_show_confirm_transaction",PAGE_CLICK_MARK_AS_PAID_NUX:"page_click_mark_as_paid_nux",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_INSIGHTS_VIEW_ORDER_SECTION:"page_insights_view_order_section",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation",AUTOMATED_FLOW_COMPLETE:"automated_flow_complete",AUTOMATED_FLOW_CANCELLED:"automated_flow_cancelled",NOTIFICATION_MESSAGE_READ:"notification_message_read",NOTIFICATION_MESSAGE_CLICKED:"notfication_message_clicked",PAGE_MARK_AS_PAID_CHANGE_AMOUNT:"page_mark_as_paid_change_amount",PAGE_MARK_AS_PAID_CHNAGE_NOTE:"page_mark_as_paid_change_note",CONVERSION_QUICK_PROMOTION_IMPRESSION:"ads_conversions_qp_impression",CONVERSION_QUICK_PROMOTION_CLICK:"ads_conversions_quick_promotion_click",CONVERSION_QUICK_PROMOTION_TRIGGERED:"ads_conversions_quick_promotion_triggered",BUYER_INFORMATION_SETUP_IMPRESSION:"buyer_information_setup_impression",BUYER_INFORMATION_SETUP_CREATION:"buyer_information_setup_creation",BUYER_INFORMATION_TRIGGER_IMPRESSION:"buyer_information_trigger_impression",BUYER_INFORMATION_TRIGGER_CLICK:"buyer_information_trigger_click",BUYER_INFORMATION_SEQUENCE_FINISH:"buyer_information_sequence_finish",BUYER_INFORMATION_NUX_IMPRESSION:"buyer_information_nux_impression",BUYER_INFORMATION_NUX_CLICK:"buyer_information_nux_click",INBOX_ACTIVITY_MUTATION_FAILURE:"inbox_activity_mutation_failure",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITHOUT_DETAILS:"page_ad_interaction_payment_received_without_details",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS:"page_ad_interaction_payment_received_with_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITHOUT_DETAILS:"page_ad_interaction_appointment_booked_without_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS:"page_ad_interaction_appointment_booked_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITHOUT_DETAILS:"page_ad_interaction_order_placed_without_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS:"page_ad_interaction_order_placed_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR:"page_ad_interaction_order_placed_with_details_error",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITHOUT_DETAILS:"page_ad_interaction_order_shipped_without_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS:"page_ad_interaction_order_shipped_with_details",PAGE_CLICK_ADD_ACTIVITY:"page_click_add_activity",PAGE_CLICK_ADD_ACTIVITY_NUX:"page_click_add_activity_nux",PAGE_CLICK_APPOINTMENT_BOOKED_CTA:"page_click_appointment_booked_cta",PAGE_CLICK_PAYMENT_RECEIVED_CTA:"page_click_payment_received_cta",ORDER_DETAILS_CREATE_ORDER:"order_details_create_order",ORDER_DETAILS_CREATE_ORDER_ERROR:"order_details_create_order_error",ORDER_DETAILS_CREATE_PRODUCT:"order_details_create_product",ORDER_DETAILS_SELECT_PRODUCT:"order_details_select_product",ORDER_DETAILS_DISCOUNT:"order_details_discount",ORDER_DETAILS_SHIPPING_COST:"order_details_shipping_cost",APPOINTMENT_OPT_OUT_MESSAGE_SENT:"appointment_opt_out_message_sent",PAGE_ADMIN_OPTED_OUT_REQUEST_APPOINTMENT:"page_admin_opted_out_request_appointment"})}),null);
__d("ServicesShipOrderDialog.react",["cx","fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSSpinner.react","FDSText.react","FDSTextInput.react","OrderManagementMutationsUtil","PagesInboxThreadActionSystemDispatcher","React","RelayFBEnvironment","RelayModern","ServicesShipOrderDialogItem.react","SUIBusinessThemeContainer.react","cxMargin","emptyFunction","ServicesShipOrderDialogOrderListQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=344,l=i!==void 0?i:i=b("ServicesShipOrderDialogOrderListQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={itemSelected:!1,invoiceID:null,shippingProvider:"",trackingNumber:""},d.$1=function(a){d.setState({trackingNumber:a})},d.$2=function(a){d.setState({shippingProvider:a})},d.$3=function(a){d.setState({itemSelected:!0,invoiceID:a})},d.$5=function(){if(!d.state.itemSelected||d.state.invoiceID==null)return;b("OrderManagementMutationsUtil").triggerMarkAsShippedMutation(d.state.invoiceID,d.props.pageID,d.state.shippingProvider,d.state.trackingNumber,b("emptyFunction"),d.$4,d.props.interactionID);d.props.onHide()},d.$6=function(a){__p&&__p();var c=a.error;a=a.props;if(c)return h._("Sorry! Something went wrong!");if(!a)return b("React").jsx(b("FDSSpinner.react"),{center:!0});var e=a.page.payment_invoices.edges;return e.length===0?h._("There are no orders to ship."):e.map(function(a,c){var f="_8bfa";c===0&&(f="_8bmv");c===e.length-1&&(f="_8bmw");return b("React").jsx("div",{className:f,children:b("React").jsx(b("ServicesShipOrderDialogItem.react"),{invoiceID:a.node.id,onSelectClick:d.$3,paymentAmount:a.node.total_amount.amount,paymentCurrency:a.node.total_amount.currency,unixTimestamp:a.node.updated_time})})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.render=function(){var a=this.state.itemSelected?b("React").jsxs(b("SUIBusinessThemeContainer.react"),{children:[b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",size:"body3",weight:"bold",children:h._("Shipping Provider (optional)")}),b("React").jsx("div",{className:"_3-8n",children:b("React").jsx(b("FDSTextInput.react"),{label:h._("Shipping Provider"),labelIsHidden:!0,onChange:this.$2,value:this.state.shippingProvider})}),b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-8z",size:"body3",weight:"bold",children:h._("Tracking Number (optional)")}),b("React").jsx("div",{className:"_3-8n",children:b("React").jsx(b("FDSTextInput.react"),{label:h._("Tracking Number"),labelIsHidden:!0,onChange:this.$1,value:this.state.trackingNumber})})]}),b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-8p",size:"body1",children:h._("A notification will be sent to your customer letting them know that their order has shipped. Their order details will be updated with this tracking number.")})]}):b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:l,render:this.$6,variables:{pageID:this.props.pageID,userID:this.props.userID}});return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.itemSelected,label:h._("Mark As Shipped"),onClick:this.$5,use:"primary"}),secondaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.props.onHide,use:"default"})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:h._("Select Order")}),height:k,isShown:this.props.shown,label:"Modal Title",onHide:this.props.onHide,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx("div",{className:"_8bfb",children:a})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.detectionType==="tracking_number"?"xmat_tracking_number":"xmat";b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment",a);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_RECEIPT).setPageID(d.props.pageID).setConsumerID(d.props.userID).setClassifier(d.props.detectionType).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.isPageMessage&&new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_RECEIPT).setPageID(this.props.pageID).setConsumerID(this.props.userID).setClassifier(this.props.detectionType).log()};d.render=function(){if(!this.props.isPageMessage)return null;var a=this.props.detectionType==="tracking_number"?g._("Mark as Paid"):g._("Confirm receipt");return b("React").jsxs("div",{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$1,children:a})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2016667251691695"};b.getQueryID=function(){return"391244851334288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showError:!1},d.showDialog=function(){d.setState({showDialog:!0})},d.onHide=function(){d.setState({showDialog:!1}),d.setState({showError:!1})},d.onConfirm=function(){d.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:d.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:d.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=((a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a)||!1;a||(d.setState({showDialog:!0}),d.setState({showError:!0}))},function(a){d.setState({showDialog:!0}),d.setState({showError:!0})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Opt Out");return b("React").jsxs("div",{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.showDialog,children:g._("you can opt out now.")}),this.state.showError?this.renderError():b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Are you sure?")}),b("React").jsx(b("XUIDialogBody.react"),{children:g._("You will no longer receive appointment request messages.")}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm})})]})]})};d.renderError=function(){return b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Error")}),b("React").jsx(b("XUIDialogBody.react"),{children:g._("Something went wrong. Please try again later.")})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} has an appointment {product-name} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} has an appointment tomorrow at {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("You have an appointment at {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("You have an appointment tomorrow at {start-time}",[g._param("start-time",d)]);else return g._("You have an appointment on {start-date} at {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({label:"",key:"",selected:!1}));e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,MAKE_SELECTION:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,z=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,A=a.BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;var B=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}((d=b("immutable")).Record({address:"",autoMakeSearchQuery:null,canVisitMyBusiness:!1,customServices:d.List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",category:null,predefinedBookableTasks:d.List(),predefinedAutoMake:d.List(),radius:c,referrer:"",selectedServices:d.Set(),selectedAutoMake:d.Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,shouldShowAutoMakeQuestion:!1,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:0}));f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new B()};d.reduce=function(a,c){__p&&__p();switch(c.type){case m:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("category",c.payload.category).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("predefinedAutoMake",c.payload.predefinedAutoMake).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===0?b("immutable").Set():b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("selectedAutoMake",c.payload.selectedAutoMake).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("shouldShowAutoMakeQuestion",c.payload.shouldShowAutoMakeQuestion).set("surveyStatus",c.payload.surveyStatus);case n:return a.set("noPermissions",!0);case r:return a.set("selectedServices",b("immutable").Set()).set("customServices",a.customServices.map(function(a){return a.set("selected",!1)}));case s:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case o:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case v:e=c.payload.radius;return a.set("radius",e);case A:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case y:d=c.payload.selectedMake;return a.set("selectedAutoMake",a.selectedAutoMake.has(d)?a.selectedAutoMake["delete"](d):a.selectedAutoMake.add(d));case z:e=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(e)?a.selectedServices["delete"](e):a.selectedServices.add(e));case x:var B=c.payload.selectedCustomService;f=a.customServices.findIndex(function(a){return a.key===B});d=f>=0?a.customServices.get(f):null;return d?a.set("customServices",a.customServices.set(f,d.set("selected",!d.selected))):a;case g:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case h:return a.set("hasServiceArea",!a.hasServiceArea);case l:return a.set("selectedAutoMake",b("immutable").Set([]));case q:return a.set("selectedAutoMake",b("immutable").Set(a.predefinedAutoMake.map(function(a){return a.id})));case w:e=c.payload.selectedArea;var C=e.getUniqueID();f=a.selectedAreas.find(function(a){return a.getUniqueID()===C});d=a.set("selectedAreas",f?a.selectedAreas["delete"](f):a.selectedAreas.add(e));return d;case k:f=c.payload.text;return a.set("customServiceItem",f);case i:return a.set("customServiceItem","");case j:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case u:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case t:return a.set("autoMakeSearchQuery",c.payload.query);case p:return this.getInitialState();default:return a}};d.getPageID=function(){return this.getState().pageID};d.getCategory=function(){return this.getState().category};d.getReferrer=function(){return this.getState().referrer};d.getSessionID=function(){return this.getState().sessionID};d.getStep=function(){return this.getState().step};d.getSelectedAutoMake=function(){return this.getState().selectedAutoMake};d.shouldShowAutoMakeQuestion=function(){return this.getState().shouldShowAutoMakeQuestion};d.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};d.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};d.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};d.getAutoMakeList=function(){__p&&__p();var a=this.getState(),c=a.autoMakeSearchQuery;a=a.predefinedAutoMake;if(c==null||c.length===0)return a;var d=[];a.forEach(function(a){__p&&__p();if(a.consumer_name==null)return;var b=a.consumer_name.split(/[ -]/);for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.toLowerCase().startsWith(c.toLowerCase())){d.push(a);return}}});return b("immutable").List(d)};d.getProgressBarPercentage=function(){__p&&__p();var a=0;switch(this.getState().step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=33;break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=67;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=0;break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:a=100;break;case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:a=0}return a};d.hasSelectedAllMakes=function(){var a=this.getState();return a.predefinedAutoMake.every(function(b){return a.selectedAutoMake.has(b.id)})};return c}(b("FluxReduceStore"));f.__moduleID=e.id;e.exports=new f(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){var c;new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView((c=b("ServicesBookableServicesSurveyStore")).getStep().toString()).setEvent(a).setPageID(c.getPageID()).setServicesCategory(c.getCategory()).setReferrer(c.getReferrer()).setSessionID(c.getSessionID()).log()}};e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1903587599704424"};b.getQueryID=function(){return"276587612933392"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1706923136039787"};b.getQueryID=function(){return"224836864728650"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesBookableServicesSurveyActions",["CurrentUser","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,z=a.BOOKABLE_SERVICES_SURVEY_SET_STEP,A={initialLoad:function(a,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t){b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,category:f,predefinedBookableTasks:g,predefinedAutoMake:h,radius:i,referrer:j,selectedBookableTasks:k,selectedAutoMake:l,serviceAreaCenter:n,serviceAreaCenterCoordinates:o,serviceAreaCenterID:p,sessionID:q,shouldShowCustomServicesEntry:r,shouldShowAutoMakeQuestion:s,surveyStatus:t}})},loadDataAndInitialize:function(a,c,d,e){__p&&__p();b("ServicesCTAUnificationDispatcher").dispatch({type:u}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){__p&&__p();var g,h,i,j,k,l,m,o,p,q,r;r=(r=f)!=null?(r=r.page)!=null?(r=r.services_vertical_info)!=null?r.service_category:r:r:r;q=((q=f)!=null?(q=q.page)!=null?q.viewer_profile_permissions:q:q)||[];if(!q.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:n});b("ServicesCTAUnificationDispatcher").dispatch({type:u});return}q=((q=f)!=null?(q=q.page)!=null?(q=q.address)!=null?q.single_line_full_address:q:q:q)||"";p=(p=f)!=null?(p=p.page)!=null?(p=p.business_details)!=null?p.bookable_services_survey_status:p:p:p;p=p?b("ServicesBookableServicesSurveyStatus")[p]:0;o=((o=f)!=null?(o=o.page)!=null?(o=o.business_details)!=null?o.customers_can_visit_business:o:o:o)||!1;m=(m=f)!=null?(m=m.page)!=null?(m=m.services_vertical_info)!=null?m.predefined_bookable_tasks:m:m:m;var s=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};m=m?m.map(s):[];l=(l=f)!=null?(l=l.page)!=null?(l=l.services_vertical_info)!=null?l.predefined_auto_make:l:l:l;l=l?l.map(function(a){var b;return{id:(b=a)!=null?b.id:b,consumer_name:(b=a)!=null?b.make_display_name:b}}):[];k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?(k=k.bookable_tasks)!=null?k.nodes:k:k:k:k)||[];var t=[],v=[];k.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?t.push(a.manual_name):v.push(s(b))});var w=[];k=(k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.auto_make:k:k:k;k&&k.forEach(function(a){a.id&&w.push(a.id)});k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.service_area_radius:k:k:k)||0;j=(j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.service_area_center)!=null?j.name:j:j:j:j;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.id:i:i:i:i;j=j&&i?new(b("SearchableEntry"))({uniqueID:i,title:j}):null;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.page_map_location:h:h:h:h;g=(g=f)!=null?(g=g.page)!=null?(g=g.services_vertical_info)!=null?g.should_show_survey_custom_services_entry:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_ask_supported_automobile_makes:f:f:f;A.initialLoad(q,o,b("immutable").List(t),a,r,b("immutable").List(m),b("immutable").List(l),k,c,b("immutable").List(v),b("immutable").Set(w),j,h,i||"",d,g!=null?g:!1,f!=null?f:!1,p);b("ServicesCTAUnificationDispatcher").dispatch({type:u});e()})},nextStep:function(){__p&&__p();b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:y,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{selectedCustomService:a}})},selectMake:function(a){b("ServicesBookableServicesSurveyStore").getSelectedAutoMake().contains(a)?b("ServicesBookableServicesSurveyLogger").log("deselect_make"):b("ServicesBookableServicesSurveyLogger").log("select_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:x,payload:{selectedMake:a}}),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:""}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:o})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},selectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("select_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:q})},deselectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("deselect_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:l})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:p})},selectNoneOfTheAboveServices:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:r}),A.submitSurvey(b("CurrentUser").getID())},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{radius:a}})},setAutoMakeSearchQuery:function(a){b("ServicesBookableServicesSurveyLogger").log("search_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:a}})},submitSurvey:function(a){__p&&__p();var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.selectedAutoMake,l=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:u});var m=[];for(var j=j.toArray(),n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p!=="%future added value"&&m.push(p)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:m,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),kbb_makes:k.toArray(),customers_can_visit_business:d,service_area_center_id:f&&l?l:null,service_area_radius:f&&l?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:u});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:c,mutationSuccess:a}})})}};e.exports=A}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","FDSText.react","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_2piq _2owm _52jv",children:[a.jsx(b("Image.react"),{src:i("649009")}),a.jsx(b("FDSText.react"),{display:"block",margin:"_4aws",size:"header3",textAlign:"center",weight:"bold",children:h._("Connect to the right customers near you.")}),a.jsx(b("FDSText.react"),{display:"block",margin:"_6bu9 _3-8y",size:"body1",textAlign:"center",children:h._("Answer a few simple questions about your business so people who need your services can find you.")}),a.jsx(b("XUIButton.react"),{className:"_4aws",label:h._("Get Started"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}),a.jsxs("div",{className:"_3-8x _6pu2",children:[a.jsx(b("Image.react"),{className:"_3-8_",src:i("501429")}),a.jsx(b("FDSText.react"),{color:"secondary",size:"body2",textAlign:"center",children:h._("The information you provide won't be shown on your Page.")})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("BookableServicesSurveyMakeSelectionContainer.react",["ix","cx","fbt","FDSLink.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUICheckboxInput.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){a=b("ServicesBookableServicesSurveyStore").getState();return{predefinedAutoMake:b("ServicesBookableServicesSurveyStore").getAutoMakeList(),autoMakeSearchQuery:a.autoMakeSearchQuery,selectedAutoMake:a.selectedAutoMake}};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(null)};d.setAutoMakeSearchQuery=function(a){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(a.target.value)};d.toggleSelectAllMake=function(){b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?b("ServicesBookableServicesSurveyActions").deselectAllMake():b("ServicesBookableServicesSurveyActions").selectAllMake()};d.render=function(){var a=this,c;return(c=b("React")).jsxs("div",{children:[c.jsx(b("FDSText.react"),{display:"block",margin:"_3-8y",size:"header2",children:i._("What makes do you service?")}),c.jsx(b("XUITextInput.react"),{className:"_2-ox _6nvx",height:"tall",onChange:this.setAutoMakeSearchQuery,placeholder:i._("Search for make"),rightChild:c.jsx(b("Image.react"),{className:"_6nvy",src:g("530630")}),value:this.state.autoMakeSearchQuery}),!this.state.autoMakeSearchQuery&&b("React").jsx("div",{className:"_3-96 _52jw",children:b("React").jsx(b("FDSLink.react"),{onClick:this.toggleSelectAllMake,children:b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?i._("Select None"):i._("Select All")})}),b("React").jsx("div",{className:"_20nr _2pll",maxHeight:500,children:this.state.predefinedAutoMake.map(function(c,d){return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:a.state.selectedAutoMake.has(c.id),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},readOnly:!0}),b("React").jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.editOtherService=function(){d.setState({isEditingOther:!0})},d.saveOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},d.stopEditingOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};d.render=function(){__p&&__p();var a=this,c=this.state.predefinedBookableTasks.map(function(c,d){if(!c.task)return null;var e=a.state.selectedServices.has(c.task);return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},value:e}),b("React").jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)}),d=this.state.customServices.map(function(a,c){return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},value:a.selected}),b("React").jsx(b("FDSText.react"),{size:"body2",children:a.label})]},c)}),e=this.state.isEditingOther?b("React").jsxs("div",{className:"_2pi3 _2o1n _2plg",children:[b("React").jsx(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),b("React").jsxs("div",{className:"_3-8y _2plk",children:[b("React").jsx(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Add"),size:"large",onClick:this.saveOtherService,use:"confirm"}),b("React").jsx(b("XUIButton.react"),{className:"_3-91",label:i._("Cancel"),onClick:this.stopEditingOtherService})]})]}):b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:this.editOtherService,children:[b("React").jsx(b("Image.react"),{className:"_6pu1",src:g("489390")}),b("React").jsx(b("FDSText.react"),{color:"highlight",size:"body2",children:i._("Add Service")})]});return b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{margin:"_20nr _3-8y",size:"header2",children:i._("Which services do you provide?")}),b("React").jsxs("div",{className:"_20nr _2pll",fade:!0,maxHeight:500,children:[c,d,this.state.shouldShowCustomServicesEntry&&e]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_2o1k"+(this.props.hideBorder!==!0?" _2ctu":""),children:[b("React").jsxs(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick,children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),b("React").jsx(b("XUIText.react"),{display:"inline",size:"body1",children:this.props.title})]}),this.props.children]})};return c}(b("React").Component);e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadSearchSourceConfig","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap__DEPRECATED.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("DistanceConstants").METERS_PER_MILE,j=b("XUISingleSelector.react").Option,k=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});a=3;var l=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,"facebook","street_place_typeahead","string_match","interleave",a,"services_lead_gen_survey",["USA"],["postal_code"]));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&d.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)},d.onViewChange=function(a){d.setState({view:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):k}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};var d=c.prototype;d.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};d.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};d.renderMap=function(){return this.state.view==null?null:b("React").jsx(b("FBTilesMap__DEPRECATED.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,surface:"lead_gen",view:this.state.view,children:this.state.serviceAreaCenterCoordinates?b("React").jsx(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*i}):null})};d.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return b("React").jsx(j,{value:a,children:b("React").jsx("span",{children:h._({"*":"Within {number} miles","_1":"Within 1 mile"},[h._plural(a,"number")])})},a)})};d.render=function(){return b("React").jsxs("div",{children:[this.renderMap(),b("React").jsxs("div",{className:"_2pib _2pie",children:[this.state.address?b("React").jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Customers can visit this business"),children:b("React").jsx(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3",children:this.state.address})}):null,b("React").jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{hideBorder:!0,isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("This business provides services in a surrounding area"),children:this.state.hasServiceArea?b("React").jsxs("div",{className:"_3-8y _spy",children:[b("React").jsx(b("XUIText.react"),{size:"body3",weight:"bold",children:h._("ZIP code")}),b("React").jsx(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("e.g. 12345"),searchSource:l,selectOnBlur:!0}),b("React").jsx(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"large",children:this.renderSelectorOptions()})]}):null})]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(c)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["ix","cx","fbt","BookableServicesSurveyGetStartedView.react","BookableServicesSurveyMakeSelectionContainer.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","BUIProgressBar.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","asset","cxMargin","immutable","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.showOptOutDialog=function(){c.setState({isOptOutDialogShown:!0})},c.hideOptOutDialog=function(){c.setState({isOptOutDialogShown:!1})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),e=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:d,hasServiceAreaDefined:e,isOptOutDialogShown:a?a.isOptOutDialogShown:!1,mutationSuccess:c.mutationSuccess,noPermissions:c.noPermissions,progressBarPercentage:b("ServicesBookableServicesSurveyStore").getProgressBarPercentage(),selectedAutoMake:c.selectedAutoMake,showLoadingIndicator:c.showLoadingIndicator,step:c.step}};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};d.renderBody=function(){__p&&__p();if(this.state.showLoadingIndicator)return b("React").jsx(b("XUIDialogBody.react"),{className:"_52jv",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})});else if(this.state.noPermissions)return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("You don't have permission to edit this page.")})});switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("We're sorry, there were problems with saving your survey. Please try again later.")})}):b("React").jsxs(b("XUIDialogBody.react"),{className:"_52jv _6qyw",children:[b("React").jsx("div",{className:"_6i-n",children:b("React").jsx("div",{className:"_3-96 _2pi0 _6hoq",children:b("React").jsx(b("Image.react"),{src:g("505220")})})}),b("React").jsx(b("FDSText.react"),{size:"body1",children:i._("Thanks for telling us more about your business.")})]});case b("ServicesBookableServicesSurveySteps").GET_STARTED:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveyGetStartedView.react"),{})});case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveyMakeSelectionContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").jsx(b("XUIDialogBody.react"),{className:"_1kto",children:b("React").jsx(b("BookableServicesSurveyServiceAreaContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveySelectionContainer.react"),{})});default:return null}};d.renderTitle=function(){return this.props.hideTitle?null:b("React").jsx(b("XUIDialogTitle.react"),{className:"_2pi5",id:"dialogTitle",children:i._("Quick Survey")})};d.renderFooter=function(){if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[b("React").jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").jsx(b("XUIDialogButton.react"),{disabled:this.state.selectedAutoMake.isEmpty(),label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[b("React").jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:i._("Done"),size:"large",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").jsx(b("XUIDialogFooter.react"),{fullBleedBorder:!0,leftContent:b("React").jsx(b("FDSLink.react"),{margin:"_3-8w",onClick:this.showOptOutDialog,children:i._("None of the Above")}),children:b("React").jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasAnyServicesSelected,label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})});case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};d.renderOptOutDialog=function(){var a=this,c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:"Turn Off",onClick:function(){a.hideOptOutDialog(),b("ServicesBookableServicesSurveyActions").selectNoneOfTheAboveServices()},use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:i._("Turn Off Quote Requests")}),isShown:this.state.isOptOutDialogShown,onHide:this.hideOptOutDialog,width:400,children:c.jsxs(b("FDSSection.react"),{children:[c.jsx(b("FDSText.react"),{size:"body1",margin:"_3-96",children:i._("Selecting {=None of the Above} will prevent you from receiving quote requests.",[i._param("=None of the Above",c.jsx("b",{children:i._("None of the Above")}))])}),c.jsx(b("FDSText.react"),{size:"body1",children:i._("You can change this in {=Edit Page Info > General > Quote Requests} on your computer.",[i._param("=Edit Page Info > General > Quote Requests",c.jsx("b",{children:i._("Edit Page Info > General > Quote Requests")}))])})]})})};d.renderProgressBar=function(){return b("React").jsx(b("BUIProgressBar.react"),{className:"_2y4-",flexibleWidth:!0,height:"small",padding:!1,percentage:this.state.progressBarPercentage})};d.render=function(){return b("React").jsxs("div",{children:[this.renderOptOutDialog(),this.renderTitle(),this.renderProgressBar(),this.renderBody(),this.renderFooter()]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480,children:b("React").jsx(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer})})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={referrer:null,showDialog:!1},c.toggleDialog=function(a,b){b!=null&&c.setState({referrer:b}),c.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderDialog=function(){return!this.state.showDialog?null:b("React").jsx(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};d.render=function(){var a=this;return this.props.edit?b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{size:"body1",children:[g._("Get better quote requests by")," ",b("React").jsx(b("ShimButton.react"),{form:"link",onClick:function(){a.toggleDialog(!0,"edit")},children:g._("telling us more about the services you offer")})]}),this.renderDialog()]}):b("React").jsxs("div",{children:[b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:this.props.message}),b("React").jsxs("div",{className:"_3-8y",children:[b("React").jsx(b("XUIButton.react"),{label:g._("Yes"),onClick:function(){a.toggleDialog(!0,"yes")},size:"small"}),b("React").jsx(b("XUIButton.react"),{label:g._("No"),onClick:function(){a.toggleDialog(!0,"no")},size:"small"})]}),this.renderDialog()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=b("PECurrency").getCurrencySymbol(c.props.currencyCode);c.state={currencySymbol:d||""};return c}var d=c.prototype;d.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,a),children:[b("React").jsx("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":""),children:this.state.currencySymbol}),b("React").jsx("div",{className:b("joinClasses")(this.props.className,c),children:this.props.amount})]})};return c}(b("React").Component);a.propTypes={amount:(c=b("prop-types")).string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("PageManagerInboxMessageLoadIndicator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c,d=(c=b("React")).jsxs("div",{className:"_1vrr",children:[c.jsx("div",{className:"_31m8"}),c.jsx("div",{className:"_31ma"}),c.jsx("div",{className:"_31mb"}),c.jsx("div",{className:"_31mc"}),c.jsx("div",{className:"_31me"}),c.jsx("div",{className:"_31mf"}),c.jsx("div",{className:"_31mg"}),c.jsx("div",{className:"_31mh"}),c.jsx("div",{className:"_31mi"}),c.jsx("div",{className:"_31mj"}),c.jsx("div",{className:"_31mk"}),c.jsx("div",{className:"_31ml"}),c.jsx("div",{className:"_31mm"}),c.jsx("div",{className:"_31mn"}),c.jsx("div",{className:"_31mo"}),c.jsx("div",{className:"_31mp"}),c.jsx("div",{className:"_31mq"})]}),e=[];for(var f=0;f<a;f++)e.push(b("React").cloneElement(d,{key:"loading"+f}));return c.jsx("div",{className:"_1vrs",children:e})};d.render=function(){var a=Math.floor(this.props.height/130);return b("React").jsx("div",{className:"_31m6",style:{height:this.props.height},children:b("React").jsx("div",{className:"_31m7",style:{height:130*a},children:this.$1(a)})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.re","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDateBreak.re").make;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{vertical:!1,children:b("React").jsx(h,{className:"_1wpi",date:this.props.date})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("MessengerMessageGroup.react"),babelHelpers["extends"]({},this.props))};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerWECMessage.react",["cssVar","cx","fbt","EmojiLikeUtils","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.re","MessengerAttachmentRenderer","MessengerBubble.react","MessengerDecorator","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerVideoAutoplayStore","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerAttachmentAttribution.re").make;function k(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Sending");case b("MercuryMessageDeliveryState").SENT:return i._("Sent");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Delivered");case b("MercuryMessageDeliveryState").ERROR:return i._("This message didn't send. Check your internet connection and click to try again.")}return null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,plainText:!1,shown:{}},c.$9=function(a){c.messageBody=a},c.$12=function(a,b){c.setState(function(c){return c={shown:c.shown},c[a]=b,c})},c.$7=function(){c.props.onSelect(c.props.message.message_id)},b)||babelHelpers.assertThisInitialized(c)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){this.$2()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$2=function(){var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.$3=function(){var a=this.props,c=a.isFromViewer;a=a.showDeliveryState;if(c&&!a)return b("React").jsx("span",{className:"_7qwh",children:b("React").jsx("svg",{height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4FC3F7"})})})};d.$4=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$5=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$6=function(a,c){__p&&__p();if(m(this.props.message))return null;c=[];var d=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$7,onUnwrap:null,pageID:this.props.pageID});if(!d||!d.length)return null;var e=this.$4(d);if(a){var f=d.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});this.$5()&&(d=[b("React").jsxs("span",{children:[d[0],b("React").jsx(j,{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);d=e?b("React").jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses").apply(void 0,["_3zvs"+(f?" _2-x3":"")].concat(c)),children:d})):d.map(function(c){return c&&b("React").cloneElement(c,a)})}e=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);f=b("React").jsx("div",{className:"_3058 _15gf"+(e?" _3duc":""),children:d},"renderedAttachments");return f};d.$8=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;if(d.is_filtered_content)return b("React").jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var g=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return g||!e.isEmpty()?b("React").jsx(b("MessengerBubble.react"),{attachments:e,body:d.body,bodyRef:this.$9,className:"_3058 _ui9"+(d.isSelected?" _3xsz":""),customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isHovered:this.state.shown[d.message_id],isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,isShowingOriginal:this.state.plainText,message:d,metaRanges:d.meta_ranges,onReplyToMessage:this.props.onReplyToMessage,participants:this.props.participants,plainText:this.state.plainText,ranges:f,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,thread:this.props.thread,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,tooltip:a,wecFirstMessage:this.props.wecFirstMessage}):null};d.$10=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c=k(a);return b("React").jsxs("span",{"aria-label":c,className:"_7qwi",title:c,children:[a===b("MercuryMessageDeliveryState").SENDING?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M9.75 7.713H8.244V5.359a.5.5 0 0 0-.5-.5H7.65a.5.5 0 0 0-.5.5v2.947a.5.5 0 0 0 .5.5h.094l.003-.001.003.002h2a.5.5 0 0 0 .5-.5v-.094a.5.5 0 0 0-.5-.5zm0-5.263h-3.5c-1.82 0-3.3 1.48-3.3 3.3v3.5c0 1.82 1.48 3.3 3.3 3.3h3.5c1.82 0 3.3-1.48 3.3-3.3v-3.5c0-1.82-1.48-3.3-3.3-3.3zm2 6.8a2 2 0 0 1-2 2h-3.5a2 2 0 0 1-2-2v-3.5a2 2 0 0 1 2-2h3.5a2 2 0 0 1 2 2v3.5z",fill:"#859479"})}):null,a===b("MercuryMessageDeliveryState").SENT?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null,a===b("MercuryMessageDeliveryState").DELIVERED?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null]})};d.$11=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:b("React").jsx(b("MercuryMessageError.react"),{authorFBID:this.props.authorFBID,className:"_3058 _2ygi",message:a})};d.render=function(){__p&&__p();var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);e=b("TooltipData").propsFor(e,l(d));var f=[],g=[],h=this.props.message,j=d||!1,k=this.props.scrollToRepliedMessage;h&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(h)&&f.push(a.render(h,j,{scrollToRepliedMessage:k}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(h)&&g.push(a.getAdditionalClassNames())}));var m=this.$8(e,!1),n=this.$6(e,null);n&&(m=this.$8(e,!0));return b("React").jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7"),b("messengerRTLClasses")(a.body)].concat(g)),isFromViewer:d,message:a,onShowMenu:this.$12,children:[f,m,n,this.$11(),this.$10(),this.$3()]})};return c}(b("React").Component);a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};function l(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)?"above":a?"right":"left"}function m(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.subattachments)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"&&a.attachments[0].share.subattachments.length===0}}e.exports=a}),null);
__d("PagesManagerWECMessageGroup.react",["cx","MercuryIDs","MessengerParticipants.bs","PagesManagerWECMessage.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:h(c.props)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.calculateState=function(a){return{participants:h(a)}};d.$1=function(){var a=this,c=this.props.messages.size,d=[],e=this.props.messages.last();e.has_attachment===!0&&(e.video_ids||e.image_ids)&&(e.body=null);this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID,i=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),j=a.props.onAttachmentLoad,k=e===a.props.messages.first();d.push(b("React").jsx(b("PagesManagerWECMessage.react"),{authorFBID:i===null?void 0:i,customColor:"",deliveryTimestamp:a.props.deliveryTimestamp,isActive:h,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,message:e,nextTimestamp:a.$2(g,c,f),onAttachmentLoad:j,onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,pageID:a.props.pageID,participants:a.state.participants,readReceipts:a.props.readReceipts,ref:e.message_id,showDeliveryState:e.timestamp>a.props.lastReadTimestamp,threadCustomColor:"",wecFirstMessage:k},e.message_id))});return d};d.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};d.render=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_1t_p clearfix",children:b("React").jsx("div",{className:"_41ud _38-y",children:this.$1()})})})};return c}(b("React").PureComponent);function h(a){var c=b("MercuryIDs").getParticipantIDFromFromThreadID(a.messages.first().thread_id);return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","ChatTypingIndicatorsWrapper.bs","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicatorReact.re","PageManagerInboxMessageLoadIndicator.react","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWECMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatTypingIndicatorsWrapper.bs").jsComponent,i=b("MessengerTypingIndicatorReact.re").component,j="WEC_message_view";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.$1=!0;b.prevScrollTop=0;b.prevScrollHeight=0;return b}var d=c.prototype;d.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom()};d.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};d.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};d.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};d.$7=function(){this.$1||(this.$1=!0)};d.$6=function(){this.$1&&(this.$1=!1)};d.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};d.$8=function(a){var b=this;return function(){if(b.props.threadID!==a)return;b.$1&&(b.refs.scrollableArea&&b.refs.scrollableArea.getArea()&&b.refs.scrollableArea.getArea().scrollToBottom())}};d.$2=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.$1&&(a.refs.scrollableArea&&a.refs.scrollableArea.getArea()&&a.refs.scrollableArea.getArea().scrollToBottom()),e.remove()})})};d.$9=function(){return b("React").jsx(b("PageManagerInboxMessageLoadIndicator.react"),{height:this.props.scrollHeight})};d.$10=function(){return!this.props.isLoadingMore?null:b("React").jsx("div",{className:"_2k8v",children:b("React").jsx(b("MessengerSpinner.react"),{})})};d.$11=function(){var a=this;if(this.props.messagelist.size===0)throw new Error("Empty message list");return b("React").jsxs("div",{className:"clearfix _1ej0 _2mpc",children:[b("React").jsx(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform==="WEC"?b("PagesManagerWECMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),b("React").jsx(h,{indicatorClass:i,indicatorsWillShow:function(){},indicatorsDidShow:function(){a.$1&&a.refs.scrollableArea&&a.refs.scrollableArea.getArea().scrollToBottom()},rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})]})};d.render=function(){var a=this;return this.props.initLoading?this.$9():b("React").jsxs("div",{className:this.props.commPlatform==="WEC"?"_66_6":"","data-testid":j,children:[b("React").jsxs(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return a.$4()},500),ref:"scrollableArea",shadow:!1,children:[this.$10(),b("React").jsx("div",{className:"_14y3",children:this.props.threadID?this.$11():b("React").jsx("div",{})}),this.props.footerChildrenSpacer]}),this.props.footerChildren]})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerOmniMActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PAGES_MANAGER_OMNI_M_INIT:null,PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY:null,PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME:null,PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS:null,PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA:null,PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO:null,PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT:null,PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL:null});e.exports=a}),null);
__d("PagesManagerOmniMStore",["FluxReduceStore","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({conversionData:null,isEligibleForAdminMSuggestion:!1,pageID:null,showSuggestionBar:!1,startTime:null,suggestions:null,threadFBID:null,partnerAppLogo:null,messageID:null,shouldShowEyebrowTextForBusinessSticker:!1,suggestionSpacerHeight:null,upsellSpecificData:null,senderID:null}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new q()};c.reduce=function(a,b){__p&&__p();var c=b.payload;switch(b.type){case g:return a.set("threadFBID",c.threadFBID).set("pageID",c.pageID);case i:return a.set("isEligibleForAdminMSuggestion",c.isEligibleForAdminMSuggestion);case m:return a.set("showSuggestionBar",c.showSuggestionBar);case o:return a.set("suggestions",c.suggestions).set("messageID",c.messageID).set("senderID",c.senderID);case k:return a.set("startTime",c.startTime);case h:return a.set("conversionData",c.conversionData);case j:return a.set("partnerAppLogo",c.partnerAppLogo);case l:return a.set("shouldShowEyebrowTextForBusinessSticker",c.shouldShowEyebrowTextForBusinessSticker);case n:return a.set("suggestionSpacerHeight",c.height);case p:return a.set("upsellSpecificData",c.upsellSpecificData);default:return a}};c.getIsDifferentThread=function(a,b){var c=this.getState();return a!==c.threadFBID||b!==c.pageID};c.getShowSuggestionBar=function(){var a=this.getState();return a.isEligibleForAdminMSuggestion&&a.showSuggestionBar};c.getSuggestions=function(){return this.getState().suggestions};c.getMessageID=function(){return this.getState().messageID};c.getSenderID=function(){return this.getState().senderID};c.getQuickScheduleStartTime=function(){return this.getState().startTime};c.getConversionData=function(){return this.getState().conversionData};c.getPartnerAppLogo=function(){return this.getState().partnerAppLogo};c.getShouldShowEyebrowTextForBusinessSticker=function(){return this.getState().shouldShowEyebrowTextForBusinessSticker};c.getSuggestionSpacerHeight=function(){return this.getState().suggestionSpacerHeight};c.getTriggerSavedRepliesUpsell=function(){return this.getState().upsellSpecificData};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerOmniMSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1633243126804880"};b.getQueryID=function(){return"243928156353631"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerAdConfirmConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/confirm_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},conversion_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessengerAdDismissConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/dismiss_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},mid:{type:"String",required:!0},sender_id:{type:"FBID",required:!0},suggestion_type:{type:"String"}})}),null);
__d("PagesManagerOmniMActions",["ActorURI","AsyncRequest","MercuryMessageActions","MercuryMessageObject","MercuryTriodeSourceUtil","PagesEventObserver","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","PagesManagerOmniMStore","PagesManagerOmniMSuggestionQueryWebGraphQLQuery","WebGraphQL","XMessengerAdConfirmConversionSuggestionController","XMessengerAdDismissConversionSuggestionController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q={init:function(a,c){b("PagesManagerOmniMStore").getIsDifferentThread(a,c)&&(q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g,payload:{threadFBID:a,pageID:c}}));return b("WebGraphQL").exec(new(b("PagesManagerOmniMSuggestionQueryWebGraphQLQuery"))({page_id:c})).then(function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.isEligibleForAdminMSuggestionWWW;b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:i,payload:{isEligibleForAdminMSuggestion:a||!1}})},function(a){var d;d=(d=a)!=null?(d=d.errors)!=null?(d=d[0])!=null?d.description:d:d:d;a=(a=a)!=null?(a=a.errors)!=null?(a=a[0])!=null?a.message:a:a:a;b("PagesEventObserver").notify("booking_admin_intent_suggestion_bar_init_error",c,{description:d,message:a})})},dismissSuggestionBar:function(){q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!1}})},setShouldShowBusinessStickerEyebrowText:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{shouldShowEyebrowTextForBusinessSticker:a}})},showSuggestionBar:function(a,c,d,e){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!0}}),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:a,messageID:d,senderID:e}}),c&&b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:j,payload:{partnerAppLogo:c}})},setQuickScheduleStartTime:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:k,payload:{startTime:a}})},setMessengerConversionData:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h,payload:{conversionData:a}})},setSuggestionSpacerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:n,payload:{height:a}})},triggerSavedRepliesUpsell:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:p,payload:{upsellSpecificData:a}})},messengerConversionQPConfirmOrder:function(a,c){c=b("XMessengerAdConfirmConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setEnum("conversion_type","CONFIRM_ORDER").getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).send()},clearMessengerConversionSuggestion:function(a,c,d,e,f,g){if(e===null||f===null)return;a=b("XMessengerAdDismissConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setString("suggestion_type",d).setString("mid",e).setFBID("sender_id",f).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){g&&g()}).send()},_clearAllData:function(){q.setQuickScheduleStartTime(null),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:null}})},sendMessageWithSuggestedReply:function(a,c,d,e,f){var g=new(b("MercuryMessageObject"))(c);a=a==="suggested_reply_business_sticker"?g.constructStickerMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e):g.constructCTAConfirmationMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e);new(b("MercuryMessageActions"))(c).send(a,f)}};e.exports=q}),null);
__d("ServicesAdminMOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_REMINDER:"add_reminder",CREATE_APPOINTMENT_DIRECT:"create_appointment_direct",CREATE_APPOINTMENT_DIFFERENT_TIME:"create_appointment_different_time",SCHEDULE_APPOINTMENT:"schedule_appointment",SEND_AVAILABILITY:"send_availability",TIMESTAMP_OPTIONS:"timestamp_options",MESSENGER_DETECTED_CONVERSION:"messenger_detected_conversion",SUGGESTED_REPLY_LOCATION:"suggested_reply_location",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER:"suggested_reply_yes_no_short_answer",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_YES:"suggested_reply_yes_no_short_answer_yes",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_NO:"suggested_reply_yes_no_short_answer_no",SUGGESTED_REPLY_USER_FAQ:"suggested_reply_user_faq",SUGGESTED_REPLY_USER_FAQ_SAVED_REPLY:"suggested_reply_user_faq_saved_reply",SUGGESTED_REPLY_BUSINESS_STICKER:"suggested_reply_business_sticker"})}),null);
__d("PagesManagerOmniMUtils",["fbt","ServicesAdminMOptions","ServicesDateTimeUtils","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={isValidOmniMSuggestionType:function(a){return!a||!Object.values(b("ServicesAdminMOptions")).includes(a)?!1:a==="create_appointment_direct"||a==="create_appointment_different_time"||a==="send_availability"||a==="schedule_appointment"||a==="suggested_reply_location"||a==="suggested_reply_yes_no_short_answer_yes"||a==="suggested_reply_yes_no_short_answer_no"||a==="suggested_reply_user_faq"||a==="suggested_reply_user_faq_saved_reply"||a==="messenger_detected_conversion"||a==="suggested_reply_business_sticker"},isMessengerQuickBannerType:function(a){return Object.keys(a).length===1&&Object.prototype.hasOwnProperty.call(a,"messenger_detected_conversion")},filterValidOmniMSuggestions:function(a){return Object.keys(a).filter(function(a){return h.isValidOmniMSuggestionType(a)}).reduce(function(b,c){b[c]=a[c];return b},{})},getFallbackSuggestions:function(){var a={};a.schedule_appointment=g._("Schedule Appointment");return a},replaceCreateAppointmentDirectText:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;c=b("ServicesDateTimeUtils").getRelativeDayTimeText(c);var d=c.relativeDayText;c=c.startTimeText;d=g._("Schedule: {relative-day} at {start-time}",[g._param("relative-day",d),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a},replaceCreateAppointmentDirectTextForInlineMessage:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;var d={withinWeek:"l",thisYear:"F d",future:"F d, Y"},e=b("ServicesDateTimeUtils").getRelativeDayText(c,b("ServicesDateTimeUtils").getDefaultTimezoneID(),!1);d=b("formatDate")(c,d);c=b("formatDate")(c,"g:i A");d=e==null?g._("on {date} at {start-time}",[g._param("date",d),g._param("start-time",c)]):g._("{relative-day} at {start-time}",[g._param("relative-day",e),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a}};e.exports=h}),null);
__d("XMessengerAdShouldShowEyebrowTextForBusinessStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/should_show_eyebrow_text_for_business_sticker/",{})}),null);
__d("MediaManagerInboxPriorityTabStore",["FluxReduceStore","ImmutableRecordWithV4Types","MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=b("MediaManagerActionTypes").MediaManagerActionTypes,h=a({onViewingItemPriorityType:"NONE"});c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return h()};c.reduce=function(a,b){switch(b.type){case g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM:return a.set("onViewingItemPriorityType",b.priorityType);default:return a}};c.getOnViewingPriorityRowType=function(){return this.getState().get("onViewingItemPriorityType")};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerDispatcher"))}),null);
__d("MediaManagerInboxCustomTabUtils",["MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){return(a==="MEDIA_MANAGER_PRIORITY"||a==="MEDIA_MANAGER_FB_COMMS")&&g()};c=function(a){var b=a.row_type;switch(b){case"TOP_MESSAGES":return a.top_message_content.top_message_thread_id;case"TOP_COMMENTS":return a.top_comment_content.id;default:return""}};d=function(a){var b=a==null?void 0:a.row_type;switch(b){case"TOP_MESSAGES":return a==null?void 0:(b=a.top_message_content)==null?void 0:b.top_message_thread_id;case"TOP_COMMENTS":return a==null?void 0:(b=a.top_comment_content)==null?void 0:(b=b.parent_item)==null?void 0:b.id;case"TOP_FB_COMMS":return a==null?void 0:(b=a.content)==null?void 0:b.id;default:return null}};f=function(a){a=a==null?void 0:a.row_type;return a};var h=function(){return b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType()==="TOP_MESSAGES"},i=function(a){switch(a){case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return"ALL";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:return"TOP_COMMENTS";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:return"TOP_MESSAGES";default:return"ALL"}};e.exports={shouldRenderMessengerPreviewHeader:h,shouldShowMediaManagerCustomTab:a,getPriorityTabGraphQLFilter:i,getPriorityRowKey:c,getPriorityTabItemID:d,getPriorityTabItemRowType:f}}),null);
__d("PagesManagerInboxQueryUtilCommItemRenderTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT:"CONTEXT",INFO:"INFO",HEADER:"HEADER"})}),null);
__d("PagesManagerInboxQueryUtil",["invariant","FBIDCheck","MediaManagerInboxCustomTabUtils","MercuryIDs","PagesManagerInboxFacebookPostStore","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerInboxQueryRenderer.react","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PagesManagerInboxQueryUtilMessengerQuery.graphql","PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemQuery.graphql","PagesManagerInboxQueryUtilInstagramQuery.graphql","PagesManagerInboxQueryUtilFacebookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m,n,o;b("RelayModern").graphql;a={renderWithMessengerThreadQuery:function(a,c,d){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:h!==void 0?h:h=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:d,variables:{threadToken:[c,a].join("_")}})},renderWithCommItemQuery:function(a,c,d,e){__p&&__p();var f=b("PagesManagerInboxFilterStore").getIsSearchActive(),h=!1;if(f)if(b("FBIDCheck").isUser_deprecated(a))h=!0;else{var m=b("MercuryIDs").getThreadIDFromThreadFBID(b("nullthrows")(a));m=b("PagesManagerMessagingMessagelistStore").getMessagelist(c,m);m.length>0&&(h=!0)}if((b("PagesManagerInboxMercuryUtil").shouldUseMercury()||b("MediaManagerInboxCustomTabUtils").shouldRenderMessengerPreviewHeader())&&(!f||h)){m="";switch(e){case b("PagesManagerInboxQueryUtilCommItemRenderTypes").CONTEXT:m=i!==void 0?i:i=b("PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO:m=j!==void 0?j:j=b("PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER:m=k!==void 0?k:k=b("PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql");break}return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m,render:function(a){var b,c=a.error;a=a.props;b=(b=a)!=null?(b=b.page)!=null?b.page_comm_item_for_message_thread:b:b;if(a&&!c)return d({error:c,props:a},b);!c&&!a||g(0,4573);return d({error:c,props:a},null)},variables:{messageThreadID:a,pageID:c}})}return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:l!==void 0?l:l=b("PagesManagerInboxQueryUtilCommItemQuery.graphql"),render:function(a){var b=a.error;a=a.props;if(a&&!b)return d({error:b,props:a},a.commItem);!b&&!a||g(0,4573);return d({error:b,props:a},null)},variables:{commItemID:a}})},renderWithPlatformPostThreadQuery:function(a,c,d,e,f,h){switch(d){case"INSTAGRAM":return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m!==void 0?m:m=b("PagesManagerInboxQueryUtilInstagramQuery.graphql"),render:h,variables:{commItemID:a,igPostID:c}});case"FACEBOOK":b("PagesManagerInboxFacebookPostStore").get(a,e,!0);return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:n!==void 0?n:n=b("PagesManagerInboxQueryUtilFacebookQuery.graphql"),render:h,variables:{commItemID:a,targetID:f}});case"MESSENGER":case"WEC":case"INSTAGRAM_DIRECT":return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:o!==void 0?o:o=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:h,variables:{threadToken:[e,c].join("_")}});default:g(0,13808,a)}}};e.exports=a}),null);
__d("PagesMessageThreadImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_message_thread_impression");e.exports=a}),null);
__d("PagesManagerInboxDetailRoot.react",["PagesEventObserver","PagesManagerInboxDetailLoading.react","PagesManagerInboxFacebookPostContainer.react","PagesManagerInboxInstagramPostContainer.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","PagesMessageThreadImpressionFalcoEvent","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){__p&&__p();var c=a.error;a=a.props;d.props.mailboxID&&(b("PagesEventObserver").notify("messages_view_thread",d.props.mailboxID,{mailboxID:d.props.mailboxID,section:d.props.commPlatform,target_id:d.props.targetID}),b("PagesMessageThreadImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:d.props.mailboxID,referrer:null,event_data:{mailbox_id:d.props.mailboxID,thread_id:d.props.commItemID,section:d.props.commPlatform}}}));switch(d.props.commPlatform){case"INSTAGRAM":d.$1(a,c);if(a&&!c)return b("React").jsx(b("PagesManagerInboxInstagramPostContainer.react"),babelHelpers["extends"]({},d.props,a));break;case"FACEBOOK":d.$1(a,c);if(a&&!c){var e=Date.now();return b("React").jsx(b("PagesManagerInboxFacebookPostContainer.react"),babelHelpers["extends"]({height:d.props.height,loadStartTime:e,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a))}break;case"MESSENGER":case"WEC":d.$1(a,c);if(a&&!c)return b("React").jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.commSourceID,height:d.props.height,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a));break}return b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){a&&!c?b("PagesManagerInboxLogger").itemDetailsLoaded(this.props.commItemID,this.props.commPlatform):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItemDetails(this.props.commItemID,this.props.commPlatform)};d.render=function(){var a=this.props,c=a.commPlatform,d=a.commItemID,e=a.commSourceID,f=a.mailboxID;a=a.targetID;return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,e,c,f,a,this.onRenderQueryResults)};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxCommItemBasicInfoContainer.react",["ErrorBoundary.react","PagesManagerInboxDetailRoot.react","PagesManagerInboxLogger","React","RelayModern","nullthrows","PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxDetailRoot.react"),{commItemID:(a=b("nullthrows"))(this.props.commItem.id),commPlatform:a(this.props.commItem.comm_platform),commSourceID:a(this.props.commItem.comm_source_id),height:this.props.height,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,targetID:a(this.props.commItem.target_id)})})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql")})}),null);
__d("PagesManagerInboxCommItemBasicInfoRoot.react",["ErrorBoundary.react","MediaManagerInboxContext.react","PagesManagerInboxCommItemBasicInfoContainer.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a,c){var e=a.error;a=a.props;d.$1(a,e);return a&&!e&&c?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxCommItemBasicInfoContainer.react"),babelHelpers["extends"]({commItem:c,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&(this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(this.props.listItemKey,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.commItemFolder),b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey))};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView,b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO)};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxContextCardLabelsTypeaheadRenderer.react",["cx","React","XUICard.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx("ul",{className:"_ke2",children:this.props.entries.map(function(c){return b("React").jsx(h,{entry:c,highlighted:c===a.props.highlightedEntry,onSelect:a.props.onSelect},c.getUniqueID())})})};return c}(b("React").PureComponent);var h=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=this.props.entry;return b("React").jsxs("li",{className:(this.props.highlighted?"_599n":"")+" _ke3",onMouseDown:function(b){return a.props.onSelect(c,b)},children:[b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),b("React").jsx("span",{style:{flex:1},children:c.getTitle()})]},c.getUniqueID())};return a}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxContextCardLabelsTypeahead.react",["cx","fbt","CustomLabelUtils","PageManagerInboxCustomLabelSearchSource","PagesManagerInboxContextCardLabelsTypeaheadRenderer.react","React","XUITypeahead.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CustomLabelUtils").TAG_LIMIT,j=3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={query:"",labelError:null},c.$1=function(a){c.setState({query:"",labelError:null}),c.props.onAddLabel(a.getData())},c.$2=function(){var a=c.state.query;c.setState({query:"",labelError:c.props.pageLabelNum>=i?h._("You've reached the 200 labels limit. You can delete labels to add more."):null});c.props.onCreateLabel(a)},c.$3=function(a){c.setState({query:a.target.value,labelError:null})},c.$4=function(a){c.setState({labelError:null})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=h._("Add label...");return b("React").jsx("div",{className:"_ke1",children:b("React").jsx(b("XUITypeahead.react"),{autoHighlight:!0,maxEntries:j,maxLength:this.props.maxLength,onBlur:this.$4,onChange:this.$3,onEnterWithoutSelection:this.$2,onSelectAttempt:this.$1,placeholder:a,presenter:k,queryString:this.state.query,searchSource:b("PageManagerInboxCustomLabelSearchSource").getInstance(this.props.labels),tallInput:!0,viewStyle:"rich",xuiError:this.state.labelError})})};return c}(b("React").PureComponent);a.propTypes={onAddLabel:(c=b("prop-types")).func.isRequired,onCreateLabel:c.func.isRequired,labels:c.array.isRequired,maxLength:c.number,pageLabelNum:c.number};var k={useLayer:!0,ViewRenderer:b("PagesManagerInboxContextCardLabelsTypeaheadRenderer.react")};e.exports=a}),null);
__d("MediaManagerInboxFBCommsActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};c=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};d=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,pageID:a,messagesObject:c})};f=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,pageID:a,error:c})};var h=function(a,c,d){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN,pageID:a,message:c,clickedTime:d})},i=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT,pageID:a})},j=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_FINISHED,pageID:a,badgeCount:c})},k=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_ERROR,pageID:a,error:c})},l=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_DECREMENT_BADGE_COUNT,pageID:a})};e.exports={loadFBCommsMessages:a,loadMoreFBCommsMessages:c,loadFBCommsMessagesFinished:d,loadFBCommsMessagesError:f,setFBCommsMessageSeen:h,loadFBCommsBadgeCount:i,loadFBCommsBadgeCountFinished:j,loadFBCommsBadgeCountError:k,decrementFBCommsBadgeCount:l}}),null);
__d("MediaManagerFBCommsStore",["fbt","FluxLoadObjectStore","MediaManagerActionTypes","MediaManagerInboxFBCommsActions","MediaManagerInboxLogUtils","PagesManagerDispatcher","RelayFBEnvironment","RelayModern","immutable","promiseDone","MediaManagerFBCommsStoreQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MediaManagerActionTypes").MediaManagerActionTypes,j=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesError,k=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesFinished,l=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent,m=b("RelayModern").fetchQuery;b("RelayModern").graphql;var n=h!==void 0?h:h=b("MediaManagerFBCommsStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,i.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN]};d.reduce=function(a,b){__p&&__p();var c;switch(b.type){case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES:c=(c=a.get(b.pageID))==null?void 0:c.getValue();(c==null||c.hasNextPage)&&this.__load(b.pageID);return a;case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED:l("fb_comms_tips_loaded",null,"MEDIA_MANAGER_FB_COMMS",{num_tips:b.messagesObject.messages.size.toString()});return this.__handleOne(a,b.pageID,b.messagesObject);case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR:return this.__handleOne(a,b.pageID,b.error);case i.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN:c=a.get(b.pageID);if(c.hasValue()){c=c.getValue();if(c!=null){var d=c.messages;d=d.find(function(a){return a.node.id===b.message.node.id});d.node.clickedTime=b.clickedTime;return this.__handleOne(a,b.pageID,c)}}return a;default:return a}};d.__load=function(a){__p&&__p();var c=this.get(a).getValue(),d=c!=null?c.endCursor:null;l("fb_comms_load_tips",null,"MEDIA_MANAGER_FB_COMMS",{end_cursor:d!=null?d:""});b("promiseDone")(m(b("RelayFBEnvironment"),n,{page_id:String(a),after:d}),function(d){__p&&__p();var e;e=(e=d.viewer)==null?void 0:(e=e.inbox_fb_comms_rows)==null?void 0:e.nodes;var f={endCursor:null,hasNextPage:!1,messages:b("immutable").List()};if(e!=null){var h;h=(h=d.viewer)==null?void 0:(h=h.inbox_fb_comms_rows)==null?void 0:(h=h.page_info)==null?void 0:h.end_cursor;d=(d=(d=d.viewer)==null?void 0:(d=d.inbox_fb_comms_rows)==null?void 0:(d=d.page_info)==null?void 0:d.has_next_page)!=null?d:!1;var i=null,j=null,l=null,m=null,n=null,o=null,p=null,q=!1,r=null,s=null;e=e.reduce(function(b,c){__p&&__p();if(c.__typename==="InboxAYMTRow"){var d=c.content;i=d==null?void 0:d.id;j=d==null?void 0:d.tip_name;l=d==null?void 0:d.channel_id;m=d==null?void 0:d.title;n=d==null?void 0:d.body;o=d==null?void 0:d.button_label;p=d==null?void 0:d.button_uri;q=!!(d==null?void 0:d.should_load_uri_in_same_window);r=d==null?void 0:d.validation_timestamp;s=d==null?void 0:d.clicked_timestamp}else if(c.__typename==="InboxNotifRow"){d=c.ent_notif;i=d==null?void 0:d.id;j="";m=d==null?void 0:(c=d.body)==null?void 0:c.text;n="";o=g._("See More");p=d==null?void 0:d.url;r=d==null?void 0:d.notif_sent_time;s=d==null?void 0:d.first_read_time}if(i==null||j==null||m==null||n==null||o==null||p==null||r==null)return b;b.push({node:{id:i,pageID:a,tipName:j,channelID:l,title:m,body:n,cta:{label:o,action:p,shouldLoadInSameWindow:q},validationTime:r,clickedTime:s,productType:"MONETIZATION"}});return b},[]);f={endCursor:h,hasNextPage:d,messages:c!=null?c.messages.concat(e):b("immutable").List(e)}}k(a,f)},function(b){var c=b.getErrorDescriptionString();l("fb_comms_tips_loading_error",null,"MEDIA_MANAGER_FB_COMMS",{page_id:a,error:c!=null?c:""});j(a,b)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("CreatorStudioInboxMessengerRankedUsersDataTypes",["ImmutableRecordWithV4Types","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({rankedUsers:[]}),h=function(a){a=a.rankedUsers;return g({rankedUsers:a})};c=function(a){a=a==null?void 0:(a=a.messenger_ranked_users)==null?void 0:a.edges;if(a==null)return h({rankedUsers:b("immutable").List()});a=b("filterNulls")(a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}));return h({rankedUsers:b("immutable").List(a)})};e.exports={createCreatorStudioInboxMessengerRankedUsersData:h,createCreatorStudioInboxMessengerRankedUsersDataFromRawData:c}}),null);
__d("CreatorStudioInboxMessengerRankedUsersStore",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersActionTypes","CreatorStudioInboxMessengerRankedUsersDataTypes","FluxLoadObjectStore","MercuryIDs","MessengerState.re","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","immutable","promiseDone","setImmediate","CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersData,i=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersDataFromRawData,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.getRankedUserMercuryThreadPayloadList=function(a){var c=this.getRankedUserIDs(a),d=[];c.forEach(function(c){c=b("MercuryIDs").getThreadIDFromUserID(c);c=b("MessengerState.re").getThreadMetaNow(a,c);c&&d.push(c)});return d};d.getRankedUserMercuryThreadPayloadListForAdmin=function(a,c){a=this.getRankedUserMercuryThreadPayloadList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c!=null&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getRankedUserIDs=function(a){a=this.get(a);a=a.getValue();var b=[];a&&(b=a.rankedUsers.toArray());return b};d.isLoading=function(){return this.__isLoading};d.__getActionTypes=function(){var a;return[this.getActionTypeStartLoad(),(a=b("CreatorStudioInboxMessengerRankedUsersActionTypes")).FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR]};d.reduce=function(a,c){__p&&__p();var d=this;switch(c.type){case b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.data);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;b("setImmediate")(function(){d.__load(c.pageID)});return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:var e=this.get(c.pageID);e=e.getValue();var f=[];if(e){e=e.rankedUsers.toArray();f=e.filter(function(a){return a!==c.userID})}e=h({rankedUsers:b("immutable").List(f)});return this.__handleOne(a,c.pageID,e);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.error);case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:f=c.activeFolderFilter===b("PageCommItemFolder").PRIORITY&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER";e=c.activeTypeFilter==="MESSENGER"&&b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").PRIORITY;(f||e)&&b("setImmediate")(function(){d.__load(c.pageID)});return a;default:return a}};d.__load=function(a){__p&&__p();b("CreatorStudioInboxMessengerRankedUsersAction").fetchCreatorStudioInboxMessengerRankedUsersData();if(a==null){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,new Error("Null ID"));return}b("promiseDone")(l(a),function(c){try{c=i(c);b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersData(a,c)}catch(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)}},function(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;function l(a){a={pageID:a};return j(b("RelayFBEnvironment"),k,a)}e.exports=new a()}),null);
__d("PageCommItemReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemReadEditMutation.graphql");function a(a,c){var d=a.ids.map(function(a){return{id:a,is_read:!0}});d={page_comm_item_mark_as_read:{page_comm_items:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemStatusEditMutation",["PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemStatusEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemStatusEditMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.actor_id);if(!d)return;a.ids.forEach(function(e){__p&&__p();var f=c.get(e);if(!f)return;f.setValue(a.status,"comm_status");var g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.oldValue,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});g&&h.deleteNode(g,e);g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.status,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){e=h.createEdge(c,g,f,"PageCommItemsEdge");h.insertEdgeAfter(g,e)}})},e=function(){a.isViewing&&b("PagesManagerAction").clearViewListItem(),c&&c.onSuccess()};a.isUndo||b("PagesManagerInboxListAction").itemFolderChange(a.ids,a.status,a.oldValue);return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:a.isUndo?void 0:d,updater:d,variables:{input:{actor_id:a.actor_id,ids:a.ids,reminder_time:a.reminderTime,status:a.status}},onCompleted:e,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemUnreadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemUnreadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemUnreadEditMutation.graphql");function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!1}});return{page_comm_item_mark_as_unread:{page_comm_items:b}}}();return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XInstagramDirectMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_inbox/instagram_direct/send/",{request_user_id:{type:"FBID"},client_thread_id:{type:"String"},offline_threading_id:{type:"String"},source:{type:"String"},action_type:{type:"Enum",enumType:1}})}),null);
__d("PageCommItemTypeUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isUserCreated:function(a){switch(a){case"FB_MESSAGE":case"FB_REVIEW":case"FB_USER_POST":case"FB_GROUP_POST":case"FB_RECOMMENDATION":case"IG_MESSAGE":return!0}return!1},toPageCommPlatform:function(a){switch(a){case"FB_MESSAGE":return"MESSENGER";case"INSTAGRAM_POST":return"INSTAGRAM";case"WEC_MESSAGE":return"WEC";default:return"FACEBOOK"}}};e.exports=a}),null);
__d("PagesManagerInboxHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_641d",children:a.jsxs("div",{className:"_2iwq _641e",children:[a.jsx("div",{className:"_641f"}),a.jsx("div",{className:"_641g"}),a.jsx("div",{className:"_641h"}),a.jsx("div",{className:"_641i"}),a.jsx("div",{className:"_641j"}),a.jsx("div",{className:"_641k"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageCommItemAssignUniqueOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemAssignUniqueOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemAssignUniqueOwnerMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={assign_unique_comm_item_owner:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[{admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemClearOwnersMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemClearOwnersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemClearOwnersMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={clear_comm_item_owners:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,variables:{input:{actor_id:a.pageID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("UnifiedInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","UnifiedInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("UnifiedInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[b("React").jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b}},c,{adminID:a.props.adminID,adminName:a.props.adminName,isIGDirect:!0,mailboxID:a.props.mailboxID,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,threadID:a.props.threadID}),"PagesManagerInboxAdminAssignerRoot.assigner"),b("React").jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{mailboxID:this.props.mailboxID}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageCommPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK:"FACEBOOK",MESSENGER:"MESSENGER",INSTAGRAM:"INSTAGRAM",INSTAGRAM_DIRECT:"INSTAGRAM_DIRECT",WEC:"WEC",ALL:"ALL",GROUP:"GROUP",MEDIA_MANAGER_FB_COMMS:"MEDIA_MANAGER_FB_COMMS",MEDIA_MANAGER_PRIORITY:"MEDIA_MANAGER_PRIORITY"})}),null);
__d("PagesManagerInboxHeaderViewContainer.react",["ErrorBoundary.react","PageCommPlatform","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxStore","React","RelayModern","WitHelpers","nullthrows","PagesManagerInboxHeaderViewContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("WitHelpers").str;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){__p&&__p();var c=a.error;a=a.props;switch(d.props.commItem.comm_platform){case"INSTAGRAM":case"FACEBOOK":case"WEC":if(a&&!c){c=d.props;var e=c.ChildClass;c=babelHelpers.objectWithoutPropertiesLoose(c,["ChildClass"]);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(e,babelHelpers["extends"]({},a,c))})}break}return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=b("nullthrows")(this.props.commItem.comm_platform),c=b("PagesManagerInboxStore").getPageID();switch(a){case"INSTAGRAM_DIRECT":case"MESSENGER":var d=this.props,e=d.ChildClass;d=babelHelpers.objectWithoutPropertiesLoose(d,["ChildClass"]);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(e,babelHelpers["extends"]({},d))});default:e=b("nullthrows")(this.props.commItem);d=b("nullthrows")(e.id);var f=b("nullthrows")(e.comm_source_id);e=b("nullthrows")(e.target_id);if(c!=null)return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,f,b("PageCommPlatform")[h(a)],c,e,this.onRenderQueryResults)}};return c}(b("React").PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxHeaderViewContainer_commItem.graphql")})}),null);
__d("ServicesMessengerSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({OPEN_MESSENGER_SIDEBAR:null});e.exports=a}),null);
__d("ServicesMessengerSidebarStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR,h=400,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isSidebarOpen:!1}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new i()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("isSidebarOpen",c.shouldOpen);default:return a}};c.isSidebarOpen=function(){return this.getState().isSidebarOpen};c.getTransitionDuration=function(){return h};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesMessengerSidebarActions",["PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","ServicesMessengerSidebarStore","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR;a={openSidebar:function(a,c,d){d===void 0&&(d="MESSENGER");a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()&&d==="MESSENGER"?a:c;if(a==null)return;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var e=b("ServicesMessengerSidebarStore").isSidebarOpen();b("PagesManagerInboxFilterAction").changePlatform(d);!e?(this._toggleMessengerSidebar(!0),b("PagesManagerAction").viewListItem(""+a)):e&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){this._toggleMessengerSidebar(!1)},_toggleMessengerSidebar:function(a){a||b("setTimeout")(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesMessengerSidebarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{shouldOpen:a}})}};e.exports=a}),null);
__d("ServicesAppointmentMessengerHeaderAction.react",["cx","React","ServicesMessengerSidebarActions","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDivider=function(){return b("React").jsx("div",{className:"_33u_",children:b("React").jsx("div",{className:"_33v0"})},"actionDivider")};d.render=function(){return b("React").jsxs("div",{className:"_33uz",children:[this.renderDivider(),b("React").jsx("div",{className:"_642n",children:b("React").jsx(b("XUIButton.react"),{className:"_642o",label:"Close",labelIsHidden:!0,size:"small",suppressed:!0,onClick:function(){b("ServicesMessengerSidebarActions").closeMessengerSidebar()}})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderContainer.react",["ErrorBoundary.react","FluxContainer","MediaManagerInboxFBCommsHeaderContainer.react","MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageManagerInboxPageToPageHeaderView.react","PagesManagerAction","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometIGDirectHeaderContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxHeaderLoading.react","PagesManagerInboxHeaderViewContainer.react","PagesManagerInboxIGDirectHeaderContainer.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerInboxStore","PagesManagerStore","React","ServicesAppointmentMessengerHeaderAction.react","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderHeader=function(a,c){var e=a.error;a=a.props;if(a&&!e){var f;e=b("PagesManagerInboxStore").getMailboxID(d.state.commPlatform);return((f=a.page)==null?void 0:(f=f.bcmp_gk_config)==null?void 0:f.bcmp_inbox_enabled)&&d.state.commPlatform==="MESSENGER"&&a.sender&&a.sender.__typename==="Page"?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PageManagerInboxPageToPageHeaderView.react"),{mailboxID:e,page:a.sender})}):b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxHeaderViewContainer.react"),babelHelpers["extends"]({commItem:c,listItemKey:d.state.listItemKey,mailboxID:e,shouldShowNewMultiAdminAssignment:d.state.shouldShowNewMultiAdminAssignment,shouldUseMessengerStateForAdminAssignment:d.state.shouldUseMessengerStateForAdminAssignment},d.props))})}return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerInboxPriorityTabStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){__p&&__p();a=!1;var c=!1,d=!1,e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){var f;a=Boolean((f=e.inboxRedesignConfig)==null?void 0:f.shouldShowNewMultiAdminAssignment);d=Boolean((f=e.inboxRedesignConfig)==null?void 0:f.shouldShowNewIGDirectFolder);c=Boolean((f=e.messengerConfig)==null?void 0:f.shouldUseMessengerStateForAdminAssignment)}else a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment,d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder,c=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;return{listItemKey:b("PagesManagerStore").getViewingListItem(),commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),mediaManagerInboxPriorityTabRowType:b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType(),shouldShowNewMultiAdminAssignment:a,shouldShowNewIGDirectFolder:d,shouldUseMessengerStateForAdminAssignment:c}};var d=c.prototype;d.componentDidUpdate=function(){this.props.navMode!=="messages"&&b("PagesManagerAction").setHeaderHeight(0)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);if(this.props.navMode!=="messages"||!this.state.listItemKey)return null;if(this.state.commPlatform==="INSTAGRAM_DIRECT")return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?b("React").jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showNewFolder:this.state.shouldShowNewIGDirectFolder,threadID:b("nullthrows")(this.state.listItemKey)}):b("React").jsx(b("PagesManagerInboxIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?b("React").jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showNewFolder:this.state.shouldShowNewIGDirectFolder,threadID:b("nullthrows")(this.state.listItemKey)});return(this.state.commPlatform==="MEDIA_MANAGER_FB_COMMS"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_FB_COMMS")&&g()?b("React").jsx(b("MediaManagerInboxFBCommsHeaderContainer.react"),{viewingItem:this.state.listItemKey}):b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.state.listItemKey,a,this.onRenderHeader,b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageUserMessageThreadAutoLabelType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOMER:"CUSTOMER",POTENTIAL_CUSTOMER:"POTENTIAL_CUSTOMER",POSITIVE_EXPERIENCE:"POSITIVE_EXPERIENCE",NEGATIVE_EXPERIENCE:"NEGATIVE_EXPERIENCE"})}),null);
__d("PagesManagerInboxLabel.react",["ix","cx","ClickableArea.react","FDSBaseCheckboxInput.react","FlexLayout.react","Image.react","PagesManagerInboxAutoLabelUtils","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesMessagingInboxActionLogger","PageUserMessageThreadAutoLabelType","React","Tooltip","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isHover:!1,isSelected:!1},d.$1=function(){d.setState({isHover:!0})},d.$2=function(){d.setState({isHover:!1})},d.$3=function(){d.setState({isSelected:!0},function(){return d.state.isSelected}),d.props.onCreateAndAdd&&d.props.createName!==null&&d.props.createName!==void 0&&d.props.onCreateAndAdd(d.props.createName,d.props.color)},d.$4=function(a){a.stopPropagation();a={id:d.props.id,name:d.props.name,color:d.props.color};d.props.isToken&&(a=new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a));d.props.onRemove&&d.props.onRemove(a)},d.$5=function(){var a=d.props.pageID;if(!a||!d.props.searchOnClick)return;b("PagesManagerInboxFilterAction").changeSearchType("LABEL");b("PagesManagerInboxFilterAction").toggleSearch(!0);b("PagesManagerInboxFilterAction").addCustomLabel({name:d.props.name,id:d.props.id,color:d.props.color},a);b("PagesMessagingInboxActionLogger").logSearchResultClicked("contextcard_label_search_clicked",d.props.platform,d.props.name,"LABEL")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c;this.state.isHover&&this.props.onRemove?a=b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"transparent",border:"none"},children:b("React").jsx(b("Image.react"),{onClick:this.$4,src:g("363583")})}):this.props.autoLabelType!=null?a=b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"transparent",border:"none"},children:b("PagesManagerInboxAutoLabelUtils").getAutoLabelIcon(this.props.autoLabelType)}):a=b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"#"+this.props.color.substring(2),border:"none"}});this.props.showCheckbox!=null&&(c=b("React").jsx("span",{className:"_8q94",children:b("React").jsx(b("FDSBaseCheckboxInput.react"),{onChange:this.$3,value:this.state.isSelected})}));var d=this.props.className?this.props.className:"_64u3";d=this.props.onRemove?b("React").jsxs("div",babelHelpers["extends"]({className:d,onClick:this.$5,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.toolTipString),{children:[a,this.props.name]})):b("React").jsxs(b("FlexLayout.react"),{align:"center",children:[c,b("React").jsx(b("ClickableArea.react"),{onClick:this.$5,children:b("React").jsxs("div",babelHelpers["extends"]({className:d},b("Tooltip").propsFor(this.props.toolTipString),{children:[a,this.props.name]}))})]});return d};return c}(b("React").PureComponent);e.exports=a}),null);
__d("BusinessPresenceCustomLabelColor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREY:"FF90949C",PURPLE:"FF8A73C9",RED:"FFF65569",BLUE:"FF5291FF",ORANGE:"FFFB9240",GREEN:"FF72A737"})}),null);
__d("PagesManagerInboxLabelsColorSelector.react",["ix","cx","fbt","BusinessPresenceCustomLabelColor","Image.react","React","XUICard.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","objectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={FF90949C:i._("Grey"),FF8A73C9:i._("Purple"),FFF65569:i._("Red"),FF5291FF:i._("Blue"),FFFB9240:i._("Orange"),FF72A737:i._("Green")},k="FF5291FF";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isSelectorShown:!1,hoverColorLabel:j[k],selectedColor:c.$1(c.props.defaultColor)},c.$2=null,c.$3=function(a){c.setState({isSelectorShown:a})},c.$7=function(){c.setState({hoverColorLabel:j[k]})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){return a==="FF000000"?"FF90949C":a};d.$4=function(a){this.props.onSelectColor(a),this.setState({isSelectorShown:!1,selectedColor:a})};d.$5=function(a){a=this.$1(a);return"#"+a.substring(2)};d.$6=function(a){this.setState({hoverColorLabel:a})};d.render=function(){var a=this,c=b("React").jsxs(b("XUICard.react"),{background:"transparent",className:"_20-d",onClick:function(){return a.$3(!a.state.isSelectorShown)},ref:function(b){a.$2=b},children:[b("React").jsx(b("XUICard.react"),{className:"_64u4",style:{backgroundColor:this.$5(this.state.selectedColor)}}),b("React").jsx(b("Image.react"),{className:this.props.showCaret?"_37_p":"_37_b",src:this.state.isSelectorShown?g("387838"):g("382796")})]});return b("React").jsxs("span",{className:"_37v6",children:[c,b("React").jsx(b("XUIContextualDialog.react"),{contextRef:function(){return a.$2},hideOnBlur:!0,label:i._("Select Color"),onToggle:this.$3,position:"below",shown:this.state.isSelectorShown,children:b("React").jsxs("div",{className:"_64u5",children:[b("React").jsx(b("XUIContextualDialogBody.react"),{children:b("objectValues")(b("BusinessPresenceCustomLabelColor")).map(function(c){return b("React").jsx(b("XUICard.react"),{className:"_64u6",onClick:function(){return a.$4(c)},onMouseEnter:function(){return a.$6(j[c])},onMouseLeave:a.$7,style:{backgroundColor:a.$5(c)}},c)})}),b("React").jsx("span",{className:"_64u7",children:this.state.hoverColorLabel})]})},"contextualDialog")]})};return c}(b("React").PureComponent);a.propTypes={onSelectColor:b("prop-types").func.isRequired,showCaret:b("prop-types").bool.isRequired,defaultColor:b("prop-types").string.isRequired};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogLabelRecord.react",["ix","cx","fbt","Image.react","PagesManagerInboxLabelsColorSelector.react","React","Tooltip.react","XUICardSection.react","asset","curry","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isHover:!1,isHoverEyeIcon:!1,isHoverDeleteIcon:!1},c.$1=function(){c.setState({isHoverEyeIcon:!0})},c.$2=function(){c.setState({isHoverEyeIcon:!1})},c.$3=function(){c.setState({isHoverDeleteIcon:!0})},c.$4=function(){c.setState({isHoverDeleteIcon:!1})},c.$5=function(a){var b={};Object.assign(b,c.props.label);b.color=a;c.props.onUpdate(b)},c.$6=function(){c.setState({isHover:!0})},c.$7=function(){c.setState({isHover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props.label,d=this.props.onDelete;return(a=b("React")).jsx(b("XUICardSection.react"),{children:a.jsxs("div",{className:"_1wea","data-testid":"manage_label_row",onMouseEnter:this.$6,onMouseLeave:this.$7,children:[a.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:c.color,onSelectColor:this.$5,showCaret:this.state.isHover}),a.jsx("span",{style:{flex:1},children:a.jsx("span",{className:"_1wf9",children:this.props.label.name})}),c.thread_count!=null?b("React").jsx("span",{className:"_2scb",children:c.thread_count}):null,this.props.onClickSearch?b("React").jsx(b("Tooltip.react"),{tooltip:i._("See conversations"),children:b("React").jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(this.props.onClickSearch,c),onMouseEnter:this.$1,onMouseLeave:this.$2,src:this.state.isHoverEyeIcon?g("492046"):g("544369")})}):null,b("React").jsx(b("Tooltip.react"),{className:"_3-91","data-testid":"delete_label",tooltip:i._("Delete label"),children:b("React").jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(d,c),onMouseEnter:this.$3,onMouseLeave:this.$4,src:this.state.isHoverDeleteIcon?g("367582"):g("396630")})})]})})};return c}(b("React").PureComponent);a.propTypes={onDelete:(c=b("prop-types")).func.isRequired,onUpdate:c.func.isRequired,label:c.object,hasErrorState:c.func,maxLength:c.number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogNewLabelForm.react",["cx","fbt","PagesManagerInboxLabelsColorSelector.react","React","SUIBorderUtils","SUIBusinessTheme","SUIButton.react","SUITextInput.react","XUICard.react","XUICardSection.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="",j="FF5291FF";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={inputValue:i,isNameValid:!1,selectedColor:j},c.$1=function(){c.props.onAddLabel(c.state.inputValue,c.state.selectedColor),c.setState({inputValue:i,isNameValid:!1,selectedColor:j})},c.$3=function(a){c.setState({inputValue:a,isNameValid:!0})},c.$4=function(a){c.setState({selectedColor:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){var a=this.props.hasErrorState(this.state.inputValue);a!==null&&a!==void 0&&a!==""&&this.setState({isNameValid:!1});return a};d.render=function(){var a;return(a=b("React")).jsx(b("XUICard.react"),{children:a.jsx(b("XUICardSection.react"),{children:a.jsxs("div",{className:"_466b","data-testid":"manage_label_dialog",children:[a.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:j,onSelectColor:this.$4,showCaret:!0}),a.jsx("span",{style:{flex:1},children:a.jsx(b("SUITextInput.react"),{borderedSides:this.state.isFocused?b("SUIBorderUtils").ALL_SIDES:[],className:"_466c","data-testid":"create_label_name",errorMessage:this.$2(),isMaxLengthHidden:!0,maxLength:this.props.maxLength,onChange:this.$3,placeholder:h._("Name a label..."),styles:{label:{border:"none",height:26,background:"none"}},theme:b("SUIBusinessTheme"),value:this.state.inputValue})}),b("React").jsx(b("SUIButton.react"),{"data-testid":"add_label",disabled:this.state.inputValue===i||!this.state.isNameValid,label:h._("Add Label"),onClick:this.$1,theme:b("SUIBusinessTheme"),use:"confirm"})]})})})};return c}(b("React").PureComponent);a.propTypes={onAddLabel:b("prop-types").func.isRequired,hasErrorState:b("prop-types").func,maxLength:b("prop-types").number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialog.react",["cx","fbt","CustomLabelUtils","FluxContainer","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLabelsDialogLabelRecord.react","PagesManagerInboxLabelsDialogNewLabelForm.react","React","ScrollableArea.react","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CustomLabelUtils").TAG_LIMIT,j=350,k=500,l=276,m=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.$2(!0,a)},d.$3=function(){var a=b("nullthrows")(d.state.deleteConfirmationDialogProps.label);d.props.onRemoveLabelFromThread(a);d.props.onDeleteLabel&&d.props.onDeleteLabel(a.id,a.name);d.$2(!1)},d.$5=function(a,b){d.props.onCreateLabel&&d.props.onCreateLabel(a,b)},d.$6=function(a){var c=d.state.activeSearchLabels.map(function(a){return a.getTitle()});c.indexOf(a.name)!==-1&&(b("PagesManagerInboxFilterAction").removeCustomLabel(a,d.props.pageID),b("PagesManagerInboxFilterAction").addCustomLabel(a,d.props.pageID));d.props.onUpdateLabel&&d.props.onUpdateLabel(a)},d.$7=function(a){if(d.props.labels.has(a))return h._("Label name must be unique.");if(a.indexOf(":")!==-1)return h._("Label name can not contain ':'.");return d.props.labels.size>=i?h._("You've reached the 200 labels limit. You can delete labels to add more."):null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),deleteConfirmationDialogProps:{show:!1,label:null}}};var d=c.prototype;d.$2=function(a,c){this.setState({deleteConfirmationDialogProps:{show:a,label:a?b("nullthrows")(c):null}})};d.$4=function(){var a=this,c;return(c=b("React")).jsxs(b("XUIDialog.react"),{"data-testid":"confirm_dialog",layerHideOnBlur:!1,onToggle:function(b){return!b&&a.$2(b)},shown:this.state.deleteConfirmationDialogProps.show,width:j,children:[c.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:h._("Delete Label From Page?")}),c.jsx(b("XUIDialogBody.react"),{children:h._("Deleted labels are removed and will no longer be used to describe or organize anyone on your Page.")}),c.jsxs(b("XUIDialogFooter.react"),{children:[c.jsx(b("XUIDialogCancelButton.react"),{}),c.jsx(b("XUIDialogButton.react"),{action:"confirm","data-testid":"delete_label_confirm",label:h._("Delete Label"),onClick:this.$3,use:"confirm"})]})]})};d.$8=function(){return b("React").jsx(b("PagesManagerInboxLabelsDialogNewLabelForm.react"),{hasErrorState:this.$7,maxLength:this.props.maxLength,onAddLabel:this.$5})};d.$9=function(){var a=this;if(this.props.labels.size===0)return null;var c=b("React").jsx(b("XUICard.react"),{children:this.props.labels.toArray().map(function(c){return b("React").jsx(b("PagesManagerInboxLabelsDialogLabelRecord.react"),{hasErrorState:a.$7,label:c,maxLength:a.props.maxLength,onDelete:a.$1,onUpdate:a.$6},c.id)})});return this.props.labels.size>m?b("React").jsx(b("ScrollableArea.react"),{className:"_73kz",maxHeight:l,children:c}):c};d.render=function(){var a;return(a=b("React")).jsxs(b("XUIDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:k,children:[a.jsx(b("XUIDialogTitle.react"),{children:h._("Manage Labels")}),a.jsxs(b("XUIDialogBody.react"),{children:[a.jsx("div",{className:"_3uqr",children:h._("Use labels to help you describe and organize people. Labels can be about anything, such as customer type or previous orders. Only people who manage your Page can see labels.")}),this.$8(),this.$9(),this.$4()]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a){var c=a.error;a=a.props;d.$1(a,c);return a&&!c?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.listItemKey,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithMessengerThreadQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerInboxNewMessageBasicContainer.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.listItemKey!==null&&this.props.listItemKey!==void 0&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return this.props.listItemKey===null||this.props.listItemKey===void 0||this.props.listItemKey===0?null:b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxNewMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:this.props.listItemKey,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID},this.props))})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxProfilePicContainer.react",["PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","nullthrows","PagesManagerInboxProfilePicContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h="/images/pages/wec/wec-group-silhouette.png",i="/images/pages/wec/wec-silhouette.png";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d;d=(d=this.props)!=null?(d=d.item)!=null?(d=d.thumbnail)!=null?d.uri:d:d:d;c=b("nullthrows")((c=this.props)!=null?(c=c.item)!=null?c.comm_type:c:c);a=b("nullthrows")((a=this.props)!=null?(a=a.item)!=null?a.comm_platform:a:a);d!=null&&(d.includes("wec-silhouette.png")?d=i:d.includes("wec-group-silhouette.png")&&(d=h));if(this.props.item.page_comm_item){var e;d=(e=this.props.item.page_comm_item.thumbnail)==null?void 0:e.uri}return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commType:c,commPlatform:a,imageSize:this.props.imageSize,imageURI:d,showPlatformBadge:this.props.showPlatformBadge})};return c}(b("React").PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxProfilePicContainer_item.graphql")})}),null);
__d("PagesManagerInboxRealtimeClock.react",["DateTime","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=6e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={currentTime:b("DateTime").now(c.timezoneID)};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=setInterval(function(){return a.setState({currentTime:b("DateTime").now(a.props.timezoneID)})},g)};d.componentWillUnmount=function(){this.$1&&clearInterval(this.$1)};d.render=function(){return b("React").jsx("span",{children:this.state.currentTime.format("g:i A")})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSearchTokenRenderer.react",["cx","PagesManagerInboxLabel.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.entry.getData();return b("React").jsx(b("PagesManagerInboxLabel.react"),{className:this.props.className?this.props.className:"_22op",color:a.color,id:a.id,isToken:!0,name:a.name,onRemove:this.props.onRemove,searchOnClick:!0},a.name)};return c}(b("React").PureComponent);a.propTypes={entry:b("prop-types").object,onRemove:b("prop-types").func};e.exports=a}),null);
__d("PagesManagerInboxDeleteNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxDeleteNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxDeleteNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("AssignedInstagramUserSerializedCryptoAuthTokenQuery",["RelayFBEnvironment","RelayModern","promiseDone","AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql");a=function(a,c){b("promiseDone")(h(b("RelayFBEnvironment"),i,{pageID:a}),function(a){c((a=a.page)==null?void 0:(a=a.admin_info)==null?void 0:a.assigned_instagram_user_serialized_crypto_auth_token)})};e.exports={getAssignedInstagramUserSerializedCryptoAuthToken:a}}),null);
__d("InstagramDirectDeltaHandler",["IGMessageDataMutateAction","IGMessageInboxStore","PagesCommsInboxTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="add",h="replace",i="remove",j=1,k=2,l=8;a={_convertToItemTypeEnum:function(a){__p&&__p();switch(a){case"text":return"TEXT";case"media":return"MEDIA";case"like":return"LIKE";case"voice_media":return"VOICE_MEDIA";case"raven_media":return"RAVEN_MEDIA";case"media_share":return"MEDIA_SHARE";case"story_share":return"STORY_SHARE";case"reel_share":return"REEL_SHARE";case"profile":return"PROFILE";case"felix_share":return"FELIX_SHARE";case"action_log":return"ACTION_LOG";case"placeholder":return"PLACEHOLDER";case"link":return"LINK";case"animated_media":return"ANIMATED_MEDIA";default:return"UNSUPPORTED"}},_getThreadIDFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="threads")return a[b+1];return""},_getIsMarkAsSeenFromPath:function(a){a=a.split("/");return a[a.length-1]==="has_seen"},_getUserIdFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="participants")return a[b+1];return""},_getBestVideoURLAndDimensions:function(a){__p&&__p();if(a===null||a===void 0||a.length===0)return null;var b=0,c=!1;for(var d=0;d<a.length;++d)if(a[d].width===480){c=!0;d===0?b=d:b=d-1;break}c===!1&&(b=a.length-1);return{uri:a[b].url,width:a[b].width,height:a[b].height}},_getBestImageURLAndDimensions:function(a){__p&&__p();if(a.candidates===null||a.candidates===void 0||a.candidates.length===0)return null;var b=!1;for(var c=0;c<a.candidates.length;++c)if(a.candidates[c].width===480)if(c===0)return{uri:a.candidates[c].url,width:a.candidates[c].width,height:a.candidates[c].height};else return{uri:a.candidates[c-1].url,width:a.candidates[c-1].width,height:a.candidates[c-1].height};if(b===!1)return{uri:a.candidates[a.candidates.length-1].url,width:a.candidates[a.candidates.length-1].width,height:a.candidates[a.candidates.length-1].height}},_getMediaTypeString:function(a){switch(a){case 1:return"IMAGE";case 2:return"VIDEO";default:return""}},_getRavenMediaViewMode:function(a){switch(a){case"replayable":return"REPLAYABLE";case"permanent":return"PERMANENT";case"once":return"VIEW_ONCE"}},_getMediaPayload:function(a){return a===null||a===void 0?null:{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at}},_getReactions:function(a,c,d){__p&&__p();if(a===null||a===void 0)return{likes_count:0};c=b("IGMessageInboxStore").getThread(c,d).getValue();if(c===null)return;var e=(d=c)!=null?(d=d.thread_users)!=null?d.nodes:d:d;if(e===null||e===void 0)return;c=a.likes.map(function(a){var b;return{instagram_user_id:a.sender_id.toString(),profile_picture:{uri:(b=e.find(function(b){return b.instagram_user_id===a.sender_id.toString()}))!=null?(b=b.profile_picture)!=null?b.uri:b:b}}});return{likes_count:a.likes_count,likes:c}},_getMediaShareMediaSource:function(a){switch(a.media_type){case j:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:null};case k:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}}},_getMediaShareSources:function(a){var b=this;switch(a.media_type){case j:case k:return[this._getMediaShareMediaSource(a)];case l:return a.carousel_media.map(function(a){return b._getMediaShareMediaSource(a)})}return[]},_getProfileSharePayload:function(a){var b=this,c=a.profile;if(c===null||c===void 0)return null;a=a.preview_medias===null||a.preview_medias===void 0?null:a.preview_medias.map(function(a){return b._getBestImageURLAndDimensions(a.image_versions2)});return{user:{instagram_user_id:c.pk,username:c.username,name:c.full_name,profile_picture:{uri:c.profile_pic_url}},media:a}},_getMediaSharePayload:function(a){return a===null||a===void 0?null:{user:{instagram_user_id:a.user.pk,username:a.user.username,name:a.user.full_name,profile_picture:{uri:a.user.profile_pic_url}},media:this._getMediaShareSources(a),text:(a=(a=a)!=null?(a=a.caption)!=null?a.text:a:a)!=null?a:""}},_getUserFromShare:function(a){return a===null||a===void 0?null:{instagram_user_id:a.pk.toString(),username:a.username,name:a.full_name,profile_picture:{uri:a.profile_pic_url}}},_getStoryMedia:function(a){return a===null||a===void 0?null:[{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at,media_owner:this._getUserFromShare(a.user)}]},__getFelixShareMedia:function(a){return a===null||a===void 0?null:[{media_type:a.media_type,image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}]},_getStoryType:function(a){switch(a){case"user_reel":return"USER_STORY";case"highlight_reel":return"HIGHLIGHT_STORY";case"ads_reel":return"ADS_STORY"}},_getStorySharePayload:function(a){if(a===null||a===void 0)return null;var b=this._getStoryMedia(a.media);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.media)!=null?b.user:b:b),story_type:this._getStoryType(a.reel_type),text:a.text,title:a.title,message:a.message}},_getFelixSharePayload:function(a){if(a===null||a===void 0)return null;var b=this.__getFelixShareMedia(a.video);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.video)!=null?b.user:b:b),text:a.text,title:a.video.title}},_getReelSharePayload:function(a){__p&&__p();var b;if(a===null||a===void 0)return null;var c=this._getStoryMedia(a.media),d;switch(a.type){case"mention":b=a.mentioned_user_id===a.reel_owner_id?(b=c)!=null?(b=b.media_owner)!=null?b.username:b:b:"";d={instagram_user_id:a.mentioned_user_id.toString(),username:b};break;case"reply":d=(b=c)!=null?(b=b[0])!=null?b.media_owner:b:b}return{media:c,user:d,story_type:this._getStoryType(a.reel_type),type:a.type.toUpperCase(),text:a.text,title:a.title,message:a.message}},_getSharePayload:function(a){switch(a.item_type){case"media_share":return this._getMediaSharePayload(a.media_share);case"story_share":return this._getStorySharePayload(a.story_share);case"reel_share":return this._getReelSharePayload(a.reel_share);case"felix_share":return this._getFelixSharePayload(a.felix_share)}},_getActionLogPayload:function(a){return a===null||a===void 0||a.hide_in_thread===1?null:{description:a.description,bold:a.bold}},_getLinkPayload:function(a){return a===null||a===void 0?null:{client_context:a.client_context,text:a.text,link_context:this._getLinkContext(a.link_context)}},_getLinkContext:function(a){return a===null||a==void 0?null:{link_url:a.link_url,link_title:a.link_title,link_summary:a.link_summary,link_image_url:a.link_image_url}},_getRavenMediaPayload:function(a){var b=a.raven_media;if(b===null||b===void 0)return null;var c=this._getRavenMediaViewMode(a.view_mode),d;c==="PERMANENT"&&(b.expiring_at=b.url_expire_at_secs,d=[this._getMediaPayload(b)]);return{media_type:this._getMediaTypeString(b.media_type),media:d,seen_user_ids:a.seen_user_ids,view_mode:c,seen_count:a.seen_count}},_getVisualMediaPayload:function(a){a=a.visual_media;if(a===null||a===void 0)return null;var b=this._getRavenMediaViewMode(a.view_mode),c=[];b==="PERMANENT"&&(a.expiring_at=a.url_expire_at_secs,c.push(this._getMediaPayload(a)));return{media_type:this._getMediaTypeString(a.media.media_type),media:c,seen_user_ids:a.seen_user_ids,view_mode:b,seen_count:a.seen_count}},_getPlaceholderPayload:function(a){return a===null||a===void 0?null:{title:a.title,message:a.message}},_getAnimatedMediaPayload:function(a){var b;return!a?null:{width:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.width:b:b:b)!=null?b:null,height:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.height:b:b:b)!=null?b:null,uri:(a=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.url:b:b:b)!=null?a:null}},_getVoiceMediaPayload:function(a){var b;return!a?null:{audio_src:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.audio_src:b:b:b,duration:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.duration:b:b:b}},getDeltaItem:function(a,b){return{token:a,item_id:b.item_id,sender_id:b.user_id.toString(),time_stamp:b.timestamp.toString(),ig_item_type:this._convertToItemTypeEnum(b.item_type),text:b.text,client_context:b.client_context,ig_placeholder:this._getPlaceholderPayload(b.placeholder),profileshare:this._getProfileSharePayload(b),ig_reaction:null,share:this._getSharePayload(b),action_log:this._getActionLogPayload(b.action_log),ig_thread_item_media:this._getMediaPayload(b.media),raven_media:this._getRavenMediaPayload(b)||this._getVisualMediaPayload(b),link_source:this._getLinkPayload(b.link),animated_media:this._getAnimatedMediaPayload(b.animated_media),voice_media:this._getVoiceMediaPayload(b.voice_media)}},processDeltaItem:function(a,c,d){__p&&__p();var e,f=d.value&&JSON.parse(d.value),j=this._getThreadIDFromPath(d.path);e=b("IGMessageInboxStore").getItemToken(a,j,(e=f==null?void 0:f.item_id)!=null?e:d==null?void 0:d.value);new(b("PagesCommsInboxTypedLogger"))().setFunnel("user_send_to_page").setCustomerID(j).setMessageID(e).setEvent("received_new_delta").setClientTime(Date.now()).setPageID(c).setMessagingPlatform("instagram_direct").log();switch(d.op){case g:var k=this.getDeltaItem(e,f);b("IGMessageDataMutateAction").createThreadItem(c,j,k);break;case h:if(this._getIsMarkAsSeenFromPath(d.path)){k=f.item_id;b("IGMessageDataMutateAction").markThreadAsSeen(c,j,k,f.timestamp.toString(),this._getUserIdFromPath(d.path));break}b("IGMessageDataMutateAction").updateThreadReadStatus(c,j,f.read_state===0);b("IGMessageDataMutateAction").updateThreadFollowUpStatus(c,j,f.thread_label===1);if(f.thread_id&&f.items&&f.items[0]){k=b("IGMessageInboxStore").getItemToken(a,f.thread_id,f.items[0].item_id);d=this.getDeltaItem(k,f.items[0]);b("IGMessageDataMutateAction").createThreadItem(c,j,d);break}a=this._getReactions(f.reactions,c,j);k=this._getRavenMediaPayload(f)||this._getVisualMediaPayload(f);b("IGMessageDataMutateAction").updateThreadItem(c,j,e,{ig_reaction:a,raven_media:k});break;case i:if(j&&!f){b("IGMessageDataMutateAction").deleteThread(c,j);break}b("IGMessageDataMutateAction").deleteThreadItem(c,j,e);break;default:return}}};e.exports=a}),null);
__d("IGMqttChannel",["FacebookAppIDs","MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";b("MqttEnvInitializer").initialize();e.exports=new(b("MqttChannel"))({endpoint:(a=b("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:b("FacebookAppIDs").PAGE_INBOX,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:!0})}),null);
__d("PageInstagramDirectSyncProtocolEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MQTT_CONNECTED:"mqtt_connected",MQTT_ERROR_RECEIVED:"mqtt_error_received",AUTH_TOKEN_FETCHED:"auth_token_fetched",IRIS_CONNECTION_REQUEST:"iris_connection_request",IRIS_SUBSCRIPTION_PUBLISHED:"iris_subscription_published",IRIS_SUBSCRIPTION_RESPONSE_EMPTY:"iris_subscription_response_empty",IRIS_SUBSCRIPTION_RESPONSE_RECEIVED:"iris_subscription_response_received"})}),null);
__d("InstagramDirectMessageEventStream",["AssignedInstagramUserSerializedCryptoAuthTokenQuery","IGMessageDataMutateAction","IGMessagingLocalIDs","IGMqttChannel","InstagramDirectDeltaHandler","MercurySingletonProvider","MercurySyncDeltaHolder","MqttLogger","PageInstagramDirectSyncProtocolEvent","PageInstagramDirectSyncProtocolTypedLogger","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery").getAssignedInstagramUserSerializedCryptoAuthToken;a=function(){__p&&__p();a.getForFBID=function(a){return h.getForFBID(a)};function a(a){__p&&__p();var c=this;this.$17=function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").AUTH_TOKEN_FETCHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log();a={seq_id:c.$5,snapshot_at_ms:c.$10!==null&&c.$10!==void 0?c.$10:Date.now(),subscription_type:"all_message",serialized_crypto_auth_token:a};c.$3.publish("/ig_sub_iris",JSON.stringify(a));new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_PUBLISHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log()};this.$4="Disconnected";this.$6=[];this.$2=b("MqttLogger").getInstance();this.$7=b("MercurySyncDeltaHolder").getForFBID(a);this.$5=0;this.$9=!1;this.$12=!1}var c=a.prototype;c.getLatestIrisSeqID=function(){return this.$5};c.addDeltaStreamListener=function(a){this.$6.push(a)};c.onInboxLoad=function(a,c,d,e,f,g){__p&&__p();var h=this;e===void 0&&(e=null);f===void 0&&(f=null);this.$5=a;this.$8=c;this.$1=d;this.$9=!1;this.$7.updateLastSeqIDAndClearHistory(a);this.$10=f;this.$12=g;(this.$3===null||this.$3===void 0)&&(this.$11=b("IGMessagingLocalIDs").generateOfflineThreadingID(Date.now()),this.$3=e||b("IGMqttChannel"),this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){h.$4!=="Connected"&&a==="Connected"&&(new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_CONNECTED).setPageID(h.$1).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$13()),h.$4=a},onJSError:function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_ERROR_RECEIVED).setPageID(h.$1).addToExtraData("error",a.message).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$14(a.message)}}),this.$3.subscribe("/ig_sub_iris_response",function(a){return h.$15(a)}),this.$3.subscribe("/ig_message_sync",function(a){return h.$16(a)}),this.$3.subscribe("/notify_disconnect",function(a){return h.$14(a)}))};c.$13=function(){if(this.$12){var a;a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramDirectConfig)==null?void 0:a.chatToken;this.$17(a)}else g(this.$1,this.$17)};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$2.logError(a,"Unable to process data")}return b};c.$15=function(a){a=this.$18(a);if(a===null||a===void 0){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_EMPTY).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log();return}new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_RECEIVED).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log()};c.$16=function(a){var b=this;a=this.$18(a);if(a===null||a===void 0)return;a.forEach(function(a){a.data.forEach(function(c){b.$7.push(a.seq_id,c),b.$19()})})};c.$19=function(){__p&&__p();if(this.$9)return;var a=this.$7.peek();if(a===null||a===void 0)return;a=a-this.$7.getLastSeqID();if(a===1){var c=this.$7.pop();if(!c)return;var d=c.seqID;c=c.delta;this.$5=d;this.$7.updateLastSeqID(d);b("InstagramDirectDeltaHandler").processDeltaItem(this.$8,this.$1,c);this.$19()}else a<=0?(this.$7.pop(),this.$19()):(this.$9=!0,b("IGMessageDataMutateAction").forceFetchInbox(this.$1,20,"TODO",!1,!1,null,this.$12))};c.$14=function(a){this.$4="Disconnected",this.$2.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$2.bumpCounter(a+"_request"),this.$6.forEach(function(b){return b.onStreamDisconnect(a)})};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("CRMEventsLogger",["CRMEventsTypedLogger"],(function(a,b,c,d,e,f){a={log:function(a,c,d,e,f,g){a=new(b("CRMEventsTypedLogger"))().setPageID(a).setEvent(c).setUIComponent(d).setUISurface(e).setPageContactID(f).setIsServerLog(!1);g!==null&&g!==void 0&&a.updateExtraData(g);a.logVital()}};e.exports=a}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Actions");b=g._("Approve");c=g._("Approve with notes");d=g._("Add Appointment");f=g._("Copy Booking Link");var h=g._("Copied"),i=g._("Archive"),j=g._("Archive Request"),k=g._("Back"),l=g._("Cancel Appointment"),m=g._("Cancel Appointment Only"),n=g._("Cancel Entire Series"),o=g._("Cancel This and Future Appointments"),p=g._("Delete Event"),q=g._("Confirm Appointment"),r=g._("Confirm Changes"),s=g._("Create Appointment"),t=g._("Decline Appointment"),u=g._("Decline"),v=g._("Delete"),w=g._("Done"),x=g._("Edit"),y=g._("Edit Appointment"),z=g._("Save"),A=g._("Schedule"),B=g._("Reschedule"),C=g._("Schedule Appointment"),D=g._("Skip For Now"),E=g._("Delete Personal Event"),F=g._("Delete Personal Event Only"),G=g._("Delete This and Future Personal Events"),H=g._("Update Appointment Only"),I={CALENDAR:{title:g._("Calendar")},CONTACTS:{title:g._("Contacts")},REQUESTS:{title:g._("Requests")},SETTINGS:{title:g._("Appointment Settings")}},J={REQUEST:"REQUEST",ARCHIVE:"ARCHIVE"};g={REQUEST:{label:g._("Pending Requests"),key:J.REQUEST},ARCHIVE:{label:g._("Archived Requests"),key:J.ARCHIVE}};e.exports={ACTIONS:a,ADD_APPOINTMENT:d,APPROVE:b,APPROVE_WITH_NOTES:c,ARCHIVE:i,ARCHIVE_REQUEST:j,BACK:k,CANCEL_APPOINTMENT:l,CANCEL_APPOINTMENT_ONLY:m,CANCEL_THIS_AND_FUTURE_APPOINTMENTS:o,CANCEL_ENTIRE_SERIES:n,COPIED_BOOKING_LINK:h,COPY_BOOKING_LINK:f,DELETE_PERSONAL_EVENT:E,DELETE_PERSONAL_EVENT_ONLY:F,DELETE_THIS_AND_FUTURE_PERSONAL_EVENTS:G,DELETE_EVENT:p,CONFIRM_APPOINTMENT:q,CONFIRM_CHANGES:r,CREATE_APPOINTMENT:s,DECLINE_APPOINTMENT:t,DECLINE:u,DELETE:v,DONE:w,EDIT:x,EDIT_APPOINTMENT:y,REQUEST_ARCHIVE_LABEL:g,RESCHEDULE:B,SCHEDULE:A,SCHEDULE_APPOINTMENT:C,SAVE:z,SIDEBAR_TABS:I,SKIP_FOR_NOW:D,UPDATE_APPOINTMENT_ONLY:H}}),null);
__d("ServicesUINoProfileImage.react",["cx","FDSText.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=a.letter;return b("React").jsx("div",{className:b("joinClasses")("_6ts_"+(d==="large"?" _6tt0":"")+(d==="small"?" _6tt1":"")+(d==="xsmall"?" _8jmv":"")+(d==="xlarge"?" _6-3z":""),c),children:b("React").jsx(b("FDSText.react"),{color:"white",size:"header2",children:a})})};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("ServicesUIProfileImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","size"]);return b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:b("joinClasses")("_6tsy"+(d==="large"?" _6tsz":"")+(d==="small"?" _6ts-":""),c)},a))};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("XCRMManualContactCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/contact_creation/dialog/",{appointment_id:{type:"FBID"},contact_id:{type:"FBID"},first_name:{type:"String"},from_split_flow:{type:"Bool",defaultValue:!1},last_name:{type:"String"},page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XCRMContactImportCsvUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/csv_import/",{page_id:{type:"FBID",required:!0}})}),null);
__d("ServicesClientsTabMainView.react",["CRMClientsMainView.react","CustomLabelUtils","PagesManagerCustomLabelsActions","PagesManagerCustomLabelsStore","React","RelayFBEnvironment","RelayModern","immutable","promiseDone","ServicesClientsTabMainViewLabelsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CustomLabelUtils").mergeContactAndCustomerLabels,i=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){__p&&__p();if(b("PagesManagerCustomLabelsStore").isInitialized())return;b("promiseDone")(j(b("RelayFBEnvironment"),g!==void 0?g:g=b("ServicesClientsTabMainViewLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){__p&&__p();var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=h(a,c);c=a.map(function(a){var b,c,d;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;a=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);if(c!=null&&b!=null&&a!=null)return[c,{name:c,id:b,color:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);i.initStore(a)})};d.render=function(){return b("React").jsx(b("CRMClientsMainView.react"),{contactID:this.props.contactID,pageID:this.props.pageID,height:this.props.height})};return c}(b("React").PureComponent);e.exports=a}),null);