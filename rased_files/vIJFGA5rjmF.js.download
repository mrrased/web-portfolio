if (self.CavalryLogger) { CavalryLogger.start_js(["z8W9+"]); }

__d("AdsGenericFilterOperatorConfigUtil",["AdsGenericFilterOperatorConfig","ex"],(function(a,b,c,d,e,f){function a(a){for(var c in b("AdsGenericFilterOperatorConfig")){var d=b("AdsGenericFilterOperatorConfig")[c];if(a===d.operator)return d}throw new Error(b("ex")('Invalid operator "%s"',a))}c={getConfigByOperator:a};e.exports=c}),null);
__d("AdsGenericFilterValueTextUtil",["fbt","invariant","AdsGenericFilterFieldType","AdsManagerNavigationGatingUtils","SearchableEntry","intlList","isTruthy"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function(a){return a};function a(a,b,c){var d=a.value,e="",f=typeof b.valueRenderer==="function"?b.valueRenderer:i;typeof d==="string"||typeof d==="number"?e=k(c,String(d),f):b.valueSetRenderer!=null?e=b.valueSetRenderer(f,b.values,d):b.getTokenTextByValue?e=b.getTokenTextByValue(d):Array.isArray(d)?e=l(c,d,f,a,!!b.applyOnly):h(0,1975,d);return e}function j(a,c){if(b("isTruthy")(c))for(var d in a){var e=a[d];if((e==null?void 0:e.value)===c)return e}return null}function k(a,b,c){a=j(a,b);return c(a?a.value:String(b))}function l(a,c,d,e,f){__p&&__p();var h="";if(f)h=b("AdsManagerNavigationGatingUtils").getIsOptedInModernization()?g._("{count} selected",[g._param("count",c.length)]):String(c.length);else{f=c;f.length===2&&e.field.type===b("AdsGenericFilterFieldType").DATE_RANGE&&(f=[f[0],""+(Number(f[1])-1)]);f=f.map(function(c){var e=String(c);c instanceof b("SearchableEntry")&&(e=c.getTitle());return k(a,e,d)});switch(e.operator){case"IN_RANGE":case"NOT_IN_RANGE":h=f.join(" - ");break;case"ALL":h=b("intlList")(f,b("intlList").CONJUNCTIONS.AND);break;case"NONE":h=b("intlList")(f,b("intlList").CONJUNCTIONS.NONE);break;default:h=b("intlList")(f,b("intlList").CONJUNCTIONS.OR)}}return h}c={getValueText:a};e.exports=c}),null);
__d("AdsCMSaveFilterSetDialog.react",["cx","fbt","FDSButton.react","LayerFadeOnHide","LayerHideOnEscape","LayerHideOnTransition","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","XUITextInput.react","trim"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={name:""},d.$2=function(a){d.setState({name:b("trim")(a.target.value," ")})},d.$3=function(){d.state.name&&d.$1()},d.$1=function(){d.props.onSave&&d.props.onSave(d.state.name),d.props.onHide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.refs.filterSetName.focusInput()};d.render=function(){var a;return(a=b("React")).jsxs(b("SUIModal.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnTransition:b("LayerHideOnTransition")},footer:a.jsx(b("SUIModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{isDisabled:!this.state.name,label:h._("Save"),use:"primary",onClick:this.$1}),secondaryButton:a.jsx(b("FDSButton.react"),{label:h._("Cancel"),use:"default",onClick:this.props.onHide}),theme:b("SUIBusinessTheme")}),header:a.jsx(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Save Filter")}),isShown:!0,label:h._("Save Filters"),theme:b("SUIBusinessTheme"),width:450,onHide:this.props.onHide,children:[a.jsx("div",{className:"_24ec",children:h._("You can save this filter to use again later.")}),a.jsx(b("XUITextInput.react"),{className:"_5mjr",maxLength:128,placeholder:h._("Enter a name for your saved filter..."),ref:"filterSetName",onChange:this.$2,onEnter:this.$3,onEsc:this.props.onHide})]})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCFCheckbox.react",["cx","Event","FDSSimplePopover.react","Keys","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(a){var c=b("Event").getKeyCode(a);(c===b("Keys").RETURN||c===b("Keys").SPACE)&&d.$2(a)};d.$5=function(){d.state.pressed||d.setState({pressed:!0})};d.$6=function(){d.state.pressed&&d.setState({pressed:!1})};d.$2=function(a){a.preventDefault(),d.props.onChange&&d.props.onChange(!d.props.checked,d.props.name||"",d.props.value)};d.$3=function(){d.setState({focused:!0})};d.$1=function(){d.setState({focused:!1,pressed:!1})};d.state={focused:!1,pressed:!1};return d}var d=c.prototype;d.render=function(){var a=this.props.checked,c=!!this.props.disabled,d=!c&&this.state.focused,e;this.props.helpText!=null&&this.props.helpText!==""&&(e=b("React").jsx(b("FDSSimplePopover.react"),{content:this.props.helpText,contentWidthUseSparingly:368}));var f=!c&&this.state.pressed;d=b("joinClasses")("_5y_b"+(this.props.inline?" _5y_c":"")+(a?" checked":"")+(c?" disabled":"")+(d?" focused":"")+(f?" pressed":""),this.props.className);f=c?-1:0;return b("React").jsxs("div",{"aria-checked":a,"aria-disabled":c,"aria-labelledby":this.props.label,className:d,"data-testid":this.props["data-testid"],role:"checkbox",tabIndex:f,onBlur:c?null:this.$1,onClick:c?null:this.$2,onFocus:c?null:this.$3,onKeyUp:c?null:this.$4,onMouseDown:c?null:this.$5,onMouseUp:c?null:this.$6,children:[b("React").jsx("i",{className:"_5y_d"}),b("React").jsxs("span",{className:"_5y_a",children:[this.props.label,e]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("BUIFilterTokenInputHelper",["invariant","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterFieldType","AdsGenericFilterOperatorConfigUtil"],(function(a,b,c,d,e,f,g){__p&&__p();var h=function(a){return a},i={},j=[["GREATER_THAN","LESS_THAN","EQUAL","NOT_EQUAL"],["CONTAIN","NOT_CONTAIN"],["IN_RANGE","NOT_IN_RANGE"],["IN","NOT_IN"],["BEFORE","AFTER"],["ANY","ALL","NONE"]];function k(a,c){return a.name===c.name?!0:a.type!==b("AdsGenericFilterFieldType").NUMBER_SET&&a.type!==b("AdsGenericFilterFieldType").STRING_SET&&a.type===c.type}function l(a,b){__p&&__p();if(a===b)return!0;var c;a<b?c=a+","+b:c=b+","+a;if(c in i)return i[c];var d,e=!1,f=j.length;for(d=0;d<f;d++){var g=j[d];if(g.indexOf(a)>-1&&g.indexOf(b)>-1){e=!0;break}}i[c]=e;return e}function a(a,c){__p&&__p();var d=c.fieldConfig,e=d?d.field.name:null,f={},i=[],j;if(!d&&a.defaultFilter){var k=a.defaultFilter.field;d=b("AdsGenericFilterFieldConfigUtil").getConfigByField(a.fieldsConfig,k);e=d.field.name}a.filterBlacklist&&a.filterBlacklist.forEach(function(a){a instanceof b("AdsGenericFilter")||g(0,4772),f[a.field.name]=!0});a.validFieldConfigs.forEach(function(a){var b=a.field.name;f[b]||(b===e&&(j=!0),i.push(a))});j||(d=i[0],c.operatorConfig=void 0);d||g(0,4773);c.fieldConfig=d;c.fieldConfigOptions=i;c.fieldValueRenderer=d.valueRenderer||h;c.fieldValueParser=d.valueParser||h}function c(a,c){var d=c.fieldConfig;d||g(0,4774);var e=c.operatorConfig,f=e&&e.operator,h=[],i;!e&&a.defaultFilter&&(f=a.defaultFilter.operator,e=b("AdsGenericFilterOperatorConfigUtil").getConfigByOperator(f));d&&d.operators.forEach(function(a){a.operator===f&&(i=!0),h.push(a)});i||(e=h[0]);c.operatorConfig=e;c.operatorConfigOptions=h}function d(a,b){__p&&__p();var c=b.fieldConfig,d=b.value,e=b.valueField,f=b.valueOperator,g=m(c);if(d===void 0&&a.defaultFilter)d=c.defaultValue||a.defaultFilter.value,e=a.defaultFilter.field,f=a.defaultFilter.operator;else if(c&&!c.isFieldOnly){a=b.operatorConfig.operator;var h=c.field;if(!f||!a||!l(f,a)||!k(e,h)){f=a;e=h;switch(a){case"EQUAL":case"NOT_EQUAL":h=c.values;Array.isArray(h)&&h.length?d=h[0].value:d=g;break;case"IN_RANGE":case"NOT_IN_RANGE":d=[g,g];break;case"IN":case"NOT_IN":d=[];break;case"ANY":case"ALL":case"NONE":d=[];break;default:d=g}}}else d=g;b.value=d;b.valueField=e;b.valueOperator=f}function f(a,b){__p&&__p();var c=b.fieldConfig,d=c.supportedPrefixes;c=b.prefixes;!c&&a.defaultFilter&&(c=a.defaultFilter.prefixes.map(function(a){return a}));!d?c=[]:!c||c.length!==d.length?c=d.map(function(a){return null}):c=c.map(function(a,b){return d[b].prefixes.find(function(b){return a&&b.prefix===a})?a:null});b.prefixes=c;b.prefixHoverShown=b.prefixHoverShown||!1}function m(a){return a.isFieldOnly?a.defaultValue||0:a.field.type===b("AdsGenericFilterFieldType").DATE_RANGE?null:""}a={calibrateFieldState:a,calibrateOperatorState:c,calibrateValueState:d,calibratePrefixState:f};e.exports=a}),null);
__d("BUIFilterTokenSearchableInputUtils",["invariant","SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getSUIFieldSearchSource:function(a,c){__p&&__p();var d=this;if(!c)return a.map(function(a){return d.getSearchableEntry(a)});var e=new Map();a.forEach(function(a){var b=a.field.toString();e.has(b)&&g(0,167,b);e.set(b,a)});var f=[];c.forEach(function(a){switch(a.type){case"separator":break;case"item":var c=e.get(a.item);f.push(d.getSearchableEntry(c));break;case"group":a.children.forEach(function(c){c=e.get(c);c&&f.push(new(b("SearchableEntry"))({auxiliaryData:c,title:c.text,type:a.label,uniqueID:c.field.toString()}))});break}});return f},getSearchableEntry:function(a){return new(b("SearchableEntry"))({auxiliaryData:a,title:a.text,uniqueID:a.field.toString()})}};e.exports=a}),null);
__d("BUIFilterTokenTextInput.react",["cx","fbt","BUIComponent","ClockFormatConverter","ContextualDialog.react","Keys","React","ReactDOM","focusNode","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=/^-?\d+\.?\d*$/;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$BUIFilterTokenTextInput4=function(a){a.keyCode===b("Keys").RETURN&&d.props.onEnter?d.props.onEnter(a):a.keyCode===b("Keys").ESC&&d.props.onEscape&&d.props.onEscape(a)};d.$BUIFilterTokenTextInput7=function(a){__p&&__p();var c=a.target.value,e=d.$BUIFilterTokenTextInput3(c);if(c!==e){a.preventDefault();if(d.state.tooltip===null){var f;switch(d.props.format){case"number":case"percentage":f=h._("Please enter numbers only");break;case"duration":f=h._("Please use clock format (mm {Time Separator} ss)",[h._param("Time Separator",b("ClockFormatConverter").TIME_SEPARATOR)]);break;default:return}d.setState({tooltip:f})}return}d.state.tooltip&&d.setState({tooltip:null});d.$BUIFilterTokenTextInput8()&&d.setState({tempValue:e});d.props.onChange(e)};d.$BUIFilterTokenTextInput5=function(){d.setState({focused:!0})};d.$BUIFilterTokenTextInput6=function(){d.setState(function(b,a){return{focused:!1,tooltip:null,tempValue:d.$BUIFilterTokenTextInput8()?null:b.tempValue}})};d.$BUIFilterTokenTextInput8=function(){return d.props.format==="currency"||d.props.format==="percentage"};d.$BUIFilterTokenTextInput1=null;d.state={focused:!1,tempValue:null,tooltip:null};return d}var d=c.prototype;d.componentDidMount=function(){this.props.shouldFocus&&this.$BUIFilterTokenTextInput2()};d.UNSAFE_componentWillReceiveProps=function(a){a.shouldFocus&&!this.state.focused&&this.$BUIFilterTokenTextInput2()};d.componentWillUnmount=function(){clearTimeout(this.$BUIFilterTokenTextInput1)};d.$BUIFilterTokenTextInput2=function(){var a=this,c=b("ReactDOM").findDOMNode(this.refs.input);c instanceof HTMLElement&&(this.$BUIFilterTokenTextInput1=setTimeout(function(){b("focusNode")(c),a.$BUIFilterTokenTextInput1=null},400))};d.renderLayers=function(){var a=this;if(this.state.tooltip)return b("React").jsx(b("ContextualDialog.react"),{contextRef:function(){return a.refs.main},shown:!0,position:"above",children:b("React").jsx("div",{className:"_48f_",children:this.state.tooltip})},"layer");else return null};d.render=function(){var a=this.$BUIFilterTokenTextInput3(this.props.value),c=this.props.placeholder||"",d="_48g0"+(this.state.focused?" _48g1":""),e="_48g2"+(a?" _48g3":"");return b("React").jsxs("span",{className:"_4m56",children:[b("React").jsxs("div",{className:d,ref:"main",children:[b("React").jsx("div",{"aria-hidden":"true",className:"_48g4",children:(a||"-").replace(/\s/g,"-")}),b("React").jsx("div",{"aria-hidden":"true",className:"_48g5",children:c.replace(/\s/g,"-")}),b("React").jsx("div",{className:"_48g6",children:b("React").jsx("input",{"data-testid":"filter-token-text-input",title:c,placeholder:c,onKeyDown:this.$BUIFilterTokenTextInput4,onFocus:this.$BUIFilterTokenTextInput5,onBlur:this.$BUIFilterTokenTextInput6,onChange:this.$BUIFilterTokenTextInput7,className:e,type:"text",value:this.state.tempValue!==null?this.state.tempValue:a,ref:"input"})})]}),this.renderLayers()]})};d.$BUIFilterTokenTextInput3=function(a){if(a)switch(this.props.format){case"number":a=i.test(a)?a:"";break;case"duration":a=b("ClockFormatConverter").validate(a,!0)?a:"";break;case"percentage":var c=parseFloat(a);isNaN(c)&&(a="")}return a};return c}(b("BUIComponent"));a.propTypes={format:(c=b("prop-types")).oneOf(["string","number","currency","duration","percentage"]),label:c.string,shouldFocus:c.bool,value:c.string.isRequired,onChange:c.func.isRequired,onEnter:c.func,onEscape:c.func};e.exports=a}),null);
__d("BUIFilterTokenTextSetSelector.react",["cx","fbt","invariant","AdsCFCheckbox.react","BUIComponent","ContextualLayer.react","LayerHideOnBlur","React","ScrollableArea.react","XUIButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_25sq","aria-selected":this.props.checked,children:b("React").jsx(b("AdsCFCheckbox.react"),{name:this.props.optionName,onChange:this.props.onOptionChange,checked:this.props.checked,value:this.props.value,label:this.props.text})})};return c}(b("React").Component);a.propTypes={checked:(c=b("prop-types")).bool.isRequired,text:c.string.isRequired,value:c.oneOfType([c.string,c.number,c.object])};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showMenu:!1},d.$BUIFilterTokenTextSetSelector1=function(){d.setState(function(a){return{showMenu:!a.showMenu}})},d.$BUIFilterTokenTextSetSelector2=function(a,c,e){var f=[];b("React").Children.forEach(d.props.children,function(b,d){d="option_"+d;d===c?a&&f.push(b.props.value):b.props.checked&&f.push(b.props.value)});d.props.onChange(f)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=[];b("React").Children.forEach(this.props.children,function(b){b&&b.type===c.Option||i(0,6154),b.props.checked&&a.push(b.props.text)});var d=a.length?a.join(", "):h._("choose from..."),e=b("joinClasses")("_3nk6",this.props.className);return b("React").jsxs("span",{className:e,children:[b("React").jsx(b("XUIButton.react"),{use:"default",className:"_3nk7",ref:"menuOpener",onClick:this.$BUIFilterTokenTextSetSelector1,label:d,suppressed:!0}),this.renderLayers()]})};d.renderLayers=function(){var a=this;if(this.state.showMenu){var c=b("React").Children.map(this.props.children,function(c,d){return b("React").cloneElement(c,{optionName:"option_"+d,onOptionChange:a.$BUIFilterTokenTextSetSelector2})});return b("React").jsx(b("ContextualLayer.react"),{onToggle:this.$BUIFilterTokenTextSetSelector1,behaviors:{LayerHideOnBlur:b("LayerHideOnBlur")},contextRef:function(){return a.refs.menuOpener},position:"below",shown:this.state.showMenu,children:b("React").jsx(b("ScrollableArea.react"),{className:"_25sp",maxHeight:190,role:"menu",children:c})},"menu")}else return null};return c}(b("BUIComponent"));d.propTypes={onChange:c.func.isRequired};d.Option=a;e.exports=d}),null);
__d("BUIFilterTokenTypeaheadInput.react",["cx","fbt","invariant","AbstractSearchSource","BUIComponent","React","SearchableEntry","XUIText.react","XUITokenizer.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$BUIFilterTokenTypeaheadInput2=function(a){if(c.$BUIFilterTokenTypeaheadInput6(a))return;var b=Array.from(c.props.entries);b.push(a);c.props.onChange(b)},c.$BUIFilterTokenTypeaheadInput3=function(a){var b;a=c.props.entries.indexOf(a);a>-1&&(b=Array.from(c.props.entries),b.splice(a,1));c.props.onChange(b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx(b("XUITokenizer.react"),{limit:this.$BUIFilterTokenTypeaheadInput1(),entries:this.props.entries,focusedOnInit:this.props.focusedOnInit,onAddEntryAttempt:this.$BUIFilterTokenTypeaheadInput2,onRemoveEntryAttempt:this.$BUIFilterTokenTypeaheadInput3,placeholder:this.props.placeholder,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,className:this.props.className,showEntriesOnFocus:this.props.showEntriesOnFocus}),this.$BUIFilterTokenTypeaheadInput4()]})};d.$BUIFilterTokenTypeaheadInput1=function(){this.props.maxTypeaheadTokens==null||this.props.maxTypeaheadTokens>0||i(0,6251);return this.props.maxTypeaheadTokens||j};d.$BUIFilterTokenTypeaheadInput5=function(){return this.props.entries.length===this.$BUIFilterTokenTypeaheadInput1()};d.$BUIFilterTokenTypeaheadInput6=function(a){var b=a.getUniqueID();a=this.props.entries;return a.some(function(a){return a.getUniqueID()===b})};d.$BUIFilterTokenTypeaheadInput4=function(){return!this.$BUIFilterTokenTypeaheadInput5()?null:b("React").jsx("div",{className:"_2pid",children:b("React").jsx(b("XUIText.react"),{size:"meta1",display:"block",children:h._("You've added the maximum number of tokens.")})})};return c}(b("BUIComponent"));a.defaultProps={focusedOnInit:!0,placeholder:h._("Add tokens ex. baseball, daycare etc.")};a.propTypes={entries:(c=b("prop-types")).arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,focusedOnInit:c.bool,maxTypeaheadTokens:c.number,onChange:c.func.isRequired,placeholder:c.node.isRequired,presenter:c.object,searchSource:c.instanceOf(b("AbstractSearchSource")).isRequired,searchSourceOptions:c.object};e.exports=a}),null);
__d("GeoBaseMultiSelector.react",["FDSBaseMultiSelector.react","FDSGeodesicThemeProvider.react","React","makeGeoComponent"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("FDSGeodesicThemeProvider.react"),{children:b("React").jsx(b("FDSBaseMultiSelector.react"),babelHelpers["extends"]({},a))})}e.exports=b("makeGeoComponent")("GeoBaseMultiSelector",a)}),null);
__d("BUIFilterTokenInput.react",["ix","csx","cx","fbt","glyph","invariant","AdsAdoptionCloseButton.react","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterFieldType","BUIComponent","BUIDatePicker.react","BUIDateRangePicker.react","BUIDateRangeUtils","BUIDateTimePicker.react","BUIFilterTokenInputHelper","BUIFilterTokenSearchableInputUtils","BUIFilterTokenTextInput.react","BUIFilterTokenTextSetSelector.react","BUIFilterTokenTypeaheadInput.react","ClockFormatConverter","DateConsts","DateTime","DOM","Event","FDSGeodesicThemeProvider.react","FDSTooltip.react","GeoBaseMultiSelector.react","GeoButton.react","GeoDropdownMenu.react","GeoMenuItem.react","GeoMultiSelectorItem.react","GeoSelector.react","GeoSelectorItem.react","GeoTooltip.react","Image.react","LocalDate","LocalDateInterval","Parent","PositionEnum","React","ReactDOM","Rect","StaticSearchSource","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIGlyphIcon.react","SUIPopover.react","SUIRadioList.react","SUISearchableSelector.react","prop-types","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUISelectorOptionGroup.react","SUISelectorSeparator.react","SUISimplePopover.react","SUIText.react","Timezone","XUIButton.react","XUISelector.react","XUISpinner.react","XUIMenuStaticItem.react","XUISelectorButton.react","asset","autoFlipStyleProps","compactArray","joinClasses","cxMargin"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=b("DateConsts").MS_PER_SEC,n=b("SUIRadioList.react").Item,o=b("XUISelector.react").Option,p=b("BUIDateRangeUtils").isSameInterval,q=b("BUIFilterTokenTextSetSelector.react").Option,r=function(a){a=parseInt(a,10);return!isNaN(a)?b("LocalDate").fromUTCDate(new Date(a)):null},s=function(a,c){a=parseInt(a,10);return isNaN(a)?null:new(b("DateTime"))(a,c)};a={applyOnly:!1,autoOpenFieldSelector:!1,confirmOnBlur:!1,dismissOnBlur:!0,hasInitialFocus:!0,hasSearchableSelector:!1};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$BUIFilterTokenInput5=function(){d.props.useSUI_EXPERIMENTAL||d.refs.fieldSelector.showMenu()};d.$BUIFilterTokenInput18=function(){return d.refs.prefixLink};d.$BUIFilterTokenInput19=function(a,b){d.$BUIFilterTokenInput20({prefixes:d.state.prefixes.map(function(c,d){return a===d?b:c})})};d.$BUIFilterTokenInput21=function(){d.$BUIFilterTokenInput20({prefixHoverShown:!d.state.prefixHoverShown})};d.$BUIFilterTokenInput27=function(a){a.isDynamic&&l(0,164,a.field.toString());var c=!d.props.canAddStandalone,e=a.adsHelpLinkText?{tooltip:a.adsHelpLinkText}:{};return b("React").jsx(b("SUISelectorOption.react"),babelHelpers["extends"]({disabled:a.isStandalone&&c,icon:d.$BUIFilterTokenInput14(a.iconURI,a.largeIcon)},e,{value:a,children:a.text}),"field_option_"+a.field.toString())};d.$BUIFilterTokenInput31=function(a){var c=!d.props.canAddStandalone;return b("React").jsx(b("GeoMenuItem.react"),{description:a.adsHelpLinkText,label:a.text,isDisabled:a.isStandalone&&c,icon:d.$BUIFilterTokenInput14(a.iconURI,a.largeIcon),onClick:function(){return d.$BUIFilterTokenInput32(a)}},"field_option_"+a.field.toString())};d.$BUIFilterTokenInput36=function(){return b("React").jsx(b("GeoDropdownMenu.react"),{dropdownWidth:250,label:d.state.fieldConfig.text,children:d.state.fieldConfigOptions.map(d.$BUIFilterTokenInput31)})};d.$BUIFilterTokenInput40=function(){__p&&__p();var a=d.state.fieldConfig,c=d.state.fieldValueRenderer,e;switch(d.state.operatorConfig.operator){case"EQUAL":case"NOT_EQUAL":e=a.values.map(function(a){return b("React").jsx(o,{value:a.value,children:a.text||c(a.value)},a.value)});return b("React").jsx(t,{className:"_5b5s",onChange:d.$BUIFilterTokenInput53,defaultValue:d.state.value,children:e},"value_set_selector_"+a.field.name);default:if(d.props.useGeoOverride){e=a.values.map(function(a){return b("React").jsx(b("GeoMultiSelectorItem.react"),{value:a.value,label:a.text||c(a.value)},a.value)});return b("React").jsx(b("GeoBaseMultiSelector.react"),{displayValueType:"list",onChange:d.$BUIFilterTokenInput54,placeholder:j._("choose from..."),value:d.state.value,children:e})}e=a.values.map(function(a){var e=d.state.value.indexOf(a.value)>-1;return b("React").jsx(q,{value:a.value,text:a.text||c(a.value),checked:e},a.value)});return b("React").jsx(b("BUIFilterTokenTextSetSelector.react"),{className:"_5b5s _bm6",onChange:d.$BUIFilterTokenInput54,children:e})}};d.$BUIFilterTokenInput55=function(a){a=a&&a.length?a:"";d.$BUIFilterTokenInput20({value:a})};d.$BUIFilterTokenInput56=function(){var a=d.state.operatorConfig.operator;switch(a){case"GREATER_THAN":case"LESS_THAN":a=d.state.value;if(!a||!Number(a))return!1;break}return d.$BUIFilterTokenInput57()};d.$BUIFilterTokenInput57=function(){__p&&__p();if(d.state.fieldConfig.isFieldOnly)return!0;var a=d.state.value;if(a){var c=d.state.operatorConfig.operator;switch(c){case"IN_RANGE":case"NOT_IN_RANGE":if(!a[0]||!a[1]||Number(a[1])<=Number(a[0]))return!1;break;case"IN":case"NOT_IN":case"ANY":case"NONE":case"ALL":if(!Array.isArray(a)||!a.length)return!1;break}c=d.state.fieldConfig.field.type;switch(c){case b("AdsGenericFilterFieldType").DURATION:if(!b("ClockFormatConverter").validate(a))return!1;break}return!0}else return!1};d.$BUIFilterTokenInput11=function(){if(d.$BUIFilterTokenInput57()){var a=d.props.defaultFilter?j._("Apply"):j._("Add");return d.props.useGeoOverride?b("React").jsx(b("GeoButton.react"),{label:a,margin:"_3-8r",onClick:d.$BUIFilterTokenInput58,variant:"primary"}):b("React").jsx(b("XUIButton.react"),{className:"_5b5u _5b5v",label:a,use:"default",onClick:d.$BUIFilterTokenInput58})}return null};d.$BUIFilterTokenInput44=function(a){d.$BUIFilterTokenInput57()&&d.$BUIFilterTokenInput58(a)};d.$BUIFilterTokenInput58=function(a){a.preventDefault();a=d.state.fieldConfig.converter;a?d.setState({value:a.toIds(d.state.value)},function(){this.props.onSubmit(this.state.fieldConfig.field,this.state.operatorConfig.operator,this.state.value,this.state.prefixes)}):d.props.onSubmit(d.state.fieldConfig.field,d.state.operatorConfig.operator,d.state.value,d.state.prefixes)};d.$BUIFilterTokenInput59=function(a){a.preventDefault(),d.props.onCancel&&d.props.onCancel()};d.$BUIFilterTokenInput20=function(a){a=babelHelpers["extends"]({},d.state,a);d.setState(d.$BUIFilterTokenInput1(d.props,a))};d.$BUIFilterTokenInput60=function(a){var b=d.state.fieldValueParser;return b(a)};d.$BUIFilterTokenInput37=function(a){d.$BUIFilterTokenInput20({fieldConfig:a.value,shouldFocusInput:!0})};d.$BUIFilterTokenInput38=function(a){d.$BUIFilterTokenInput20({operatorConfig:a.value,shouldFocusInput:!0})};d.$BUIFilterTokenInput32=function(a){d.$BUIFilterTokenInput20({fieldConfig:a,shouldFocusInput:!0})};d.$BUIFilterTokenInput34=function(a){d.$BUIFilterTokenInput20({fieldConfig:a.getAuxiliaryData(),shouldFocusInput:!0})};d.$BUIFilterTokenInput24=function(a){d.$BUIFilterTokenInput20({operatorConfig:a,shouldFocusInput:!0})};d.$BUIFilterTokenInput45=function(a){d.$BUIFilterTokenInput20({value:d.$BUIFilterTokenInput60(a)})};d.$BUIFilterTokenInput49=function(a){a=a.toInstant(d.props.timezoneID)*m;d.$BUIFilterTokenInput20({value:d.$BUIFilterTokenInput60(a)})};d.$BUIFilterTokenInput48=function(a){a=a.interval;var b=a.start.toInstant(d.props.timezoneID)*m;a=a.end.toInstant(d.props.timezoneID)*m;b=[d.$BUIFilterTokenInput60(b),d.$BUIFilterTokenInput60(a)];d.$BUIFilterTokenInput20({value:b})};d.$BUIFilterTokenInput52=function(a){a=a.getUnixTimestampSeconds();d.$BUIFilterTokenInput20({value:d.$BUIFilterTokenInput60(a)})};d.$BUIFilterTokenInput50=function(a){a=a.getUnixTimestampSeconds();d.$BUIFilterTokenInput20({value:[d.$BUIFilterTokenInput60(a),d.state.value[1]]})};d.$BUIFilterTokenInput51=function(a){a=a.getUnixTimestampSeconds();d.$BUIFilterTokenInput20({value:[d.state.value[0],d.$BUIFilterTokenInput60(a)]})};d.$BUIFilterTokenInput46=function(a){d.$BUIFilterTokenInput20({value:[d.$BUIFilterTokenInput60(a),d.state.value[1]],shouldFocusInput:!1})};d.$BUIFilterTokenInput47=function(a){d.$BUIFilterTokenInput20({value:[d.state.value[0],d.$BUIFilterTokenInput60(a)]})};d.$BUIFilterTokenInput53=function(a){d.$BUIFilterTokenInput20({value:d.$BUIFilterTokenInput60(a.value)})};d.$BUIFilterTokenInput54=function(a){d.$BUIFilterTokenInput20({value:a.map(d.$BUIFilterTokenInput60,babelHelpers.assertThisInitialized(d))})};d.$BUIFilterTokenInput61=function(a){__p&&__p();if(!d.props.dismissOnBlur&&!d.props.confirmOnBlur)return;var c=a.target,e=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),f=d.refs.prefixSelector&&b("ReactDOM").findDOMNode(d.refs.prefixSelector);if(b("DOM").contains(e,c)||f&&b("DOM").contains(f,c)||b("Parent").bySelector(c,"._1t-2")||b("Parent").bySelector(c,"._5xr5")||b("Parent").bySelector(c,"._5b5q")||b("Parent").bySelector(c,"._5mwk")||b("Parent").bySelector(c,"._5c02")||b("Parent").bySelector(c,"._58zx"))return;f=c;while(f&&f.nodeType===1){f=f;if(f.getAttribute("role")==="menu")return;f=f.parentNode}f=b("Rect").getElementBounds(e);e=20;f=new(b("Rect"))(f.t-e,f.r+e,f.b+e,f.l-e);e=b("Rect").getElementBounds(c);if(f.contains(e))return;d.setState({shouldFocusInput:!1});d.props.confirmOnBlur&&d.$BUIFilterTokenInput56()?d.$BUIFilterTokenInput58(a):d.props.dismissOnBlur&&d.props.onCancel&&d.props.onCancel()};d.$BUIFilterTokenInput4=function(){d.$BUIFilterTokenInput62||(d.$BUIFilterTokenInput62=b("Event").listen(document,"click",d.$BUIFilterTokenInput61))};d.$BUIFilterTokenInput6=function(){d.$BUIFilterTokenInput62&&(d.$BUIFilterTokenInput62.remove(),d.$BUIFilterTokenInput62=null)};var e=c.applyOnly,f=c.hasInitialFocus;d.state=d.$BUIFilterTokenInput1(c,{shouldFocusInput:f!==void 0?f:!e});return d}var d=c.prototype;d.componentDidMount=function(){this.$BUIFilterTokenInput2=window.setTimeout(this.$BUIFilterTokenInput4,16),this.props.autoOpenFieldSelector&&!this.props.applyOnly&&(this.$BUIFilterTokenInput3=window.setTimeout(this.$BUIFilterTokenInput5,200))};d.componentWillUnmount=function(){window.clearTimeout(this.$BUIFilterTokenInput2),window.clearTimeout(this.$BUIFilterTokenInput3),this.$BUIFilterTokenInput6()};d.UNSAFE_componentWillReceiveProps=function(a){String(a.defaultFilter)!==String(this.props.defaultFilter)?this.setState(this.$BUIFilterTokenInput1(a,{})):this.setState(this.$BUIFilterTokenInput1(a,this.state))};d.render=function(){if(!this.state.fieldConfig)return b("React").jsx("i",{className:"hidden_elem"});var a=b("joinClasses")("_5b5o",this.props.className);if(this.props.applyOnly)return this.$BUIFilterTokenInput7(a);else if(this.state.fieldConfig.isFieldOnly)return this.$BUIFilterTokenInput8(a);else return this.$BUIFilterTokenInput9(a)};d.$BUIFilterTokenInput8=function(a){return b("React").jsxs("div",{className:a,children:[this.$BUIFilterTokenInput10(),this.$BUIFilterTokenInput11(),this.$BUIFilterTokenInput12()]})};d.$BUIFilterTokenInput7=function(a){a=b("joinClasses")(a,"_4cld");return b("React").jsxs("div",{className:a,children:[this.$BUIFilterTokenInput13(),this.$BUIFilterTokenInput11()]})};d.$BUIFilterTokenInput13=function(){!this.props.defaultFilter&&l(0,165);var a=b("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,this.props.defaultFilter.field),c=a.helpText,d=a.iconURI,e=a.largeIcon;a=a.text;var f=this.props.defaultFilter.value;c=c?b("React").jsx(b("SUISimplePopover.react"),{content:c,contentWidthUseSparingly:168,position:"below",theme:b("SUIBusinessTheme")}):null;return b("React").jsxs("div",{className:"_5b5t _2d2k",children:[this.$BUIFilterTokenInput14(d,e),b("React").jsxs("div",{className:"_5b5r",children:[j._("{field}: ({value})",[j._param("field",a),j._param("value",f.length)]),c]})]})};d.$BUIFilterTokenInput9=function(a){if(this.props.useGeoOverride){var c,d="_7ouk";return(c=b("React")).jsxs("div",{className:a,children:[c.jsxs("span",{className:"_8zlk",children:[c.jsx("div",{className:d,children:this.$BUIFilterTokenInput10()}),c.jsx("div",{className:d,children:this.$BUIFilterTokenInput15()}),c.jsx("div",{className:d,children:this.$BUIFilterTokenInput16()}),this.props.enableFilterPrefixes&&b("React").jsx("div",{className:d,children:this.$BUIFilterTokenInput17()})]}),this.$BUIFilterTokenInput11(),this.$BUIFilterTokenInput12()]})}return this.props.expandTokenInput?b("React").jsxs("div",{className:a,children:[b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput10()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput15()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput16()}),b("React").jsx("div",{className:"_7ouk",children:this.props.enableFilterPrefixes&&this.$BUIFilterTokenInput17()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput11()}),b("React").jsx("div",{className:"_7ouk",style:{marginTop:2},children:this.$BUIFilterTokenInput12()})]}):b("React").jsxs("div",{className:a,children:[b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput10()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput15()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput16()}),b("React").jsx("div",{className:"_7ouk",children:this.props.enableFilterPrefixes&&this.$BUIFilterTokenInput17()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput11()}),b("React").jsx("div",{className:"_7ouk",children:this.$BUIFilterTokenInput12()})]})};d.$BUIFilterTokenInput17=function(){return!this.state.fieldConfig.supportedPrefixes||this.state.fieldConfig.supportedPrefixes.length===0?b("React").jsx("span",{}):b("React").jsxs("div",{children:[b("React").jsx("span",{ref:"prefixLink",className:b("joinClasses")("_3-8r","_2pir"),onMouseEnter:this.$BUIFilterTokenInput21,onMouseLeave:this.$BUIFilterTokenInput21,children:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:g("540232"),srcHover:g("540233"),hover:this.state.prefixHoverShown,style:{cursor:"pointer",verticalAlign:"middle"}})}),b("React").jsx(u,{prefixes:this.state.prefixes,supportedPrefixes:this.state.fieldConfig.supportedPrefixes,onChange:this.$BUIFilterTokenInput19,contextRef:this.$BUIFilterTokenInput18,ref:"prefixSelector"})]})};d.$BUIFilterTokenInput14=function(a,c){return!a?null:b("React").jsx(b("Image.react"),{className:"_5b5p"+(c?" _4gem":""),src:a})};d.$BUIFilterTokenInput22=function(a){this.props.useSUI_EXPERIMENTAL||l(0,166);return b("React").jsx(b("SUISelectorButton.react"),{height:"short",label:b("React").jsx("div",{"data-hover":"tooltip","data-tooltip-display":"overflow",children:a}),style:b("autoFlipStyleProps")({marginRight:"4px"}),textAlign:"center",uniformOverride:{chevron:null,padding:"4px",margins:{label:{right:"0"}}}})};d.$BUIFilterTokenInput23=function(){this.props.useSUI_EXPERIMENTAL||l(0,166);var a=this.state.operatorConfigOptions.map(function(a){return b("React").jsx(b("SUISelectorOption.react"),{value:a,children:a.text},"operator_"+a.operator)});return b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:b("React").jsx(b("SUISelector.react"),{button:this.$BUIFilterTokenInput22(this.state.operatorConfig.text),maxHeight:400,value:this.state.operatorConfig,onChange:this.$BUIFilterTokenInput24,children:a},"operator_"+this.state.fieldConfig.field.name)})};d.$BUIFilterTokenInput25=function(){var a=this.state.operatorConfigOptions.map(function(a){return b("React").jsx(b("GeoSelectorItem.react"),{label:a.text,value:a},"operator_"+a.operator)});return b("React").jsx(b("GeoSelector.react"),{label:"",isLabelHidden:!0,value:this.state.operatorConfig,onChange:this.$BUIFilterTokenInput24,children:a},"operator_"+this.state.fieldConfig.field.name)};d.$BUIFilterTokenInput26=function(a,b){b=b.get(a);return!b?null:this.$BUIFilterTokenInput27(b)};d.$BUIFilterTokenInput28=function(a,c){var d=this;switch(a.type){case"separator":return b("React").jsx(b("SUISelectorSeparator.react"),{});case"item":return this.$BUIFilterTokenInput26(a.item,c);case"group":var e=b("compactArray")(a.children.map(function(a){return d.$BUIFilterTokenInput26(a,c)}));return this.$BUIFilterTokenInput29(a.group,a.label,e)}return l(!1,"Unsupported item type: %s",a.type)};d.$BUIFilterTokenInput30=function(a,c){__p&&__p();var d=this;if(!c)return a.map(this.$BUIFilterTokenInput27);var e=new Map();a.forEach(function(a){var b=a.field.toString();e.has(b)&&l(0,167,b);e.set(b,a)});return b("compactArray")(c.map(function(a){return d.$BUIFilterTokenInput28(a,e)}))};d.$BUIFilterTokenInput29=function(a,c,d){return b("React").jsx(b("SUISelectorOptionGroup.react"),{label:c,children:d},a)};d.$BUIFilterTokenInput33=function(){var a=b("BUIFilterTokenSearchableInputUtils").getSUIFieldSearchSource(this.state.fieldConfigOptions,this.props.fieldGroupingConfig),c=b("BUIFilterTokenSearchableInputUtils").getSearchableEntry(this.state.fieldConfig);return b("React").jsx(b("SUISearchableSelector.react"),{areCategoriesCollapsible:!0,button:this.$BUIFilterTokenInput22(this.state.fieldConfig.text),dropdownWidth:240,getTooltipForEntry:function(a){return a.getAuxiliaryData().adsHelpLinkText},hasCategories:!0,height:"short",initiallyExpandedCategories:[a[1].getType()],isDisabled:this.props.disableFieldSelector,maxHeight:400,shouldOpenAutomatically:this.props.autoOpenFieldSelector,theme:b("SUIBusinessTheme"),value:c,searchSource:new(b("StaticSearchSource"))(a),onChange:this.$BUIFilterTokenInput34})};d.$BUIFilterTokenInput35=function(){this.props.useSUI_EXPERIMENTAL||l(0,166);var a=this.$BUIFilterTokenInput30(this.state.fieldConfigOptions,this.props.fieldGroupingConfig);return b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:b("React").jsx(b("SUISelector.react"),{button:this.$BUIFilterTokenInput22(this.state.fieldConfig.text),disabled:this.props.disableFieldSelector,dropdownWidth:240,maxHeight:400,shouldOpenAutomatically:this.props.autoOpenFieldSelector,value:this.state.fieldConfig,onChange:this.$BUIFilterTokenInput32,children:a},"field_"+this.state.fieldConfig.field.toString())})};d.$BUIFilterTokenInput10=function(){__p&&__p();var a=this;if(this.props.useSUI_EXPERIMENTAL&&this.props.hasSearchableSelector)return this.$BUIFilterTokenInput33();if(this.props.useGeoOverride)return this.$BUIFilterTokenInput36();if(this.props.useSUI_EXPERIMENTAL)return this.$BUIFilterTokenInput35();var c=this.state.fieldConfigOptions.map(function(c){var d=o,e,f;c.iconURI&&(e=a.$BUIFilterTokenInput14(c.iconURI,c.largeIcon));c.isDynamic&&(c.values===void 0&&(d=b("XUIMenuStaticItem.react"),e=b("React").jsx(b("XUISpinner.react"),{})),c.values===null&&(d=b("XUIMenuStaticItem.react"),e=b("React").jsx(b("Image.react"),{className:"_5b5p",src:g("101449")})));c.adsHelpLinkText&&(f=b("React").jsx(b("SUISimplePopover.react"),{content:c.adsHelpLinkText,theme:b("SUIBusinessTheme")}));return b("React").jsx(d,{disabled:c.isStandalone&&!a.props.canAddStandalone,value:c,children:b("React").jsxs("div",{className:"_5b5q",children:[e,b("React").jsxs("div",{className:"ellipsis _5b5r","data-hover":"tooltip","data-tooltip-display":"overflow",children:[c.text,f]})]})},"field_option_"+c.field.toString())});return b("React").jsx(t,{className:"_5b5s",defaultValue:this.state.fieldConfig,ref:"fieldSelector",disabled:this.props.disableFieldSelector,onChange:this.$BUIFilterTokenInput37,children:c},"field_"+this.state.fieldConfig.field.toString())};d.$BUIFilterTokenInput15=function(){if(this.props.useGeoOverride)return this.$BUIFilterTokenInput25();if(this.props.useSUI_EXPERIMENTAL)return this.$BUIFilterTokenInput23();var a=this.state.operatorConfigOptions.map(function(a){return b("React").jsx(o,{value:a,children:b("React").jsx("div",{className:"_5b5q",children:a.text})},"operator_"+a.operator)});return b("React").jsx(t,{className:"_5b5s",onChange:this.$BUIFilterTokenInput38,defaultValue:this.state.operatorConfig,children:a},"operator_"+this.state.fieldConfig.field.name)};d.$BUIFilterTokenInput16=function(){__p&&__p();var a=this.state.fieldValueRenderer;switch(this.state.fieldConfig.field.type){case b("AdsGenericFilterFieldType").CURRENCY:return this.$BUIFilterTokenInput39("currency");case b("AdsGenericFilterFieldType").NUMBER:return this.$BUIFilterTokenInput39("number");case b("AdsGenericFilterFieldType").DURATION:return this.$BUIFilterTokenInput39("duration");case b("AdsGenericFilterFieldType").PERCENTAGE:return this.$BUIFilterTokenInput39("percentage");case b("AdsGenericFilterFieldType").STRING_SET:case b("AdsGenericFilterFieldType").NUMBER_SET:return this.$BUIFilterTokenInput40();case b("AdsGenericFilterFieldType").DATE_RANGE:return this.$BUIFilterTokenInput41();case b("AdsGenericFilterFieldType").DATETIME_RANGE:return this.$BUIFilterTokenInput42();case b("AdsGenericFilterFieldType").TOKENIZED_TYPEAHEAD:return this.$BUIFilterTokenInput43();default:return b("React").jsx(b("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput44,onEscape:this.props.onCancel,value:a(this.state.value),onChange:this.$BUIFilterTokenInput45,format:"string",shouldFocus:this.state.shouldFocusInput})}};d.$BUIFilterTokenInput39=function(a){if(Array.isArray(this.state.fieldConfig.values))return this.$BUIFilterTokenInput40();var c=this.state.value,d=this.state.fieldValueRenderer;switch(this.state.valueOperator){case"IN_RANGE":case"NOT_IN_RANGE":return b("React").jsxs("div",{className:"_5b5t",children:[b("React").jsx(b("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput44,onEscape:this.props.onCancel,value:d(c[0]),onChange:this.$BUIFilterTokenInput46,format:a,shouldFocus:this.state.shouldFocusInput}),b("React").jsx("span",{className:"_60-g",children:"\u2013"}),b("React").jsx(b("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput44,onEscape:this.props.onCancel,value:d(c[1]),onChange:this.$BUIFilterTokenInput47,format:a})]});default:return b("React").jsx(b("BUIFilterTokenTextInput.react"),{onEnter:this.$BUIFilterTokenInput44,onEscape:this.props.onCancel,value:d(c),onChange:this.$BUIFilterTokenInput45,format:a,shouldFocus:this.state.shouldFocusInput})}};d.$BUIFilterTokenInput41=function(){this.props.timezoneID==null;if(this.state.operatorConfig.operator==="IN_RANGE"||this.state.operatorConfig.operator==="NOT_IN_RANGE"){var a=null,c=r(this.state.value[0]),d=r(this.state.value[1]);c&&d&&(a=new(b("LocalDateInterval"))(c,d));return b("React").jsx(v,{onChange:this.$BUIFilterTokenInput48,timezoneID:this.props.timezoneID||b("Timezone").UTC,value:{interval:a}})}return b("React").jsx(b("BUIDatePicker.react"),{value:r(this.state.value),onChange:this.$BUIFilterTokenInput49})};d.$BUIFilterTokenInput42=function(){switch(this.state.operatorConfig.operator){case"IN_RANGE":case"NOT_IN_RANGE":var a=s(this.state.value[0],this.props.timezoneID),c=s(this.state.value[1],this.props.timezoneID);return b("React").jsxs("div",{className:"_1ogp",children:[b("React").jsx(b("BUIDateTimePicker.react"),{timezoneID:this.props.timezoneID||b("Timezone").UTC,value:a,onChange:this.$BUIFilterTokenInput50}),b("React").jsx("span",{className:"_60-g",children:"\u2013"}),b("React").jsx(b("BUIDateTimePicker.react"),{timezoneID:this.props.timezoneID||b("Timezone").UTC,value:c,onChange:this.$BUIFilterTokenInput51})]});case"AFTER":case"BEFORE":case"GREATER_THAN":case"LESS_THAN":a=s(this.state.value,this.props.timezoneID);return b("React").jsx(b("BUIDateTimePicker.react"),{timezoneID:this.props.timezoneID||b("Timezone").UTC,value:a,onChange:this.$BUIFilterTokenInput52});default:return l(!1,"Unsupported operator %s for date time range filter",this.state.operatorConfig.operator)}};d.$BUIFilterTokenInput43=function(){var a=this.state.value,c=this.state.fieldConfig.converter;c&&(a=c.toEntries(a,this.state.fieldConfig.values));return b("React").jsx(b("BUIFilterTokenTypeaheadInput.react"),{className:this.state.fieldConfig.className,entries:a||[],onChange:this.$BUIFilterTokenInput55,placeholder:this.state.fieldConfig.placeholder,presenter:this.state.fieldConfig.presenter,searchSource:this.state.fieldConfig.searchSource,searchSourceOptions:this.state.fieldConfig.searchSourceOptions,showEntriesOnFocus:!!this.state.fieldConfig.showEntriesOnFocus})};d.$BUIFilterTokenInput12=function(){if(this.props.useGeoOverride){var a=this.props.isEditing?j._("Cancel"):j._("Remove filter");return b("React").jsx(b("FDSGeodesicThemeProvider.react"),{children:b("React").jsx(b("FDSTooltip.react"),{tooltip:a,children:b("React").jsx(b("GeoButton.react"),{label:a,margin:"_3-8r",isLabelHidden:!0,icon:b("React").jsx(b("Image.react"),{src:g("485223")}),onClick:this.$BUIFilterTokenInput59})})})}return b("React").jsx(b("AdsAdoptionCloseButton.react"),{margin:"_3-8h",onClick:this.$BUIFilterTokenInput59})};d.$BUIFilterTokenInput1=function(a,c){var d;(d=b("BUIFilterTokenInputHelper")).calibrateFieldState(a,c);d.calibrateOperatorState(a,c);d.calibrateValueState(a,c);d.calibratePrefixState(a,c);return c};return c}(b("BUIComponent"));c.propTypes={autoOpenFieldSelector:(d=b("prop-types")).bool,defaultFilter:d.instanceOf(b("AdsGenericFilter")),filterBlacklist:d.array,onSubmit:d.func.isRequired,onCancel:d.func,validFieldConfigs:d.array.isRequired,fieldsConfig:d.object.isRequired,timezoneID:d.number,applyOnly:d.bool.isRequired,confirmOnBlur:d.bool.isRequired,dismissOnBlur:d.bool.isRequired,hideMenuOnSingleItem:d.bool,disableFieldSelector:d.bool,canAddStandalone:d.bool,useSUI_EXPERIMENTAL:d.bool,fieldGroupingConfig:d.array,expandTokenInput:d.bool,hasSearchableSelector:d.bool,enableFilterPrefixes:d.bool};c.defaultProps=a;var t=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props.children.length==1&&this.props.hideMenuOnSingleItem;return b("React").jsxs(b("XUISelector.react"),{className:this.props.className,onChange:this.props.onChange,defaultValue:this.props.defaultValue,disabled:a||this.props.disabled,ref:"selector",children:[b("React").jsx(b("XUISelectorButton.react"),{maxwidth:500,className:"_bm6",haschevron:!1,suppressed:!0}),this.props.children]})};d.showMenu=function(){this.refs.selector.showMenu()};return a}(b("React").Component),u=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=this.props.supportedPrefixes.map(function(c,d){var e=c.prefixes,f=function(b){a.props.onChange(d,b)};return b("React").jsxs("div",{className:"_68kn",children:[b("React").jsx(b("SUIText.react"),{display:"block",margin:"_3-8w",size:"meta1",theme:b("SUIBusinessTheme"),children:c.text}),b("React").jsxs(b("SUIRadioList.react"),{value:a.props.prefixes[d]||"",onChange:f,children:[b("React").jsx(n,{value:"",children:j._("Default")}),e.map(function(a,c){return b("React").jsx(n,{value:a.prefix,children:a.text},a.prefix)})]})]},c.key)});c=b("React").jsxs("div",{className:"._68ko",children:[j._("Change additional options on a per-condition basis. Setting a time range will only apply to the selected condition"),b("React").jsx("br",{}),c]});return b("React").jsx(b("SUIPopover.react"),{content:c,delay:300,hoverContextRef:this.props.contextRef,linger:200,position:b("PositionEnum").above,theme:b("SUIBusinessTheme"),title:j._("Additional Filter Options")})};return a}(b("React").Component);u.propTypes={prefixes:d.array,supportedPrefixes:d.array,onChange:d.func,contextRef:d.func};var v=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(b){var d;d=c.call(this,b)||this;d.$2=function(a){d.setState({value:a}),d.props.onChange(a)};d.state={value:a.$1(b)};return d}var d=a.prototype;d.UNSAFE_componentWillReceiveProps=function(b){this.setState(function(c){var d=a.$1(b);return p(c.value.interval,d.interval)?void 0:{value:d}})};a.$1=function(a){a=b("BUIDateRangeUtils").calculateSelectedOption({dateRestraints:a.dateRestraints,defaultIncludeToday:!1,options:b("BUIDateRangePicker.react").defaultProps.options,timezoneID:a.timezoneID,value:a.value&&a.value.interval});return b("BUIDateRangeUtils").rangeSelectionToValue(a)};d.render=function(){return b("React").jsx(b("BUIDateRangePicker.react"),{onChange:this.$2,timezoneID:this.props.timezoneID,value:this.state.value,verbose:"all"})};return a}(b("React").Component);v.propTypes={value:d.shape({interval:d.instanceOf(b("LocalDateInterval"))})};e.exports=c}),null);
__d("BUIFilterToken.react",["ix","cx","fbt","invariant","AdsAdoptionCloseButton.react","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterOperatorConfigUtil","AdsGenericFilterValueTextUtil","AdsPopoverLink_DEPRECATED.react","BUIComponent","BUIFilterTokenInput.react","FDSGeodesicThemeProvider.react","FDSTooltip.react","GeoButton.react","GeoTooltip.react","Image.react","React","ReactDOM","asset","cxMargin","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$BUIFilterToken11=function(){c.props.onEditCancelAttempt&&c.props.onEditCancelAttempt(c.props.filter,c.props.index)},c.$BUIFilterToken17=function(a){a.preventDefault(),!c.$BUIFilterToken1()&&!c.$BUIFilterToken2()&&c.props.onEditAttempt&&c.props.onEditAttempt(c.props.filter,c.props.index)},c.$BUIFilterToken20=function(a){a.preventDefault(),c.props.onRemove(c.props.filter,c.props.index)},c.$BUIFilterToken10=function(a,b,d,e){if(c.props.filterConstructor==null)return;a=new c.props.filterConstructor(a,b,d,{},e);c.props.onChange(a,c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.contentEditable,c="_3yz1"+(a?" _3yz2":"")+(!this.$BUIFilterToken1()&&!this.$BUIFilterToken2()?" _4tod":"")+(this.$BUIFilterToken1()?" _3dad":"")+(this.$BUIFilterToken3()?" _2sy-":"")+(this.$BUIFilterToken4()?" _5k1u":""),d=this.$BUIFilterToken5();return b("React").jsxs("div",{className:c,children:[b("React").jsxs("div",{className:"_3yz4",ref:"filterToken","aria-hidden":!a,children:[this.$BUIFilterToken6(),this.$BUIFilterToken7(),this.$BUIFilterToken8(),this.$BUIFilterToken9()]}),d]})};d.$BUIFilterToken5=function(){return this.props.contentEditable?b("React").jsx(b("BUIFilterTokenInput.react"),{ref:"filterTokenInput",applyOnly:this.$BUIFilterToken1(),className:"_3yz3",defaultFilter:this.props.filter,confirmOnBlur:this.props.confirmOnBlur,dismissOnBlur:this.props.dismissOnBlur,expandTokenInput:this.props.expandTokenInput,onSubmit:this.$BUIFilterToken10,onCancel:this.$BUIFilterToken11,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,filterBlacklist:this.props.filterBlacklist,timezoneID:this.props.timezoneID,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,isEditing:this.props.contentEditable,disableFieldSelector:this.props.disableFieldSelector,canAddStandalone:this.props.canAddStandalone,useGeoOverride:this.props.useGeoOverride,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig,hasSearchableSelector:this.props.hasSearchableSelector,enableFilterPrefixes:this.props.enableFilterPrefixes}):null};d.$BUIFilterToken7=function(){if(!this.$BUIFilterToken12())return null;var a=this.$BUIFilterToken13();return b("React").jsx(b("Image.react"),{"aria-label":a.deprecationMessage,className:"_3-99","data-hover":"tooltip","data-tooltip-content":a.deprecationMessage,src:g("140185")})};d.componentDidMount=function(){this.$BUIFilterToken14()};d.componentDidUpdate=function(){this.$BUIFilterToken14()};d.$BUIFilterToken6=function(){var a=this.$BUIFilterToken15(),c=a.fieldIcon,d=a.fieldText,e=a.operatorText;a=a.valueText;e=this.$BUIFilterToken16(e,a);return b("React").jsxs("div",{className:"_3yz5",onClick:this.$BUIFilterToken17,role:"presentation",children:[this.$BUIFilterToken18(c),b("React").jsx("div",{className:"_3yz7",children:d}),b("React").jsx("div",{className:"ellipsis _3yz8","data-hover":"tooltip","data-tooltip-display":"overflow",children:e})]})};d.$BUIFilterToken18=function(a){var c=a.uri;a=a.isLarge;return!c?null:b("React").jsx(b("Image.react"),{className:"_3yz6"+(a?" _5whs":""),src:c})};d.$BUIFilterToken8=function(){var a=this.$BUIFilterToken3();if(!this.$BUIFilterToken19()){if(this.props.useGeoOverride){var c,d=i._("Remove filter");return(c=b("React")).jsx(b("FDSGeodesicThemeProvider.react"),{children:c.jsx(b("FDSTooltip.react"),{tooltip:d,children:c.jsx(b("GeoButton.react"),{label:d,isLabelHidden:!0,icon:c.jsx(b("Image.react"),{src:g("485223")}),onClick:this.$BUIFilterToken20})})})}return b("React").jsx("span",{className:"_653d _3-99 _1t-2 _3yz9",children:b("React").jsx(b("AdsAdoptionCloseButton.react"),{shade:a?"light":"dark",onClick:this.$BUIFilterToken20})})}return null};d.$BUIFilterToken9=function(){__p&&__p();if(this.props.theme!=="regular")return null;var a=this.props.filter.extraRenderingProps;a=a.tooltip;if(a){var c=a.render();if(!c)return null;var d=this.$BUIFilterToken21(a.type);return b("React").jsx("span",{className:"_5pjl"+(a.type==="notify"?" _5pjm":"")+(a.type==="recommend"?" _5pjo":"")+(a.type==="warn"?" _5pjp":""),children:b("React").jsx(b("AdsPopoverLink_DEPRECATED.react"),{imgHover:d,imgNormal:d,linkContainerClassName:"_5pkj",onClick_DEPRECATED:this.$BUIFilterToken17,popover:c,width:400})})}return null};d.$BUIFilterToken21=function(a){switch(a){case"notify":return g("115127");case"warn":return g("114553");case"recommend":return g("114553")}return j(!1,"no icon for tooltipType %s",a)};d.$BUIFilterToken2=function(){return this.props.disabled||this.$BUIFilterToken19()||this.$BUIFilterToken12()};d.$BUIFilterToken15=function(){var a=this.$BUIFilterToken13();return{fieldIcon:{uri:a.iconURI,isLarge:!!a.largeIcon},fieldText:this.$BUIFilterToken22(a),operatorText:a.isStatic?"":this.$BUIFilterToken23(),valueText:b("AdsGenericFilterValueTextUtil").getValueText(this.props.filter,a,this.props.valuesConfig)}};d.$BUIFilterToken13=function(){return b("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,this.props.filter.field)};d.$BUIFilterToken1=function(){var a=this.$BUIFilterToken13();return!!a.applyOnly};d.$BUIFilterToken24=function(){var a=this.$BUIFilterToken13();return!!a.isFieldOnly};d.$BUIFilterToken19=function(){var a=this.$BUIFilterToken13();return this.props.isReadOnly||!!a.isReadOnly};d.$BUIFilterToken25=function(){var a=this.$BUIFilterToken13();return!!a.getTokenTextByValue};d.$BUIFilterToken3=function(){return this.props.theme==="dark"};d.$BUIFilterToken4=function(){return this.props.theme==="plain"};d.$BUIFilterToken22=function(a){__p&&__p();var c=this,d=a.text,e=a.isFieldOnly?"":":",f=a.supportedPrefixes||[];f=f.map(function(a,d){a=a.prefixes;if(d>=c.props.filter.prefixes.length)return"";var e=c.props.filter.prefixes[d];d=a.find(function(a){return e&&a.prefix===e});return!d?"":b("React").jsxs("span",{children:[d.text," "]},d.text)});if(this.props.enableFilterPrefixes&&f.find(function(a){return a!==""}))return i._("{field prefixes}{field}{field colon}",[i._param("field prefixes",f),i._param("field",d),i._param("field colon",e)]);else if(this.$BUIFilterToken25())return a.getTokenTextByValue(this.props.filter.value);else return i._("{field}{field colon}",[i._param("field",d),i._param("field colon",e)])};d.$BUIFilterToken23=function(){var a=this.props.filter.operator;a=b("AdsGenericFilterOperatorConfigUtil").getConfigByOperator(a);return a.shortText||""};d.$BUIFilterToken16=function(a,c){if(this.$BUIFilterToken1())return i._("({value})",[i._param("value",c)]);else if(this.$BUIFilterToken24()||this.$BUIFilterToken25())return"";else{a=a?b("React").jsx("span",{className:"_3_lp",children:a}):"";return i._("{operator}{value}",[i._param("operator",a),i._param("value",c)])}};d.$BUIFilterToken14=function(){__p&&__p();if(!this.refs.filterToken)return;var a=b("ReactDOM").findDOMNode(this.refs.filterToken);if(this.$BUIFilterToken1()&&this.refs.filterTokenInput){var c=b("ReactDOM").findDOMNode(this.refs.filterTokenInput);c=getComputedStyle(c).width;c=parseInt(c,10)+k;a.style.width=c+"px"}else a.style.width="auto"};d.$BUIFilterToken12=function(){var a=this.$BUIFilterToken13();return!!a.deprecationMessage};return c}(b("BUIComponent"));a.propTypes={contentEditable:(c=b("prop-types")).bool.isRequired,disabled:c.bool,confirmOnBlur:c.bool,dismissOnBlur:c.bool.isRequired,index:c.number.isRequired,isReadOnly:c.bool,filter:c.instanceOf(b("AdsGenericFilter")).isRequired,onChange:c.func.isRequired,onRemove:c.func.isRequired,onEditAttempt:c.func,onEditCancelAttempt:c.func,validFieldConfigs:c.array.isRequired,filterBlacklist:c.array,filterConstructor:c.func,fieldsConfig:c.object.isRequired,valuesConfig:c.object.isRequired,theme:c.oneOf(["regular","dark","plain"]).isRequired,timezoneID:c.number,hideMenuOnSingleItem:c.bool,disableFieldSelector:c.bool,canAddStandalone:c.bool,useGeoOverride:c.bool,useSUI_EXPERIMENTAL:c.bool,fieldGroupingConfig:c.array,expandTokenInput:c.bool,hasSearchableSelector:c.bool,enableFilterPrefixes:c.bool};a.defaultProps={confirmOnBlur:!1,dismissOnBlur:!0,filterConstructor:b("AdsGenericFilter"),theme:"regular",hasSearchableSelector:!1};e.exports=a}),null);
__d("BUIFilterTokenCreateButton.react",["ix","cx","fbt","xuiglyph","BUIComponent","BUIFilterTokenInput.react","Image.react","React","XUIButton.react","asset","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={editing:c.props.isInitiallyEditing,field:null,operator:null,value:null,prefixes:null},c.$BUIFilterTokenCreateButton5=function(a){__p&&__p();a.preventDefault();c.setState({editing:!0});a=c.props;var b=a.useGeoOverride,d=a.onCreateButtonToggle;a=a.searchContainerRef;d&&d(!0);if(b&&a&&a.current){var e=a.current;window.requestAnimationFrame(function(){e.scrollTop=e.scrollHeight})}},c.$BUIFilterTokenCreateButton2=function(){c.setState({editing:!1}),c.props.onCreateButtonToggle&&c.props.onCreateButtonToggle(!1)},c.$BUIFilterTokenCreateButton1=function(a,b,d,e){e===void 0&&(e=[]),c.setState({editing:!1,field:a,operator:b,value:d,prefixes:e},c.$BUIFilterTokenCreateButton6)},c.$BUIFilterTokenCreateButton6=function(){c.props.onSubmit(c.state.field,c.state.operator,c.state.value,c.state.prefixes),c.props.onCreateButtonToggle&&c.props.onCreateButtonToggle(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(this.state.editing)return b("React").jsx("div",{className:"_1tc",children:b("React").jsx(b("BUIFilterTokenInput.react"),{autoOpenFieldSelector:this.props.autoOpenFieldSelector,className:"_1tb",confirmOnBlur:this.props.confirmOnBlur,dismissOnBlur:this.props.dismissOnBlur,expandTokenInput:this.props.expandTokenInput,filterBlacklist:this.props.filterBlacklist,onSubmit:this.$BUIFilterTokenCreateButton1,onCancel:this.$BUIFilterTokenCreateButton2,timezoneID:this.props.timezoneID,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,canAddStandalone:this.props.canAddStandalone,useGeoOverride:this.props.useGeoOverride,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig,hasSearchableSelector:this.props.hasSearchableSelector,enableFilterPrefixes:this.props.enableFilterPrefixes})});else{var a=this.$BUIFilterTokenCreateButton3();return b("React").jsx("div",{className:"_1tc"+(this.$BUIFilterTokenCreateButton4()?" _1wde":""),children:b("React").jsx(b("XUIButton.react"),{className:"_1wdf",size:"small",onClick:this.$BUIFilterTokenCreateButton5,image:a,label:i._("Create Filter"),labelIsHidden:!0})})}};d.$BUIFilterTokenCreateButton3=function(){var a;this.props.useGeoOverride?a=g("483768"):this.$BUIFilterTokenCreateButton4()?a=g("89674"):a=g("89668");return b("React").jsx(b("Image.react"),{src:a})};d.$BUIFilterTokenCreateButton4=function(){return this.props.theme==="dark"};return c}(b("BUIComponent"));a.propTypes={autoOpenFieldSelector:(c=b("prop-types")).bool,confirmOnBlur:c.bool,dismissOnBlur:c.bool,filterBlacklist:c.array,onSubmit:c.func.isRequired,onCreateButtonToggle:c.func,validFieldConfigs:c.array.isRequired,fieldsConfig:c.object.isRequired,theme:c.oneOf(["regular","dark"]).isRequired,timezoneID:c.number,hideMenuOnSingleItem:c.bool,isInitiallyEditing:c.bool,canAddStandalone:c.bool,useGeoOverride:c.bool,useSUI_EXPERIMENTAL:c.bool,fieldGroupingConfig:c.array,expandTokenInput:c.bool,hasSearchableSelector:c.bool,enableFilterPrefixes:c.bool};a.defaultProps={autoOpenFieldSelector:!1,confirmOnBlur:!1,isInitiallyEditing:!1,theme:"regular",hasSearchableSelector:!1,enableFilterPrefixes:!1};e.exports=a}),null);
__d("BUIFilterTokenizer.react",["ix","cx","fbt","invariant","AdsCMSaveFilterSetDialog.react","AdsFilterChangeTypes","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterSet","BUIComponent","BUIFilterToken.react","BUIFilterTokenCreateButton.react","DOM","GeoButton.react","Image.react","React","ReactDOM","ShimButton.react","SUIButton.react","XUIAmbientNUX.react","asset","curry","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a={autoOpenAddButtonFieldSelector:!1,autoOpenAddButtonWhenEmpty:!1,confirmTokensOnBlur:!1,disableSaveButton:!1,dismissTokensOnBlur:!0,expandTokenInput:!1,filterSetConstructor:b("AdsGenericFilterSet"),filterConstructor:b("AdsGenericFilter"),hasSearchableSelector:!1,hideLabel:!1,hideAddButton:!1,inlineMode:!1,theme:"regular",verticalLayout:!1,enableFilterPrefixes:!1,allowDuplication:!0};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=d.$BUIFilterTokenizer1(),d.searchContainerRef=b("React").createRef(),d.$BUIFilterTokenizer24=function(a,b){d.setState({activeFilter:a})},d.$BUIFilterTokenizer23=function(a,b){d.$BUIFilterTokenizer29(a.value)?d.$BUIFilterTokenizer25(a,b):d.setState({activeFilter:null})},d.$BUIFilterTokenizer25=function(a,c){if(d.props.filterSet){a=d.props.filterSet.values.slice(0);a.splice(c,1);c=a.length?new d.props.filterSetConstructor(a):null;d.props.onChange(c,b("AdsFilterChangeTypes").REMOVE,d.$BUIFilterTokenizer6())}},d.$BUIFilterTokenizer26=function(a,c){var e=d.$BUIFilterTokenizer30();e[c]=a;c=b("curry")(d.props.onChange,new d.props.filterSetConstructor(e),b("AdsFilterChangeTypes").EDIT);d.setState({activeFilter:null},c)},d.$BUIFilterTokenizer16=function(a,c,e,f){var g=d.props.filterSet?d.props.filterSet.values.slice(0):[];g.push(new d.props.filterConstructor(a,c,e,{},f||[]));a=d.props.filterSetConstructor&&new d.props.filterSetConstructor(g);d.props.onChange(a,b("AdsFilterChangeTypes").ADD_INPUT,d.$BUIFilterTokenizer6())},d.$BUIFilterTokenizer20=function(a){var b=d.props.onClear;b&&b(a,d.$BUIFilterTokenizer6())},d.$BUIFilterTokenizer18=function(){var a=b("DOM").create("div");function c(){b("ReactDOM").unmountComponentAtNode(a)}b("ReactDOM").render(b("React").jsx(b("AdsCMSaveFilterSetDialog.react"),{onSave:d.props.onSave,onHide:c}),a)},d.$BUIFilterTokenizer27=function(a,b){d.$BUIFilterTokenizer28(),d.$BUIFilterTokenizer26(a,b)},d.$BUIFilterTokenizer28=function(){d.props.onApplyOnlyRemove&&d.props.onApplyOnlyRemove()},d.$BUIFilterTokenizer17=function(a){a&&(!d.props.dismissTokensOnBlur||!d.props.dismissCreatedTokensOnBlur)&&d.setState({activeFilter:null}),d.props.onCreateButtonToggle&&d.props.onCreateButtonToggle(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$BUIFilterTokenizer1=function(){return{activeFilter:this.$BUIFilterTokenizer2(),validFieldConfigs:c.$BUIFilterTokenizer3(this.props.validFieldConfigs)}};c.getDerivedStateFromProps=function(a,b){var d=b.activeFilter;b=b.validFieldConfigs;var e=null,f=!1;a.validFieldConfigs&&(b=c.$BUIFilterTokenizer3(a.validFieldConfigs));a.filterSet&&a.filterSet.values.forEach(function(a){d&&d.key===a.key&&(f=!0),(a.value===""||a.value.length===0)&&(e=a)});f||(d=e);return{activeFilter:d,validFieldConfigs:b}};d.render=function(){__p&&__p();var a=this.$BUIFilterTokenizer4(),c=this.$BUIFilterTokenizer5(),d=c.tokens,e=c.filterBlacklist;c=c.incompleteTokenCount;var f=this.$BUIFilterTokenizer6();e=this.$BUIFilterTokenizer7(f,e);f=this.$BUIFilterTokenizer8(f,c);c=this.$BUIFilterTokenizer9(d);var h=this.$BUIFilterTokenizer10(this.props.applyOnlyFilter),i=this.$BUIFilterTokenizer11(this.props.trailingNotice),j=this.$BUIFilterTokenizer12(),k=b("joinClasses")(this.props.className,""+(this.$BUIFilterTokenizer13()?" _1nj0":"")+(this.$BUIFilterTokenizer13()?" _2sy-":"")+(this.props.inlineMode?" _5xvq":"")+(this.props.expandTokenInput?" _659z":"")+(this.props.useGeoOverride?"":" clearfix"));f=b("React").jsxs("div",{className:"_49u3",children:[f,c,j]});if(this.props.useGeoOverride){c=this.props.isEditing;j=d.length||a||h||c;var l=b("React").jsxs("span",{className:"_8yw1",ref:this.searchContainerRef,children:[b("React").jsx(b("Image.react"),{className:"_8yw2",src:g("485232")}),d,h,c?e:null]});return b("React").jsxs("div",{className:k,children:[b("React").jsxs("span",{className:"_8yw3",children:[j&&l,c?null:e,i]}),f]})}return b("React").jsxs("div",{className:k,children:[a,d,h,e,i,f]})};d.$BUIFilterTokenizer5=function(){__p&&__p();var a=this,c=[],d={},e=this.props.filterBlacklist?[].concat(this.props.filterBlacklist):[],f=0;this.props.filterSet&&this.props.filterSet.values.forEach(function(g,h){var i=g.field,k=b("AdsGenericFilterFieldConfigUtil").getConfigByField(a.props.fieldsConfig,i);if(k){i=i.name;f+=!g.isComplete();(!a.props.allowDuplication||!k.allowDuplication)&&(e.push(g),d[i]&&j(0,4210,i),d[i]=!0);c.push(a.$BUIFilterTokenizer14(g,h))}});return{tokens:c,filterBlacklist:e,incompleteTokenCount:f}};d.$BUIFilterTokenizer15=function(){var a=this,c=this.props.filterSet;return c?c.values.some(function(c){c=b("AdsGenericFilterFieldConfigUtil").getConfigByField(a.props.fieldsConfig,c.field);return c.isStandalone}):!1};d.$BUIFilterTokenizer7=function(a,c){return!this.props.disableCreateNewButton&&!this.props.hideAddButton&&!this.props.isReadOnly&&!this.$BUIFilterTokenizer15()&&a<this.state.validFieldConfigs.length?b("React").jsx(b("BUIFilterTokenCreateButton.react"),{autoOpenFieldSelector:this.props.autoOpenAddButtonFieldSelector,confirmOnBlur:this.props.confirmTokensOnBlur,dismissOnBlur:this.props.dismissCreatedTokensOnBlur,expandTokenInput:this.props.expandTokenInput,filterBlacklist:c,hasSearchableSelector:this.props.hasSearchableSelector,isInitiallyEditing:a===0&&this.props.autoOpenAddButtonWhenEmpty||this.props.isEditing,onSubmit:this.$BUIFilterTokenizer16,validFieldConfigs:this.state.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,searchContainerRef:this.searchContainerRef,theme:this.props.theme,timezoneID:this.props.timezoneID,onCreateButtonToggle:this.$BUIFilterTokenizer17,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,canAddStandalone:a===0,useGeoOverride:this.props.useGeoOverride,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig,enableFilterPrefixes:this.props.enableFilterPrefixes}):null};d.$BUIFilterTokenizer8=function(a,c){var d=this.props.disableSaveButton;if(a>c&&this.props.onSave){a=i._("Save Filter");c=d||this.state.activeFilter?null:this.$BUIFilterTokenizer18;return this.props.useGeoOverride?b("React").jsx(b("GeoButton.react"),{label:a,onClick:c,variant:"flat",isDisabled:d}):b("React").jsxs("span",{children:[b("React").jsx(b("ShimButton.react"),{className:"_49u2"+(d||this.state.activeFilter?" _wda":"")+" _3yz4 _3yz8",onClick:c,ref:"saveButton",children:a}),this.$BUIFilterTokenizer19()]})}return null};d.$BUIFilterTokenizer19=function(){var a=this;if(this.props.showSaveButtonNUX){this.props.onSaveButtonNUXSeen&&this.props.onSaveButtonNUXSeen();return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",offsetY:-10,position:"below",width:"custom",customwidth:390,contextRef:function(){return a.refs.saveButton},shown:this.props.showSaveButtonNUX,onCloseButtonClick:this.props.onSaveButtonNUXClosed,children:i._("New! Save your custom filters to streamline your work. Saved filters appear in your filter menu.")})}return null};d.$BUIFilterTokenizer9=function(a){if(!this.props.isReadOnly&&a.length>0&&this.props.onClear){a=i._("Clear");return this.props.useGeoOverride?b("React").jsx(b("GeoButton.react"),{label:a,onClick:this.$BUIFilterTokenizer20,variant:"flat"}):b("React").jsx(b("ShimButton.react"),{className:"_49u2 _3yz4 _3yz8",onClick:this.$BUIFilterTokenizer20,children:a})}return null};d.$BUIFilterTokenizer12=function(){return this.props.onCancel?b("React").jsx("div",{className:"_3-8_",children:b("React").jsx(b("SUIButton.react"),{height:"tall",label:i._("Cancel"),onClick:this.props.onCancel})}):null};d.$BUIFilterTokenizer4=function(){if(!this.props.hideLabel)return b("React").jsx("span",{className:"_3o1w",children:i._("Filters:")})};d.$BUIFilterTokenizer14=function(a,c){var d=this.$BUIFilterTokenizer21(a),e=this.$BUIFilterTokenizer22(a),f=this.$BUIFilterTokenizer6();return b("React").jsx("div",{className:this.props.verticalLayout?"":"_3u0k",children:b("React").jsx(b("BUIFilterToken.react"),{contentEditable:k(this.state.activeFilter,a),disabled:!e||this.props.isReadOnly,confirmOnBlur:this.props.confirmTokensOnBlur,dismissOnBlur:this.props.dismissTokensOnBlur,expandTokenInput:this.props.expandTokenInput,filter:a,hasSearchableSelector:this.props.hasSearchableSelector,isReadOnly:this.props.isReadOnly,index:c,onEditCancelAttempt:this.$BUIFilterTokenizer23,onEditAttempt:this.$BUIFilterTokenizer24,onRemove:this.$BUIFilterTokenizer25,onChange:this.$BUIFilterTokenizer26,validFieldConfigs:d,filterBlacklist:this.props.filterBlacklist,filterConstructor:this.props.filterConstructor,fieldsConfig:this.props.fieldsConfig,valuesConfig:this.props.valuesConfig,timezoneID:this.props.timezoneID,theme:this.props.theme,hideMenuOnSingleItem:this.props.hideMenuOnSingleItem,disableFieldSelector:this.props.disableFieldSelector,canAddStandalone:f<=1,useGeoOverride:this.props.useGeoOverride,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig,enableFilterPrefixes:this.props.enableFilterPrefixes})},"token"+c)};d.$BUIFilterTokenizer11=function(a){return!a?null:b("React").jsx("div",{className:"_4pfn",children:a})};d.$BUIFilterTokenizer10=function(a){if(!a)return null;var c=this.props.filterSet?this.props.filterSet.values.length:0,d=b("AdsGenericFilterFieldConfigUtil").getConfigByField(this.props.fieldsConfig,a.field);return b("React").jsx("div",{className:this.props.verticalLayout?"":"_3u0k",children:b("React").jsx(b("BUIFilterToken.react"),{applyOnly:!0,contentEditable:!0,dismissOnBlur:!1,fieldsConfig:this.props.fieldsConfig,filter:a,filterConstructor:this.props.filterConstructor,hasSearchableSelector:this.props.hasSearchableSelector,index:c,onChange:this.$BUIFilterTokenizer27,onRemove:this.$BUIFilterTokenizer28,onEditCancelAttempt:this.$BUIFilterTokenizer28,theme:this.props.theme,timezoneID:this.props.timezoneID,validFieldConfigs:[d],valuesConfig:this.props.valuesConfig,useGeoOverride:this.props.useGeoOverride,useSUI_EXPERIMENTAL:this.props.useSUI_EXPERIMENTAL,fieldGroupingConfig:this.props.fieldGroupingConfig,enableFilterPrefixes:this.props.enableFilterPrefixes})},"token"+c)};d.$BUIFilterTokenizer2=function(){if(this.props.filterSet)return this.props.filterSet.values.find(function(a){return a.value===""})};d.$BUIFilterTokenizer30=function(){var a;this.props.filterSet?a=this.props.filterSet.values.slice(0):a=[];return a};d.$BUIFilterTokenizer21=function(a){var c=this;return this.state.validFieldConfigs.filter(function(d){if(a.field.key===d.field.key)return!0;return d.allowDuplication&&c.props.allowDuplication?!0:!b("AdsGenericFilterFieldConfigUtil").isFieldInFilterSet(d.field,c.props.filterSet)})};d.$BUIFilterTokenizer29=function(a){if(a==="")return!0;return Array.isArray(a)&&a.length===0?!0:!1};d.$BUIFilterTokenizer22=function(a){return this.state.validFieldConfigs.some(function(b){return a.field.key===b.field.key&&!b.isStatic})};d.$BUIFilterTokenizer6=function(){var a=this;return!this.props.filterSet?0:this.props.filterSet.values.filter(function(b){return a.state.validFieldConfigs.some(function(a){return b.field.key===a.field.key})}).length};c.$BUIFilterTokenizer3=function(a){return a.filter(function(a){return!a.applyOnly})};d.$BUIFilterTokenizer13=function(){return this.props.theme==="dark"};return c}(b("BUIComponent"));c.defaultProps=a;function k(a,b){if(a&&b)return a.key===b.key;else return a===b}e.exports=c}),null);